(window.webpackJsonp=window.webpackJsonp||[]).push([[33],[,,,,,,,,function(module,exports,__webpack_require__){"use strict";__webpack_require__(564),__webpack_require__(570),__webpack_require__(571),__webpack_require__(583),module.exports={browser:__webpack_require__(74),clipboard:__webpack_require__(584),enhanceFileInput:__webpack_require__(370),IpMask:__webpack_require__(127),ipParser:__webpack_require__(371),MultiInput:__webpack_require__(585),highlighter:__webpack_require__(125),nonBlockingSort:__webpack_require__(207),notify:__webpack_require__(372),Tooltip:__webpack_require__(59),PopUp:__webpack_require__(78),TooltipKey:__webpack_require__(208),Omniselect:__webpack_require__(158),Sliderin:__webpack_require__(373),slideUtil:__webpack_require__(586),MuTable:__webpack_require__(374),MuTableEntryFormatter:__webpack_require__(608),muTableUtil:__webpack_require__(109),treeUtil:__webpack_require__(389),util:__webpack_require__(39),shortcuts:__webpack_require__(160),formatters:__webpack_require__(380),SetSequence:__webpack_require__(609),MapSequence:__webpack_require__(610),animation:__webpack_require__(159),lang:__webpack_require__(47),log:__webpack_require__(45),dom:__webpack_require__(40),dateTime:__webpack_require__(110),resourceBarUtil:__webpack_require__(381),colors:__webpack_require__(611),Destroyable:__webpack_require__(206),Cloneable:__webpack_require__(363),GlobalSearch:__webpack_require__(617),topology:__webpack_require__(621),graph:__webpack_require__(165)}},,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";__webpack_require__(35),__webpack_require__(645),module.exports={services:__webpack_require__(737)}},,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";module.exports=angular.module("ftnt-gui",["ngSanitize"])},,,,function(module,exports,__webpack_require__){"use strict";const Cloneable=__webpack_require__(363),util={};util.FOCUSABLE_SELECTOR=['a[href]:not([tabindex="-1"])','area[href]:not([tabindex="-1"])','input:not([disabled]):not([tabindex="-1"])','select:not([disabled]):not([tabindex="-1"])','textarea:not([disabled]):not([tabindex="-1"])','button:not([disabled]):not([tabindex="-1"])','[tabindex]:not([tabindex="-1"])','[contentEditable=true]:not([tabindex="-1"])',"input[type=radio]:not(.bare)+label"].join(",");const NO_LOCALE_COMPARE_REGEX=/^[\u0020-\u007F]*$/;let COLLATOR;try{COLLATOR=new Intl.Collator(void 0,{sensitivity:"base"})}catch(e){COLLATOR={compare:function(a,b){String.prototype.localeCompare.call(a,b)}}}util.fastLocaleCompare=function(a,b){let aString=null!=a?a.toString():"",bString=null!=b?b.toString():"";return NO_LOCALE_COMPARE_REGEX.test(aString)&&NO_LOCALE_COMPARE_REGEX.test(bString)?(aString=aString.toLowerCase())>(bString=bString.toLowerCase())?1:aString===bString?0:-1:COLLATOR.compare(aString,bString)},util.uniqueID=function(){return"_"+Math.random().toString(36).substr(2,9)},util.debounce=function(wait,fn){var timeout;return function(){var context=this,args=arguments;window.clearTimeout(timeout),timeout=window.setTimeout(function(){fn.apply(context,args)},wait)}},util.throttle=function(func,delay,noTrailing){var throttled,lastExecuted=0;return function(){var context=this,args=arguments,elapsed=Date.now()-lastExecuted;function execute(){lastExecuted=Date.now(),func.apply(context,args)}window.clearTimeout(throttled),elapsed>delay?execute():noTrailing||(throttled=window.setTimeout(execute,delay-elapsed))}},util.getOrigin=function(targetWindow){var loc=(targetWindow=targetWindow||window).location,origin="*";return targetWindow.frameElement&&targetWindow.frameElement.srcdoc||(origin=loc.origin||loc.protocol+"//"+loc.host),origin},util.isTrustedOrigin=function(origin){var isSafe=!0,safeOrigin=util.getOrigin();return"*"!==safeOrigin&&(isSafe=origin===safeOrigin),isSafe},util.getComputedStyle=function(elem){var view=elem.ownerDocument.defaultView;return view&&view.opener||(view=window),view.getComputedStyle(elem)},util.elementIsFlex=function(elem){return/flex/.test(util.getComputedStyle(elem).display)};var PRE_REGEX_ESCAPE_REGEX=/[-/\\^$*+?.()|[\]{}]/g;util.preRegexEscape=function(value){return value.replace(PRE_REGEX_ESCAPE_REGEX,"\\$&")},util.elementMatchesSelector=function(element,selector){var i,fn,possibleFunctionNames=["matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector"];for(i=0;i<possibleFunctionNames.length;i++)if("function"==typeof(fn=element[possibleFunctionNames[i]]))return fn.call(element,selector);throw new Error("Browser doesn't support selector matching")},util.binaryInsertIndex=function(list,entry,comparator,params){var comparison,current,lowerBound,upperBound;params=params||{};var length=list.length;if(0===length)return 0;for(lowerBound=params.startIndex||0,upperBound=params.endIndex||length-1;;){if(0===(comparison=comparator(list[current=Math.ceil((lowerBound+upperBound)/2)],entry)))return current;if(comparison<0){if((lowerBound=current+1)>upperBound)return current+1}else if(lowerBound>(upperBound=current-1))return current}},util.objectIsThenable=function(obj){return obj&&"function"==typeof obj.then},util.escapeLiteralStringForRegex=function(string){return function(input){return input.replace(/\$/g,"$$$$")}(string.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"))},util.isObject=function(obj){const type=typeof obj;return("function"===type||"object"===type)&&!!obj},util.isPlainObject=function(obj){return"[object Object]"===Object.prototype.toString.call(obj)},util.assignDeep=function(target,...sources){if(!sources.length)return target;const source=sources.shift();if(Array.isArray(target)&&Array.isArray(source))for(const entry of source)Array.isArray(entry)?target.push(util.assignDeep([],entry)):util.isPlainObject(entry)?target.push(util.assignDeep(Object.create(null),entry)):target.push(entry);else if(util.isPlainObject(target)&&util.isPlainObject(source)){const propNames=Object.getOwnPropertyNames(source);for(const name of propNames)Array.isArray(source[name])?(Array.isArray(target[name])||(target[name]=[]),util.assignDeep(target[name],source[name])):util.isPlainObject(source[name])?(target[name]||(target[name]=Object.create(null)),util.assignDeep(target[name],source[name])):target[name]=source[name]}return util.assignDeep(target,...sources)},util.deepFreeze=function(obj){const propNames=Object.getOwnPropertyNames(obj);for(let name of propNames){const value=obj[name];Object.isFrozen(value)||(obj[name]=util.isObject(value)?util.deepFreeze(value):value)}return Object.isFrozen(obj)||Object.freeze(obj),obj},util.cloneObject=function(object){if(object instanceof Cloneable)return object.clone();{let clone={};return object.constructor&&"Object"!==object.constructor.name&&(clone=Object.create(object)),util.assignDeep(clone,object),clone}},util.createTextFile=function(params={}){const blob=new Blob([params.content],{type:"text/plain"}),a=document.createElement("a");a.href=URL.createObjectURL(blob),a.setAttribute("download",params.name),a.classList.add("invisible"),document.body.appendChild(a),a.click(),document.body.removeChild(a)},util.setElementContent=function(element,content,params){for(params=params||{};element.lastChild;)element.removeChild(element.lastChild);content instanceof HTMLElement||content instanceof DocumentFragment?element.appendChild(content):"string"==typeof content&&params.allowHTML?element.innerHTML=content:element.textContent=null!=content?content.toString():""},util.isInt=function(n){return Number(n)===n&&n%1==0},util.isFloat=function(n){return Number(n)===n&&n%1!=0},module.exports=util},function(module,exports,__webpack_require__){"use strict";module.exports.elem=__webpack_require__(568),module.exports.fragment=__webpack_require__(569),module.exports.getElementOffset=function(element){var rect=element.getBoundingClientRect(),documentScrollTop=window.pageYOffset||document.documentElement.scrollTop,documentScrollLeft=window.pageXOffset||document.documentElement.scrollLeft;return{top:rect.top+documentScrollTop,left:rect.left+documentScrollLeft}};var entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;","\\":"&bsol;"},entityRegex=/[&<>"'\\]/g,entityHTML=function(s){return entityMap[s]};module.exports.escapeHTML=function(string){return entityRegex.test(string)?string.replace(entityRegex,entityHTML):string}},,,,,function(module,exports,__webpack_require__){"use strict";var BASE_STYLE="font-weight: normal; padding: 0 5px; ",LOG_LEVEL={ERROR:1,WARN:2,INFO:3},LOG_STYLES={};LOG_STYLES[LOG_LEVEL.INFO]="background: #dbf0fe; "+BASE_STYLE+"color: #0d0d0d;",LOG_STYLES[LOG_LEVEL.WARN]="background: #fff3b2; "+BASE_STYLE+"color: #0d0d0d;",LOG_STYLES[LOG_LEVEL.ERROR]="background: #fff0f0; "+BASE_STYLE+"color: #fc1c2a;";var currentLogLevel=LOG_LEVEL.INFO,logCallbacks=[],callbackCount=0;function Message(level,stackLineSlice,args){var message;this.level=level,args.length&&args[0]instanceof Error?(this._stackLineSlice=1,this._error=args[0],this._message=this._error.name+": "+this._error.message):(this._stackLineSlice=stackLineSlice,message=Array.prototype.slice.call(args).join(" "),this._message=message,this._error=new Error(message)),this._stackArray=null,this._fullStack=null,this._shortStack=null}Message.FANCY_CONSOLE_SUPPORT=/chrom(e|ium)/.test(navigator.userAgent.toLowerCase()),Message.prototype.getMessage=function(){return this._message},Message.prototype.getErrorInstance=function(){return this._error},Message.prototype.getFullStack=function(){return null==this._fullStack&&(this._fullStack=this._getStack().join("\n")),this._fullStack},Message.prototype.getShortStack=function(){return null==this._shortStack&&(this._shortStack=this._getStack().slice(0,3).join("\n")),this._shortStack},Message.prototype._getStack=function(){return this._stackArray||("string"==typeof this._error.stack?this._stack=this._error.stack.split("\n").slice(this._stackLineSlice).map(function(line){return"  "+line.trim()}):this._stack=[]),this._stack};var logMessage=function(level,args){var console=window.console,message=new Message(level,4,args);logCallbacks.forEach(function(logCallback){if("function"==typeof logCallback.fn)try{logCallback.fn(message)}catch(e){"function"==typeof console.error&&console.error(e)}}),currentLogLevel>=level&&(Message.FANCY_CONSOLE_SUPPORT&&"function"==typeof console.groupCollapsed?(console.groupCollapsed("%c "+message.getMessage(),LOG_STYLES[level]),console.log(message.getFullStack()),console.groupEnd()):level===LOG_LEVEL.ERROR&&"function"==typeof console.error?console.error(message.getErrorInstance()):"function"==typeof console.log&&console.log(message.getMessage()))},log=module.exports=function(){logMessage(LOG_LEVEL.INFO,arguments)};log.info=log,log.LOG_LEVEL=LOG_LEVEL,log.warn=function(){logMessage(LOG_LEVEL.WARN,arguments)},log.error=function(){logMessage(LOG_LEVEL.ERROR,arguments)},log.setLogLevel=function(level){currentLogLevel=level},log.addCallback=function(callback){var id=callbackCount++;return logCallbacks.push({id:id,fn:callback}),id},log.removeCallback=function(id){var index=logCallbacks.findIndex(function(logCallback){return logCallback.id===id});logCallbacks.splice(index,1)}},,function(module,exports,__webpack_require__){"use strict";function Lang(){this._langFunction=null}Lang.prototype.translate=function(id,interpolate,options){return this._langFunction(id,interpolate,options)},Lang.prototype.configureTranslationFunction=function(fn){this._langFunction=fn},Lang.prototype.stringInterpolate=function(format,params){return String(format).replace(/\{(\d+)\}/g,function(match,index){return String(params[index])})};var instance=new Lang;instance.configureTranslationFunction(function(id,interpolate){var result=id;return interpolate&&(result=instance.stringInterpolate(result,interpolate)),result}),module.exports=instance},,,,,,,,,function(module,exports,__webpack_require__){"use strict";const TOPOLOGY={BADGE_SIZE:24,BASE_FONT_SIZE:15,BUBBLE:{ICON:{MIN:.5},TEXT:{SIZE:12},COLOR_GRAY:"#adbdc9",COLOR_LIGHT_GRAY:"#f2f6f7",MULTI_COLOR_BORDER_MIN_SEGMENT:10,MAX_AREA:7},CLASS:{CUSTOM_ZOOM:"custom-zoom",HIDDEN:"hidden",NO_SEARCH_MATCH:"no-search-match"},CHART_OBJECT:{COLOR:"#53A3E0",MARGIN:{H:10,V:50,VERTICAL_PLACEMENT:60}},GROUP_NODE:{ICON_MARGIN:8,ROW:{WIDTH:260,HEIGHT:30},MASK:12},DIVISION:{MARGIN:{LEFT:20,TOP:0},PADDING:{H:100}},DONUT:{ARC_PADDING:.02,COLOR:{INTERNAL:"#82bc01",INTERNET:"#53a3e0"},INNER_RADIUS_RATIO:.6},FABRIC_DEVICE:{HEAD:{HEIGHT:80},ROW:{WIDTH:260,HEIGHT:30}},FABRIC_DEVICE_ICON_MAP:{default:"ftnt-fabric-device",fortiadc:"ftnt-fortiadc",fortiddos:"ftnt-fortiddos",fortimail:"ftnt-fortimail",fortiweb:"ftnt-fortiweb",fortiwlc:"ftnt-fortiwlc"},HA:{PADDING:{TOP:5,BOTTOM:5,H:5},TEXT:{DY:14},MODE:{1:"ha_aa",2:"ha_ap"}},ICON_TABLE:{ALIAS_MAX_LENGTH:25,ICON_MARGIN:14,INDENTATION:16,LABEL_MARGIN:24},LINK:{ICON:{COLOR:"#75b5e6",DY:"0.5em",SCALE:2},STROKE:{COLOR:"#636363",WIDTH:2.5}},MAX_MIN_BUBBLE_RATIO:10,MIN_BUBBLE_RADIUS:6,NUMBER_BUBBLE:{COLOR:"#dd4b39",RADIUS:10},PACK_LAYOUT:{COLOR:{TEXT:"#8a6d3b",BACKGROUND:"#fcf8e3",BORDER:"#faebcc"},RENDER_TYPES:{SQUARE:"square",CIRCLE:"circle"}},PADDING:{BUBBLE:4,FTNT_ICON:4},SCALE:{BUBBLE_BADGE:.6,OUTLINE_FILTER:1.2,ZOOM:{CLUSTER:.88,BUBBLE:.9,DONUT:.9}},SELF:"__self__",SQUARE_PACK:{ROUNDED_CORNER_RATIO:.1},SUB_ICON:{DEFAULT_COLOR:"#000000",SIZE:24},TEXT_TO_ICON_SCALE:4,TOGGLE_WIDTH:24,TRANSITION_DURATION:{BASE:1e3,QUICK:100,ZOOM:750},WARNING_ICON_SCALE:.36,ZOOM_EXTENT_UPPER_BOUND:Number.MAX_SAFE_INTEGER};TOPOLOGY.DIVISION.WIDTH=1.5*TOPOLOGY.FABRIC_DEVICE.ROW.WIDTH+TOPOLOGY.CHART_OBJECT.MARGIN.H,TOPOLOGY.IS_RETINA=(window.devicePixelRatio||1)>1||window.matchMedia&&window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5),(-moz-min-device-pixel-ratio: 1.5),(min-device-pixel-ratio: 1.5)").matches,TOPOLOGY.BUBBLE.ICON.MAX=TOPOLOGY.IS_RETINA?100:50,module.exports={RISK:{IOC_VERDICT:{COMPROMISED:4,HIGH:3,MEDIUM:2,LOW:1,SAFE:0}},TOPOLOGY:TOPOLOGY}},,,function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(565)},function(module,exports,__webpack_require__){"use strict";const TOPOLOGY=__webpack_require__(56).TOPOLOGY,util=__webpack_require__(39);class Util{static bound(fn,a,b){return void 0===a?b:fn(a,b)}static childrenDivisionMinX(d){const minX=(d.source.divisionHMargin||{}).minX;return{x:d.source.y,y:minX||d.source.x}}static getIconNameFromClass(iconClass){return iconClass?iconClass.split(" ").find(name=>name.startsWith("ftnt-")||name.startsWith("fa-")):null}static layoutPackTransform(container,k,d){return function transform(node,cx,cy){const children=node.children;if(node.x=cx+k*(node.x-cx)+d.x,node.y=cy+k*(node.y-cy)+d.y,node.r*=k,children){let i=-1;const n=children.length;for(;++i<n;)transform(children[i],cx,cy)}}(container,container.x,container.y)}static parentDivisionMaxX(d){const maxX=(d.target.divisionHMargin||{}).maxX;return{x:d.target.y,y:maxX||d.target.x}}pluckInnerSquareRoundedCornerRadius(d){return Util.pluckInnerSquareSideLength(d)*TOPOLOGY.SQUARE_PACK.ROUNDED_CORNER_RATIO}static pluckInnerSquareSideLength(d){return(d.r*Math.sqrt(2)).toFixed(4)}static pluckOuterSquareRoundedCornerRadius(d){return Util.pluckOuterSquareSideLength(d)*TOPOLOGY.SQUARE_PACK.ROUNDED_CORNER_RATIO}static pluckOuterSquareSideLength(d){return 2*d.r}static pluckR(d){return d.r}static pluckX(d){return d.x}static pluckY(d){return d.y}static quickTransition(collection,attrsFn){if(collection&&"function"==typeof collection.transition){const transition=collection.transition().duration(TOPOLOGY.TRANSITION_DURATION.QUICK);attrsFn&&transition.call(attrsFn)}}static toPx(num){return`${(num||0).toFixed(4)}px`}static transformXY(dx,dy){return`translate(${dx}, ${dy})`}static transformD(d){return Util.transformXY(d.x,d.y)}static transformDonut(d){const offset=d.offset,size=d.height;return Util.transformD({x:offset.x+size/2,y:offset.y+size/2})}static transformOffset(d){const offset=d.offset;return offset?Util.transformD(offset):""}static transformRectGroup(d){let l=d.r/Math.sqrt(2);return l=l.toFixed(4),Util.transformXY(d.x-l,d.y-l)}}Util.sort={groupNode:function(a,b){const aCount=a.count,bCount=b.count;return aCount===bCount?util.fastLocaleCompare(a.name,b.name):bCount-aCount}},module.exports=Util},,,,,,,,,function(module,exports,__webpack_require__){"use strict";const FONT_JSONS={ftnt:__webpack_require__(622),fa:__webpack_require__(623),aliases:__webpack_require__(624),colors:__webpack_require__(625),basePalette:__webpack_require__(626)};class IconCodeEntry{constructor(name,code,fontFamily,color){this.name=name,this.code=code,this.fontFamily=fontFamily,this.color=color,this.unicode=this._toUnicode(code)}_toUnicode(code){return String.fromCharCode(parseInt(code,16))}}module.exports=class{static getPaletteColor(name){return FONT_JSONS.basePalette[name]}static getIconCode(name){let code="",fontFamily="",realName=FONT_JSONS.aliases[name]?FONT_JSONS.aliases[name]:name,color=FONT_JSONS.colors[name]||"";return/^ftnt-/.test(realName)?(code=FONT_JSONS.ftnt[realName],fontFamily="ftnt-icons"):/^fa-/.test(realName)&&(code=FONT_JSONS.fa[realName],fontFamily="fa-icons"),new IconCodeEntry(name,code,fontFamily,color)}}},function(module,exports,__webpack_require__){"use strict";module.exports=class{constructor(){this.offset={x:0,y:0}}validateAndSetRequiredKeys(data){this.$PROPERTIES.forEach(key=>{const name=key.name;if(!data.hasOwnProperty(name)&&key.required)throw new Error(`Invalid data, missing: ${name}`);this[name]=data[name]})}get $PROPERTIES(){throw new Error("Must implement")}get height(){throw new Error("Must implement")}get width(){throw new Error("Must implement")}get center(){return{x:this.offset.x+this.width/2,y:this.offset.y+this.height/2}}get topMidpoint(){return{x:this.offset.x+this.width/2,y:this.offset.y}}get bottomMidpoint(){return{x:this.offset.x+this.width/2,y:this.offset.y+this.height}}static d3KeyFn(d){return d.id}}},,,,function(module,exports,__webpack_require__){"use strict";var property,value,prefixes,elem,util=__webpack_require__(39),IS_TOP=window===top,currentResponsiveClasses=null,RESPONSIVE=__webpack_require__(566),responsive=module.exports.responsive={SCREEN:RESPONSIVE.screen,UPDATE_STATE_MESSAGE:"updateResponsiveState",isLarge:function(){return top.window.matchMedia("only screen and (min-width: "+RESPONSIVE.screen.medium+"px)").matches},isMedium:function(){return top.window.matchMedia("only screen and (min-width: "+RESPONSIVE.screen.small+"px)").matches},isMediumOnly:function(){return top.window.matchMedia("only screen and (min-width: "+RESPONSIVE.screen.small+"px) and (max-width: "+(RESPONSIVE.screen.medium-1)+"px)").matches},isSmall:function(){return top.window.matchMedia("only screen and (max-width: "+(RESPONSIVE.screen.small-1)+"px)").matches},isSmallOnly:function(){return top.window.matchMedia("only screen and (min-width: "+RESPONSIVE.screen.mini+"px) and (max-width: "+(RESPONSIVE.screen.small-1)+"px)").matches},isMini:function(){return top.window.matchMedia("only screen and (max-width: "+(RESPONSIVE.screen.mini-1)+"px)").matches}};module.exports.supports={positionSticky:(property="position",value="sticky",prefixes=["-webkit-",""],elem=document.createElement("div"),prefixes.some(function(prefix){var prefixedValue=prefix+value;return elem.style[property]=prefixedValue,elem.style[property]===prefixedValue}))};var result,isFortiExploreriOS=module.exports.isFortiExploreriOS=function(){return null==result&&(result=0===navigator.userAgent.indexOf("FortiExplorer/iOS/")),result},isMobile=module.exports.isMobile=function(){var result;return function(){return null==result&&(result=isFortiExploreriOS()||/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|Windows Phone/i.test(navigator.userAgent)),result}}();module.exports.isSafari=function(){var result;return function(){return null==result&&(result=!/Chrome\//.test(navigator.userAgent)&&/Safari\//.test(navigator.userAgent)||module.exports.isFortiExploreriOS()),result}}(),module.exports.isIE=function(){var result;return function(){return null==result&&(result=!!/(msie [\w.]+|Trident\/[567]\.|Edge\/1\d\.)/i.exec(navigator.userAgent)),result}}(),module.exports.isiOS=function(){var result;return function(){return null==result&&(result=navigator.userAgent.match(/(iPod|iPhone|iPad)/)&&navigator.userAgent.match(/AppleWebKit/)),result}}();var updateBodyClasses=function(classes){Object.keys(classes).forEach(function(className){classes[className]?document.body.classList.add(className):document.body.classList.remove(className)})},lastResponsiveState={classes:{}},updateResponsiveState=function(recursive){var responsiveState={classes:currentResponsiveClasses||{mini:responsive.isMini(),small:responsive.isSmall(),"small-only":responsive.isSmallOnly(),medium:responsive.isMedium(),"medium-only":responsive.isMediumOnly(),large:responsive.isLarge(),mobile:isMobile()}},notifyIframes=function(targetWindow){for(var frames=targetWindow.document.getElementsByTagName("iframe"),i=0;i<frames.length;i++)try{var frameWindow=frames[i].contentWindow;if(frameWindow.postMessage){var origin=util.getOrigin(frameWindow);window.location.origin===origin&&(frameWindow.postMessage({messageType:"updateResponsiveState",state:responsiveState},origin),notifyIframes(frameWindow))}}catch(e){}};updateBodyClasses(responsiveState.classes),recursive&&notifyIframes(window);var keys=Object.keys(responsiveState.classes);keys.length===Object.keys(lastResponsiveState.classes).length&&keys.every(function(k){return responsiveState.classes[k]===lastResponsiveState.classes[k]})||window.postMessage({messageType:"updateResponsiveState",state:responsiveState.classes},util.getOrigin()),lastResponsiveState=responsiveState};module.exports.startResponsiveListener=function(){IS_TOP?(updateResponsiveState(),window.addEventListener("resize",util.debounce(200,function(){currentResponsiveClasses=null,updateResponsiveState(!0)})),window.addEventListener("message",function(event){event.data&&util.isTrustedOrigin(event.origin)&&"requestResponsiveState"===event.data.messageType&&updateResponsiveState(!0)})):(window.addEventListener("message",function(event){event.data&&util.isTrustedOrigin(event.origin)&&"updateResponsiveState"===event.data.messageType&&updateBodyClasses(event.data.state.classes)}),top.postMessage({messageType:"requestResponsiveState"},util.getOrigin(window)))}},,,,function(module,exports,__webpack_require__){"use strict";var Tooltip=__webpack_require__(59),dom=__webpack_require__(40),lang=__webpack_require__(47),POP_UP_OPTIONS={fixed:!0,fixedPeriod:0,hideOnScroll:!1,mask:!0,maskClass:"pop-up-menu-tooltip-mask",padContent:!1,placementLocation:"bottomRight",placementLocationChangeOnceVisible:!1};function PopUp(){Tooltip.apply(this,arguments)}PopUp.prototype=Object.create(Tooltip.prototype),PopUp.prototype.constructor=PopUp,Object.assign(PopUp,Tooltip),PopUp.prototype.setDisplayOptions=function(options){(options=Object.assign({class:""},options,POP_UP_OPTIONS)).class+=" pop-up-menu-tooltip",Tooltip.prototype.setDisplayOptions.call(this,options)},PopUp.createMenuButton=function(params){var item,label,button,buttonClass,icon,children;return label=params.label?params.label:"object"==typeof params.lang?lang.translate(params.lang.key,params.lang.interpolate):lang.translate(params.lang),children=[],null!=params.icon&&(icon=dom.elem("f-icon",{className:params.icon||""}),children.push(icon)),children.push(dom.elem("span",{textContent:label})),buttonClass="button",params.buttonClass&&(buttonClass+=" "+params.buttonClass),button=dom.elem("button",{className:buttonClass},{children:children,events:{click:function(){params.onClick(item,button,icon)}}}),params.buttonAttributes&&Object.entries(params.buttonAttributes).forEach(([key,value])=>{null!=value&&button.setAttribute(key,value)}),item=dom.elem("div",{className:"menu-item"},{children:[button]})},PopUp.createRadioButtons=function(options,selectedID,onChange){var radioButtons=dom.elem("div",{className:"radio-buttons"}),menuItem=dom.elem("div",null,{children:[dom.elem("div",{className:"menu-item"},{children:[radioButtons]})]}),buttons=options.map(function(option){var button,children=[];return option.icon&&children.push(dom.elem("f-icon",{className:option.icon})),option.text?children.push(dom.elem("span",{textContent:option.text})):option.langKey&&children.push(dom.elem("span",{textContent:lang.translate(option.langKey)})),button=dom.elem("button",{className:"button radio-button"},{children:[dom.elem("div",{className:"flex-button-content"},{children:children})]}),option.id===selectedID&&button.classList.add("selected"),button.addEventListener("click",function(){buttons.forEach(function(currentButton){currentButton.classList.remove("selected")}),button.classList.add("selected"),onChange(option.id)}),radioButtons.appendChild(dom.elem("div",{className:"menu-item"},{children:[button]})),button});return menuItem},module.exports=PopUp},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";const util=__webpack_require__(39);var mutableUtil={};mutableUtil.createContainsStringFilter=function(value,options={}){return Array.isArray(value)&&(value=value.join(",")),`${options.negate?"!":""}âŠ‚${value}`},mutableUtil.createExactStringFilter=function(value){return`^${util.escapeLiteralStringForRegex(value)}$`},mutableUtil.setCellElementContent=util.setElementContent,module.exports=mutableUtil},function(module,exports,__webpack_require__){"use strict";var DATE_PROCESSING_FN,lang=__webpack_require__(47),WEEKDAYS=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],DEFAULT_DATE_FORMAT="yyyy/MM/dd",DEFAULT_TIME_FORMAT="HH:mm:ss";function _formatDateTime(date,dateTimeFormat,processingParams={}){var formatIdx,output="";if(!dateTimeFormat)return output;if(DATE_PROCESSING_FN&&(date=DATE_PROCESSING_FN(date,processingParams)),"number"==typeof date)date=new Date(date);else if(!(date instanceof Date))return output;function nextCharMatches(match){var matches=formatIdx+1<dateTimeFormat.length&&dateTimeFormat.charAt(formatIdx+1)===match;return matches&&formatIdx++,matches}function formatNumber(match,value,len){var num=""+value;if(nextCharMatches(match))for(;num.length<len;)num="0"+num;return num}function formatYear(match,value){for(var len=1,year=""+value;nextCharMatches(match);)len++;return 2===len?year.substr(2):year}for(formatIdx=0;formatIdx<dateTimeFormat.length;formatIdx++)switch(dateTimeFormat.charAt(formatIdx)){case"d":output+=formatNumber("d",date.getDate(),2);break;case"M":output+=formatNumber("M",date.getMonth()+1,2);break;case"y":output+=formatYear("y",date.getFullYear());break;case"H":output+=formatNumber("H",date.getHours(),2);break;case"m":output+=formatNumber("m",date.getMinutes(),2);break;case"s":output+=formatNumber("s",date.getSeconds(),2);break;default:output+=dateTimeFormat.charAt(formatIdx)}return output}module.exports.MS_CONSTANTS={SECOND:1e3,MINUTE:6e4,HOUR:36e5,DAY:864e5},module.exports.formatDateTime=function(date,processingParams){var DEFAULT_DATE_TIME_FORMAT=[DEFAULT_DATE_FORMAT,DEFAULT_TIME_FORMAT].join(" ");return _formatDateTime.call(module.exports,date,DEFAULT_DATE_TIME_FORMAT,processingParams)},module.exports.formatDate=function(date,processingParams){return _formatDateTime.call(module.exports,date,DEFAULT_DATE_FORMAT,processingParams)},module.exports.formatTime=function(date,processingParams){return _formatDateTime.call(module.exports,date,DEFAULT_TIME_FORMAT,processingParams)},module.exports.formatDateFromNow=function(date,now,processingParams={}){var diff=(now=now||new Date).getTime()-date.getTime();return diff<0?this.formatDateTime(date,processingParams):diff<2e3?lang.translate("Second ago"):diff<6e4?lang.translate("{0} seconds ago",[Math.floor(diff/1e3)]):diff<12e4?lang.translate("Minute ago"):diff<36e5?lang.translate("{0} minutes ago",[Math.floor(diff/6e4)]):diff<72e5?lang.translate("Hour ago"):diff<864e5?lang.translate("{0} hours ago",[Math.floor(diff/36e5)]):diff<1728e5&&(date.getDay()+1)%7===now.getDay()?lang.translate("Yesterday"):diff<6048e5?lang.translate(WEEKDAYS[date.getDay()]):this.formatDateTime(date,processingParams)},module.exports.setDateFormat=function(dateFormat){DEFAULT_DATE_FORMAT=dateFormat||DEFAULT_DATE_FORMAT},module.exports.setDateTimeProcessingFn=function(dateTimeProcessingFn){DATE_PROCESSING_FN=dateTimeProcessingFn},module.exports.formatDateTimeCustom=_formatDateTime,module.exports.humanizeSeconds=function(seconds,options){options=options||{};var split={days:Math.trunc(seconds/86400),hours:Math.trunc(seconds/3600)%24,minutes:Math.trunc(seconds/60)%60,seconds:Math.trunc(seconds%60)},units=options.short?{days:lang.translate("{0}d"),hours:lang.translate("{0}h"),minutes:lang.translate("{0}m"),seconds:lang.translate("{0}s")}:{days:lang.translate(1===Math.abs(split.days)?"{0} day":"{0} days"),hours:lang.translate(1===Math.abs(split.hours)?"{0} hour":"{0} hours"),minutes:lang.translate(1===Math.abs(split.minutes)?"{0} minute":"{0} minutes"),seconds:lang.translate(1===Math.abs(split.seconds)?"{0} second":"{0} seconds")},unitsSliceEnd=options.truncateInsignificant?2:void 0;return Object.keys(split).filter(function(component){return 0!==split[component]||"seconds"===component&&0===seconds}).slice(0,unitsSliceEnd).map(function(component,index,components){var joiner=options.short?" ":", ";return components.length>1&&index===components.length-1&&!options.short?joiner=lang.translate(" and "):0===index&&(joiner=""),joiner+lang.translate(units[component],[split[component]])}).join("")}},,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";var util=__webpack_require__(39),highlightMatchesInElement=module.exports.highlightMatchesInElement=function(element,search,caseInsensitive){var regexp;if("string"==typeof search)regexp=new RegExp(util.preRegexEscape(search),caseInsensitive?"i":void 0);else{if(!(search instanceof RegExp))throw new Error("Search value must be string or regex");regexp=search}var matchFound=!1,traverseTextNodes=function(node){node&&Array.prototype.slice.call(node.childNodes).forEach(function(childNode){childNode.nodeType===Node.TEXT_NODE?function(node){for(var currentValue,matchIndex,textNode,mark,text,regexMatch,currentIndex=0,nodeValue=node.nodeValue,previousMatches=!1;;){if((matchIndex=(currentValue=nodeValue.substr(currentIndex)).search(regexp))<0){if(!previousMatches)break;currentValue&&(textNode=document.createTextNode(currentValue),node.parentNode.insertBefore(textNode,node)),node.parentNode.removeChild(node);break}matchIndex>0&&(text=currentValue.substr(0,matchIndex),textNode=document.createTextNode(text),node.parentNode.insertBefore(textNode,node)),(regexMatch=currentValue.match(regexp))&&(text=regexMatch[0],(mark=document.createElement("mark")).appendChild(document.createTextNode(text)),node.parentNode.insertBefore(mark,node),currentIndex+=matchIndex+text.length,previousMatches=!0,matchFound=!0)}}(childNode):childNode.nodeType===Node.ELEMENT_NODE&&traverseTextNodes(childNode)})};return traverseTextNodes(element),matchFound};module.exports.highlightMatchesInHTML=function(html,search,caseInsensitive){var element=document.createElement("div");return element.innerHTML=html,highlightMatchesInElement(element,search,caseInsensitive),element.innerHTML}},function(module,exports,__webpack_require__){"use strict";var ExportedSlide,$=jQuery,anim=__webpack_require__(159),util=__webpack_require__(39),Mask=__webpack_require__(205),log=__webpack_require__(45);function Slide(params){this._id=util.uniqueID(),this.update(params),this._isLoading=!0,this._contentReadyDeferred=$.Deferred(),this._managedDestructibles=[],this.contentReadyPromise=this._contentReadyDeferred.promise(),this._create()}Slide.TARGET_WINDOW=window,Slide.MAX_WIDTH_RATIO=.9,Slide.STACKING_WIDTH_RATIO=.95,Slide.IFRAME_MANIPULATION_TIMEOUT=500,Slide.MAX_IFRAME_MANIPULATION_ATTEMPTS=20,Slide.FIX_WIDTH_TIMEOUT=100,Slide.MAX_FIX_WIDTH_ATTEMPTS=10,Slide.MIN_ALLOWED_WIDTH=50,Slide.DEFAULT_PARAMS={buttons:!1,okButton:!0,okButtonClass:"primary",okButtonClick:null,okButtonDisabled:!1,okButtonLabel:"OK",cancelButton:!0,cancelButtonClass:null,cancelButtonClick:null,cancelButtonDisabled:!1,cancelButtonLabel:"Cancel",extraHeaderContent:null,closeButton:!0,closeOnEscape:!0,content:null,fullHeight:!1,iframeManipulation:!0,loadPromise:null,maskDisabled:!1,title:null,url:null,width:1e3},Slide.sameOriginIframeManipulation=function(){return!0},Slide.getLast=function(){var length;if(Slide._active&&(length=Slide._active.length))return Slide._active[length-1]},Slide.closeLast=function(immediate){var last=Slide.getLast();return!!last&&(last.close(immediate),!0)},Slide.resolveAndCloseLast=function(){var last=Slide.getLast();return!!last&&(last.done(),!0)},Slide.closeAll=function(immediate){var i;if(Slide._active)for(i=Slide._active.length-1;i>=0;i--)Slide._active[i].close(immediate)},Slide.prototype.update=function(params){this._originalParams=$.extend(this._originalParams||{},params),this._params=$.extend({},Slide.DEFAULT_PARAMS,this._originalParams),this.isOpen&&(this._updateButtons(),this._updateHeader(),(params.content||params.url)&&this._addContent(),params.width&&this._updateWidth())},Slide.prototype.hasTitle=function(){return!!this._params.title},Slide.DEFAULT_SLIDE_OPEN_CALLBACK=null,Slide.prototype.open=function(){var $target,mask;if(!this.isOpen){"function"==typeof Slide.DEFAULT_SLIDE_OPEN_CALLBACK&&Slide.DEFAULT_SLIDE_OPEN_CALLBACK(),this._deferred=$.Deferred(),this.promise=this._deferred.promise(),this._setTitle();const animationPromise=new Promise(resolve=>{this._$body.removeClass("slide-out").one(anim.CROSS_BROWSER_ANIMATION_END,resolve)}),loadPromise=this._params.loadPromise||Promise.resolve();Promise.all([animationPromise,loadPromise]).then(()=>{this._updateHeader(),this._addContent(),this._contentReadyDeferred.resolve()}),this._activeIndex=Slide._active.length,Slide._active.push(this),$target=Slide._getTarget(),mask=this._params.maskDisabled?null:Slide._getMask(),this.isOpen=!0,this._updateWidth(),mask&&mask.display(this._id),$target.append(this._$element),$(window).on("resize.slide"+this._id,util.debounce(300,this._updateWidth.bind(this))),(!this.width||this.width<Slide.MIN_ALLOWED_WIDTH)&&this._fixZeroWidth()}},Slide.prototype.ready=function(callback){this.contentReadyPromise.then(function(){callback(this._$content)}.bind(this))},Slide.prototype.setLoading=function(loading){this._isLoading=loading,this._$content.toggleClass("invisible",loading),this._$loading.toggleClass("hidden",!loading),this._$footer&&this._$footer.toggleClass("hidden",loading)},Slide.prototype.done=function(){var args=arguments;return this._close().then(function(){this._deferred.resolve.apply(this._deferred,args)}.bind(this))},Slide.prototype.close=function(immediate){return this._close(immediate).then(function(){this._deferred.reject()}.bind(this))},Slide.prototype.addDestructible=function(destructible){if(!destructible||"function"!=typeof destructible.destroy)throw new Error('Attempted to add a destructible component that doesn\'t implement the "destroy" method.');this._managedDestructibles.push(destructible)},Slide.updateTarget=function(){Slide._$target=Slide._mask=void 0},Slide._active=[],Slide._getTarget=function(){var $viewContainer,$target=Slide._$target;return $target||($target=($viewContainer=$(".view-container")).length?$viewContainer:$("body"),Slide._$target=$target),$target},Slide._getMask=function(){var $target,mask=Slide._mask;return mask||($target=Slide._getTarget(),Slide._mask=mask=new Mask("slider-mask",$target)),mask},Slide.prototype._close=function(immediate){var deferred=$.Deferred(),cleanedUp=!1,cleanUp=function(){this._$body.off(anim.CROSS_BROWSER_ANIMATION_END).removeClass("slide-out"),this._$content.children().detach(),this._$element.remove(),this._managedDestructibles.forEach(function(destructible){destructible.destroy()}),deferred.resolve(),cleanedUp=!0}.bind(this);return this.isOpen?($(window).off("resize.slide"+this._id),Slide._active.splice(this._activeIndex,1),Slide._active.forEach(function(slideInstance,index){slideInstance._activeIndex=index}),this.isOpen=!1,this._params.maskDisabled||Slide._getMask().hide(this._id),immediate?cleanUp():(this._$body.addClass("slide-out").on(anim.CROSS_BROWSER_ANIMATION_END,function(){this.isOpen||cleanUp()}.bind(this)),window.setTimeout(function(){cleanedUp||cleanUp()},1e3))):deferred.reject(),deferred.promise()},Slide.prototype._addIframeContent=function(){var $iframe,name;name="slide-iframe"+this._id,$iframe=$('<iframe name="'+name+'" src="'+this._params.url+'"></iframe>').addClass("slide-iframe"),this._$content.append($iframe),$iframe.on("load",function(){var properties=function(){var iframeDocument,iframeWindow;try{var iframe=$iframe[0];iframeWindow=iframe.contentWindow,iframeDocument=iframe.contentDocument||iframeWindow.document}catch(e){}return{document:iframeDocument,window:iframeWindow}}(),attempts=0,show=function(){this.setLoading(!1)}.bind(this),manipulate=function(callback){var result;this.isOpen&&((result=Slide.sameOriginIframeManipulation.call(this,properties.window,properties.document))?("string"!=typeof result||this._originalParams.title||this._$title.html(result).attr("title",result),callback()):attempts<Slide.MAX_IFRAME_MANIPULATION_ATTEMPTS?(attempts++,window.setTimeout(function(){manipulate(show)},Slide.IFRAME_MANIPULATION_TIMEOUT)):(log.warn("Reached max iframe manipulation attempts"),callback()))}.bind(this);if(properties){if(properties.document){var wnd=properties.document.defaultView;wnd.insideSlide=!0,wnd.slideInstance=this}this._params.iframeManipulation?manipulate(show):show()}else this._params.closeOnEscape=!1,show()}.bind(this))},Slide.prototype._setTitle=function(){const title=this._params.title,titleString=String(title||"");this._$title.html(titleString||"&nbsp;").attr("title",titleString)},Slide.prototype._updateHeader=function(){const extraHeader=this._params.extraHeaderContent;this._setTitle(),extraHeader&&this._$headerContainer.html(extraHeader)},Slide.prototype._addContent=function(){var fullHeight=this._params.fullHeight||!!this._params.url;this._$content.toggleClass("full-height-content",fullHeight),this._$content.children().detach(),this._params.content?(this._$content.append(this._params.content),this.setLoading(!1)):this._params.url?(this.setLoading(!0),this._addIframeContent()):this.setLoading(!1)},Slide.prototype._updateWidth=function(){var width,$target=Slide._getTarget(),previousSlideIndex=this._activeIndex-1,previousSlideWidth=Number.MAX_VALUE;previousSlideIndex>=0&&(previousSlideWidth=Slide._active[previousSlideIndex].width),width=Math.floor(Math.min(this._params.width,$target.width()*Slide.MAX_WIDTH_RATIO,previousSlideWidth*Slide.STACKING_WIDTH_RATIO)),this._$element.width(width),[this._$titleBar,this._$contentContainer].forEach(function($element){$element.width(width-5)}),this.width=width},Slide.prototype._fixZeroWidth=function(){(!this.width||this.width<Slide.MIN_ALLOWED_WIDTH)&&(this._fixZeroWidthTries=(this._fixZeroWidthTries||0)+1,this._fixZeroWidthTries<Slide.MAX_FIX_WIDTH_ATTEMPTS&&setTimeout(function(){this._updateWidth(),this._fixZeroWidth()}.bind(this),Slide.FIX_WIDTH_TIMEOUT))},Slide.prototype._updateButtons=function(){this._$footer&&(this._$footer.remove(),delete this._$footer),this._params.buttons&&(this._$footer=$('<div class="footer"></div>'),this.isOpen&&!this._isLoading||this._$footer.addClass("hidden"),this._params.okButton&&(this._$okButton=$("<button></button>",{class:this._params.okButtonClass,text:this._params.okButtonLabel}).attr("type","button").attr("disabled",this._params.okButtonDisabled).on("click",function(){"function"==typeof this._params.okButtonClick?this._params.okButtonClick(this):this.done()}.bind(this)).appendTo(this._$footer)),this._params.cancelButton&&(this._$cancelButton=$("<button></button>",{class:this._params.cancelButtonClass,text:this._params.cancelButtonLabel}).attr("type","button").attr("disabled",this._params.cancelButtonDisabled).on("click",function(){"function"==typeof this._params.cancelButtonClick?this._params.cancelButtonClick(this):this.close()}.bind(this)).appendTo(this._$footer)),this._$contentContainer.append(this._$footer))},Slide.prototype._create=function(){this._$element=$('<div class="slider-area"></div>').on("click contextmenu",function(event){event.stopPropagation()}),this._$titleBar=$('<div class="title-bar"></div>'),this._params.closeButton&&(this._$closeButton=$('<button class="bare" type="button"><f-icon class="fa-times"></f-icon></button>').appendTo(this._$titleBar).on("click",function(){this.close()}.bind(this))),this._$headerContainer=$('<div class="slider-header-container"></div>').prependTo(this._$titleBar),this._$title=$("<h1></h1>").prependTo(this._$titleBar),this._$body=$('<div class="slider-body dialog"></div>').append(this._$titleBar).appendTo(this._$element),this._$contentContainer=$('<div class="slider-content-container"></div>').appendTo(this._$body),this._$content=$('<div class="slider-content"></div>').appendTo(this._$contentContainer),this._$loading=$('<div class="loading-placeholder"><f-icon class="fa-loading icon-xxl"></f-icon></div>').appendTo(this._$contentContainer),this._updateButtons()},ExportedSlide=top.Sliderin&&top.Sliderin!==Slide?top.Sliderin:Slide,module.exports=window.Sliderin=ExportedSlide},function(module,exports,__webpack_require__){"use strict";function IpMask(ip,mask){"string"==typeof ip&&(ip=IpMask.toDotted(ip)),"string"==typeof mask&&(mask=IpMask.toDotted(mask)),this.addr=ip,this.netmask=mask}function maskBitcountToComponent(length){const maskComponents=[];let i,mask=0;const netmask=Number(length);for(mask=netmask?~((1<<32-netmask)-1):0,i=0;i<4;++i)maskComponents.unshift(255&mask),mask>>=8;return maskComponents}module.exports=IpMask,IpMask.IPV4_SUBNET_EXPR=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])([/ ]{1}((((254|252|248|240|224|192|128|0)\.0\.0\.0)|(255\.(254|252|248|240|224|192|128|0)\.0\.0)|(255\.255\.(254|252|248|240|224|192|128|0)\.0)|(255\.255\.255\.(255|254|252|248|240|224|192|128|0))|(3[0-2]|2[0-9]|1[0-9]|[0-9]))))?$/,IpMask.IPV4_AND_SUBNET_EXPR=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])[/ ]{1}((((254|252|248|240|224|192|128|0)\.0\.0\.0)|(255\.(254|252|248|240|224|192|128|0)\.0\.0)|(255\.255\.(254|252|248|240|224|192|128|0)\.0)|(255\.255\.255\.(255|254|252|248|240|224|192|128|0))|(3[0-2]|2[0-9]|1[0-9]|[0-9])))$/,IpMask.IPV4_ADDR_EXPR=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,IpMask.IPV4_RANGE=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])(-(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])|-((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])|\/(3[0-2]|[1-2][0-9]|[0-9]))?$/,IpMask.IPV4_RANGE_SPACES=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])(-(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])|\s+-\s+((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])|\/(3[0-2]|[1-2][0-9]|[0-9]))?$/,IpMask.IPV6_HOST=/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:)|(::))$/,IpMask.IPV6_SUBNET=/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:)|(::))([/]((12[0-8]|1[0-1][0-9]|0?[0-9]?[0-9])))?$/,IpMask.prototype={clone:function(){return new IpMask(this.addr.slice(),this.netmask.slice())},contains:function(numbered){return numbered>=this.numbered(IpMask.RANGE_LOW)&&numbered<=this.numbered(IpMask.RANGE_HIGH)},numbered:function(type){var n,m;switch(type){case IpMask.RANGE_LOW:return this.numbered(IpMask.NETWORK)+1;case IpMask.RANGE_HIGH:return this.numbered(IpMask.BROADCAST)-1;case IpMask.NETWORK:return((n=IpMask.toNumber(this.addr))&(m=IpMask.toNumber(this.netmask)))>>>0;case IpMask.BROADCAST:return n=IpMask.toNumber(this.addr),(n&=m=IpMask.toNumber(this.netmask))+~m>>>0;default:return IpMask.toNumber(this.addr)}},prefixLength:function(){IpMask._prefixMap||IpMask.buildNetmaskPrefixMap();var netmaskStr=this.netmask.join(".");return IpMask._prefixMap[netmaskStr]||0},fullNetwork:function(){return IpMask.toDotted(this.numbered(IpMask.NETWORK)).join(".")+"/"+this.prefixLength()},overlaps:function(ip){var targetIpmask=IpMask.parse(ip),minNetmask=Math.min(IpMask.toNumber(targetIpmask.netmask),IpMask.toNumber(this.netmask)),targetNumberedAddr=targetIpmask.numbered(),myMinNetworkAddr=this.numbered()&minNetmask,targetMinNetworkAddr=targetNumberedAddr&minNetmask;return!(!myMinNetworkAddr||!targetMinNetworkAddr||myMinNetworkAddr!==targetMinNetworkAddr)},toString:function(sep){return sep=sep||"/",[this.addr.join("."),this.netmask.join(".")].join(sep)}},IpMask.IP_LEN=4,IpMask.BROADCAST=1,IpMask.NETWORK=2,IpMask.RANGE_HIGH=3,IpMask.RANGE_LOW=4,IpMask.parse=function(ip){if(!IpMask.IPV4_SUBNET_EXPR.test(ip))return null;var components=ip.split("/"),maskComponents=[];return 1===components.length&&(components=ip.split(" ")),1===components.length&&components.push("32"),maskComponents=/\./.test(components[1])?components[1].split("."):maskBitcountToComponent(components[1]),new IpMask(components[0].split(".").map(Number),maskComponents.map(Number))},IpMask.toDotted=function(ip){if("string"==typeof ip)return ip.split(".").map(Number);var i,result=[];for(i=0;i<IpMask.IP_LEN;++i)result.unshift(255&ip),ip>>=8;return result},IpMask.toNumber=function(ip){for(var result=0,i=0;i<IpMask.IP_LEN;++i)result=result<<8|ip[i];return result>>>0},IpMask.fromBitCount=function(bitCount){return maskBitcountToComponent(bitCount).join(".")},IpMask.fromSize=function(size){const bitCount=Math.floor(32-Math.log(size)/Math.log(2));return IpMask.fromBitCount(bitCount)},IpMask.buildNetmaskPrefixMap=function(){var i,result={},num=1<<31>>>0;for(i=0;i<32;i++){result[IpMask.toDotted(num).join(".")]=i+1,num=(num|num>>1)>>>0}return IpMask._prefixMap=result,IpMask._prefixMap},IpMask.isUnicast=function(address){if(IpMask.IPV4_ADDR_EXPR.test(address)){var octets=IpMask.toDotted(address);return 127!==octets[0]&&!(octets[0]>223)}return!1},IpMask.isPublic=function(address){if(IpMask.IPV4_ADDR_EXPR.test(address)){var octets=IpMask.toDotted(address);return 0!==octets[0]&&(10!==octets[0]&&(127!==octets[0]&&((169!==octets[0]||254!==octets[1])&&(!(172===octets[0]&&octets[1]>=16&&octets[1]<=32)&&((192!==octets[0]||0!==octets[1]||0!==octets[2])&&((192!==octets[0]||0!==octets[1]||2!==octets[2])&&((192!==octets[0]||168!==octets[1])&&!(octets[0]>=224&&octets[0]<=239))))))))}return!1},IpMask.buildDhcpRanges=function(gatewayIpMask){var intGatewayIp=gatewayIpMask.numbered(),intRangeLow=gatewayIpMask.numbered(IpMask.RANGE_LOW),intRangeHigh=gatewayIpMask.numbered(IpMask.RANGE_HIGH),ranges=[];return intRangeLow>=intRangeHigh?[]:(intGatewayIp===intRangeLow?ranges.push([intRangeLow+1,intRangeHigh]):intGatewayIp===intRangeHigh?ranges.push([intRangeLow,intRangeHigh-1]):intGatewayIp>intRangeLow&&intGatewayIp<intRangeHigh&&(ranges.push([intRangeLow,intGatewayIp-1]),ranges.push([intGatewayIp+1,intRangeHigh])),ranges.map(function(range){return{"start-ip":IpMask.toDotted(range[0]).join("."),"end-ip":IpMask.toDotted(range[1]).join(".")}}))}},function(module,exports,__webpack_require__){"use strict";const chartUtil=__webpack_require__(60),TOPOLOGY=__webpack_require__(56).TOPOLOGY,iconCode=__webpack_require__(69);class Toggle{constructor(){}static get d3SelectorClass(){return"chart-visual-toggle"}static d3KeyFn(d){return d.id}static commonGClassAttr(selection){selection.attr("class",`${Toggle.d3SelectorClass} cursor-pointer`)}static inDonutGAttrs(selection){selection.call(Toggle.commonGClassAttr),selection.attr("transform",chartUtil.transformXY(-TOPOLOGY.TOGGLE_WIDTH/2,-2.5*TOPOLOGY.TOGGLE_WIDTH))}static inSquarePackGAttrs(selection){selection.call(Toggle.commonGClassAttr),selection.attr("transform",d=>{const size=chartUtil.pluckOuterSquareSideLength(d.pack);return chartUtil.transformXY((size-TOPOLOGY.TOGGLE_WIDTH)/2,-TOPOLOGY.TOGGLE_WIDTH/2)})}static inCirclePackGAttrs(selection){selection.call(Toggle.commonGClassAttr),selection.attr("transform",d=>{const height=d.height;return chartUtil.transformXY(-TOPOLOGY.TOGGLE_WIDTH/2,-(height+TOPOLOGY.TOGGLE_WIDTH)/2)})}static leftIconNodeGTransform(d){const offset=d.iconNode.headLeftMidpointOffset;return chartUtil.transformXY(offset.x-TOPOLOGY.TOGGLE_WIDTH,offset.y-TOPOLOGY.TOGGLE_WIDTH/2)}static rightIconNodeGTransform(d){const offset=d.iconNode.headRightMidpointOffset;return chartUtil.transformXY(offset.x,offset.y-TOPOLOGY.TOGGLE_WIDTH/2)}static leftIconNodeWithTableGTransform(d){const offset=d.iconNode.tableLeftMidpointOffset;return chartUtil.transformXY(offset.x-TOPOLOGY.TOGGLE_WIDTH,offset.y-TOPOLOGY.TOGGLE_WIDTH/2)}static rightIconNodeWithTableGTransform(d){const offset=d.iconNode.tableRightMidpointOffset;return chartUtil.transformXY(offset.x,offset.y-TOPOLOGY.TOGGLE_WIDTH/2)}static iconNodeBranchToggleGAttrs(selection){selection.call(Toggle.commonGClassAttr),selection.attr("transform",d=>d.iconNode.tableContent?"right"===d.side?Toggle.rightIconNodeWithTableGTransform(d):Toggle.leftIconNodeWithTableGTransform(d):"right"===d.side?Toggle.rightIconNodeGTransform(d):Toggle.leftIconNodeGTransform(d))}static rectAttrs(selection){selection.attr("width",TOPOLOGY.TOGGLE_WIDTH).attr("height",TOPOLOGY.TOGGLE_WIDTH)}static createIconAttrsFn(isExpandedFn){return selection=>{const collapse=iconCode.getIconCode("fa-minus-square"),expand=iconCode.getIconCode("fa-plus-square");selection.attr("y",TOPOLOGY.TOGGLE_WIDTH).attr("font-family","fa-icons").attr("font-size",chartUtil.toPx(TOPOLOGY.TOGGLE_WIDTH)).attr("class",d=>{return`f-icon ${isExpandedFn(d)?collapse.name:expand.name}`}).style("pointer-events","none").style("fill","black").text(d=>isExpandedFn(d)?collapse.unicode:expand.unicode)}}static createNodeContentFn(iconAttrsFn,expandedMapUpdateFn){return selection=>{selection.on("click",d=>expandedMapUpdateFn(d)),selection.append("rect").call(Toggle.rectAttrs),selection.append("text").call(iconAttrsFn)}}}module.exports=Toggle},,,function(module,exports,__webpack_require__){"use strict";const ngModule=__webpack_require__(35),SYMBOLS=__webpack_require__(413),Collectable=__webpack_require__(132),CollectableExtends=__webpack_require__(227),INJECT_MARK_SYMBOL=Symbol("InjectMark"),INJECT_MARKED_SYMBOL=Symbol("InjectMarked"),COLLECTED_SYMBOL=SYMBOLS.COLLECTED,PROCESSED_SYMBOL=Symbol("Processed"),Q_ASYNC_SYMBOL=SYMBOLS.Q_ASYNC_SYMBOL,PROTO_CHAIN_SYMBOL=Symbol("PrototypeChain"),COLLECTABLE_MIXIN_SYMBOL=SYMBOLS.COLLECTABLE_MIXIN,COLLECTABLE_INJECT_WRAP_SYMBOL=SYMBOLS.COLLECTABLE_INJECT_WRAP,AsyncFunction=Object.getPrototypeOf(async function(){}).constructor;function collect(Type){return function(Type){const proto="function"==typeof Type?Type.prototype:Type;return replaceMethodWithConverted(Type,proto,function(fn){return"function"==typeof fn.value&&(function(fn){const noInject=!fn.$inject,$newInject=angular.injector.$$annotate(fn);return noInject&&(fn.$inject=void 0),$newInject.includes("$INJECTABLE$")}(fn.value)||INJECT_MARK_SYMBOL in fn.value)},INJECT_MARKED_SYMBOL),Type[COLLECTED_SYMBOL]=!0,Type}(Type),function(Type){const proto="function"==typeof Type?Type.prototype:Type;return replaceMethodWithConverted(Type,proto,function(fn,key){return fn.value instanceof AsyncFunction&&fn.value===proto[key]},Q_ASYNC_SYMBOL),Type[COLLECTED_SYMBOL]=!0,Type}(Type),Type}function replaceMethodWithConverted(Type,proto,predicate,symbol){!function(Type,proto,predicate,callback){const descriptors=Object.getOwnPropertyDescriptors(proto);Object.entries(descriptors).forEach(([key,descriptor])=>{predicate(descriptor,key)&&callback(key,descriptor)})}(0,proto,predicate,function(key,descriptor){Type.hasOwnProperty(symbol)||(Type[symbol]={}),delete proto[key],Type[symbol][key]=descriptor;const newDesc=Object.assign({},descriptor,{get(){if(this&&this!==proto&&this[PROTO_CHAIN_SYMBOL]){const methodMap=this[PROTO_CHAIN_SYMBOL].get(proto);return methodMap&&methodMap[key]}return descriptor.value},set(params={}){const{instance:instance,value:value}=params;if(instance&&value){instance[PROTO_CHAIN_SYMBOL]=instance[PROTO_CHAIN_SYMBOL]||new Map;let methodMap=instance[PROTO_CHAIN_SYMBOL].get(proto);methodMap||(methodMap={},instance[PROTO_CHAIN_SYMBOL].set(proto,methodMap)),methodMap[key]=value}}});delete newDesc.value,delete newDesc.writable,Object.defineProperty(proto,key,newDesc)})}function injectAndWrap($injector,get$q,Type,instance,locals){if(instance){if(instance.hasOwnProperty(PROCESSED_SYMBOL))throw new Error("instance has already been processed by inject/wrapp");if(function injectAndWrapPrototypeChain($injector,get$q,Type,instance,locals){Type.hasOwnProperty(COLLECTABLE_MIXIN_SYMBOL)||(Type.hasOwnProperty(COLLECTED_SYMBOL)||collect(Type),forEachCollectedMethod(INJECT_MARKED_SYMBOL,value=>(value=$injector.invoke(value,instance,locals))instanceof AsyncFunction?qWrap(get$q,value):value),forEachCollectedMethod(Q_ASYNC_SYMBOL,value=>qWrap(get$q,value)));const proto=Object.getPrototypeOf(Type.prototype);if(proto&&proto.constructor&&proto.constructor!==Object){const parentType=Object.getPrototypeOf(Type);injectAndWrapPrototypeChain($injector,get$q,parentType,instance,locals)}function forEachCollectedMethod(holderSymbol,process){Type.hasOwnProperty(holderSymbol)&&Object.entries(Type[holderSymbol]).forEach(([key,descriptor])=>{Type.prototype[key]={instance:instance,value:process(descriptor.value)}})}}($injector,get$q,Type,instance,locals),!(INJECT_MARKED_SYMBOL in Type||Q_ASYNC_SYMBOL in Type))throw new Error("No async methods or marked methods detected in prototype chain, collect not needed");instance[PROCESSED_SYMBOL]=!0}}function qWrap(get$q,fn){return function(){const q=get$q().when(fn.apply(this,arguments));return q.then(angular.noop),q}}function decorateInjector($injector){let $q;const{instantiate:instantiate,invoke:invoke}=$injector,get$q=()=>$q=$q||($q=$injector.get("$q"));$injector.invoke=function(fn,self,locals){if(COLLECTABLE_MIXIN_SYMBOL in fn){fn[COLLECTABLE_INJECT_WRAP_SYMBOL]=(instance=>injectAndWrap($injector,get$q,fn,instance,locals));const result=invoke.apply(this,arguments);return delete fn[COLLECTABLE_INJECT_WRAP_SYMBOL],result}return invoke.apply(this,arguments)},$injector.instantiate=function(Type,locals){if(COLLECTABLE_MIXIN_SYMBOL in Type){Type[COLLECTABLE_INJECT_WRAP_SYMBOL]=(instance=>{injectAndWrap($injector,get$q,Type,instance,locals)});const instance=instantiate.apply(this,arguments);return delete Type[COLLECTABLE_INJECT_WRAP_SYMBOL],instance}return instantiate.apply(this,arguments)}}ngModule.service("injector",function($injector,$q){function invoked(){return Array.prototype.slice.call(arguments)}this.bind=function(fn,context,locals){$injector.annotate(fn),invoked.$inject=fn.$inject;var args=$injector.invoke(invoked,context,locals);return fn.bind.apply(fn,[context].concat(args))},this.partial=function(fn,context,positional,locals){$injector.annotate(fn),invoked.$inject=fn.$inject.filter(function(arg){return-1===positional.indexOf(arg)});var args=$injector.invoke(invoked,context,locals);return fn.bind.apply(fn,[context].concat(args))},this.injectMarked=function(context,locals){for(const key in context){let property=context[key];if("function"==typeof property&&INJECT_MARK_SYMBOL in property){let result=$injector.invoke(property,context,locals);property=context[key]="function"==typeof result?result.bind(context):result}property instanceof AsyncFunction&&(property=context[key]=qWrap(()=>$q,property))}};const injectWrap=(instance,locals,Type)=>{injectAndWrap($injector,()=>$q,Type,instance,locals)};this.Collectable=CollectableExtends(Object,injectWrap),this.CollectableExtends=(Class=>CollectableExtends(Class,injectWrap))}),ngModule.constant("$INJECTABLE$",Symbol("$INJECTABLE$")),ngModule.config(decorateInjector),ngModule.run(decorateInjector);const inject={mark:function(fn){return fn[INJECT_MARK_SYMBOL]=!0,fn},collect:collect,Collectable:Collectable,CollectableExtends:CollectableExtends};module.exports=inject},function(module,exports,__webpack_require__){"use strict";const CollectableExtends=__webpack_require__(227);module.exports=CollectableExtends()},,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(365)},function(module,exports,__webpack_require__){"use strict";var anim=module.exports={},util=__webpack_require__(39),browser=__webpack_require__(74);anim.DIMENSIONS={HEIGHT:"offsetHeight",WIDTH:"offsetWidth"},anim.CROSS_BROWSER_ANIMATION_END="animationend webkitAnimationEnd MSAnimationEnd oAnimationEnd",anim.CROSS_BROWSER_TRANSITION_END="transtionend webkitTransitionEnd msTransitionEnd oTransitionEnd",anim.triggerReflow=function(element){return element.offsetHeight},anim.ieForceRedraw=function(element){browser.isIE()&&(element.style.opacity="0.999999",requestAnimationFrame(function(){element.style.opacity=""}))};anim.SLIDE_SHRINK_MARGIN_ANIMATE_CLASS={left:"slide-in-left-animate",right:"slide-in-right-animate"};var NO_TRANSITION_CLASS="no-animation-transition";anim.animateCssPropertyGrowToAuto=function(element,dimension,property,shrinkClass,shrinkSize,negate){return new Promise(function(resolve){if(element.classList.contains(NO_TRANSITION_CLASS))return element.classList.remove(shrinkClass),element.style[property]="",void resolve();var wantedSize;negate=negate?-1:1;var onTransitionEnd=function(){element.style[property]=null,element.classList.remove(shrinkClass),element.removeEventListener("transitionend",onTransitionEnd),anim.ieForceRedraw(element),resolve()};if(element.classList.add(shrinkClass),!element.offsetParent)return element.classList.remove(shrinkClass),void resolve();element.classList.add(NO_TRANSITION_CLASS),element.style[property]="",wantedSize=element[dimension]*negate,element.style[property]=shrinkSize+"px",anim.triggerReflow(element),element.classList.remove(NO_TRANSITION_CLASS),element.style[property]=wantedSize+"px",element.addEventListener("transitionend",onTransitionEnd),anim.ieForceRedraw(element)})},anim.animateCssPropertyShrinkFromAuto=function(element,dimension,property,shrinkClass,shrinkSize,negate){return new Promise(function(resolve){if(element.classList.contains(NO_TRANSITION_CLASS))resolve();else{negate=negate?-1:1;var currentSize=element[dimension]*negate,onTransitionEnd=function(){element.style[property]=null,element.classList.remove(shrinkClass),element.removeEventListener("transitionend",onTransitionEnd),resolve()};if(element.classList.add(shrinkClass),!element.offsetParent)return element.classList.remove(shrinkClass),void resolve();element.classList.add(NO_TRANSITION_CLASS),element.style[property]=currentSize+"px",anim.triggerReflow(element),element.classList.remove(NO_TRANSITION_CLASS),element.style[property]=shrinkSize+"px",element.addEventListener("transitionend",onTransitionEnd)}})},anim.slideInAnimate=function(element,side){return anim.animateCssPropertyShrinkFromAuto(element,anim.DIMENSIONS.WIDTH,"margin-"+side,anim.SLIDE_SHRINK_MARGIN_ANIMATE_CLASS[side],0,!0)},anim.slideOutAnimate=function(element,side){return anim.animateCssPropertyGrowToAuto(element,anim.DIMENSIONS.WIDTH,"margin-"+side,anim.SLIDE_SHRINK_MARGIN_ANIMATE_CLASS[side],0,!0)},anim.toAutoHeightVerticalExpand=function(element,currentHeight){var shrinkClass=util.elementIsFlex(element)?"vertical-expand-shrink-flex":"vertical-expand-shrink";return anim.animateCssPropertyGrowToAuto(element,anim.DIMENSIONS.HEIGHT,"height",shrinkClass,currentHeight)},anim.fromAutoHeightVerticalShrink=function(element,shrunkenHeight){var shrinkClass=util.elementIsFlex(element)?"vertical-expand-shrink-flex":"vertical-expand-shrink";return anim.animateCssPropertyShrinkFromAuto(element,anim.DIMENSIONS.HEIGHT,"height",shrinkClass,shrunkenHeight)},anim.noAnimate=function(element,action){var containedClass=element.classList.contains(NO_TRANSITION_CLASS);element.classList.add(NO_TRANSITION_CLASS),action(),containedClass||element.classList.remove(NO_TRANSITION_CLASS)}},function(module,exports,__webpack_require__){"use strict";var createKey=function(key,modifiers,label){var keyCode="number"==typeof key?key:key.key;return modifiers&&(modifiers=Array.isArray(modifiers)?modifiers:[modifiers]),{key:keyCode,modifiers:modifiers,label:label}},ENTER=createKey(13,null,"Enter"),ESCAPE=createKey(27,null,"Esc"),LEFT=createKey(37,null,"â†"),UP=createKey(38,null,"â†‘"),RIGHT=createKey(39,null,"â†’"),DOWN=createKey(40,null,"â†“"),SPACE=createKey(32,null,"Space"),A=createKey(65,null,"a"),B=createKey(66,null,"b"),J=createKey(74,null,"j"),K=createKey(75,null,"k"),FORWARD_SLASH=createKey(191,null,"/"),OPEN_BRACKET=createKey(219,null,"["),CONTROL_J=createKey(J,"ctrlKey","Ctrl+j"),CONTROK_K=createKey(K,"ctrlKey","Ctrl+k"),CONTROL_OPEN_BRACKET=createKey(OPEN_BRACKET,"ctrlKey","Ctrl+["),QUESTION_MARK=createKey(FORWARD_SLASH,"shiftKey","?"),CONTROL_A=createKey(A,"ctrlKey","Ctrl+a"),COMMAND_A=createKey(A,"metaKey","âŒ˜+a"),TYPES_SIMPLE="simple",TYPES_MULTIPLE="multiple",TYPES_SEQUENCE="sequence",SHORTCUTS=module.exports.SHORTCUTS={CLEAR:"clear",CONTRA:"contra",HELP:"help",NEXT:"next",PREVIOUS:"previous",SEARCH:"search",ACTION:"action",SELECT:"select",SELECT_ALL:"selectAll"},CONFIGURATION={};CONFIGURATION[SHORTCUTS.CLEAR]={type:TYPES_MULTIPLE,keys:[ESCAPE,CONTROL_OPEN_BRACKET]},CONFIGURATION[SHORTCUTS.CONTRA]={type:TYPES_SEQUENCE,sequence:[UP,UP,DOWN,DOWN,LEFT,RIGHT,LEFT,RIGHT,B,A]},CONFIGURATION[SHORTCUTS.HELP]={type:TYPES_SIMPLE,key:QUESTION_MARK},CONFIGURATION[SHORTCUTS.NEXT]={type:TYPES_MULTIPLE,keys:[DOWN,CONTROL_J]},CONFIGURATION[SHORTCUTS.PREVIOUS]={type:TYPES_MULTIPLE,keys:[UP,CONTROK_K]},CONFIGURATION[SHORTCUTS.SEARCH]={type:TYPES_SIMPLE,key:FORWARD_SLASH},CONFIGURATION[SHORTCUTS.SELECT]={type:TYPES_SIMPLE,key:SPACE},CONFIGURATION[SHORTCUTS.SELECT_ALL]={type:TYPES_MULTIPLE,keys:[CONTROL_A,COMMAND_A]},CONFIGURATION[SHORTCUTS.ACTION]={type:TYPES_SIMPLE,key:ENTER};var MATCH_LEVEL={SEQUENCE:1,NORMAL:2,MODIFIED:3,MULTI_MODIFIED:4};module.exports.getLabels=function(shortcut){var keys,configuration=CONFIGURATION[shortcut],getLabel=function(key){return key.label};switch(configuration.type){case TYPES_SIMPLE:keys=[getLabel(configuration.key)];break;case TYPES_SEQUENCE:keys=[configuration.sequence.map(getLabel).join(" ")];break;case TYPES_MULTIPLE:keys=configuration.keys.map(getLabel)}return keys},module.exports.createShortcutChecker=function(shortcuts,callback){var sequenceTrackingIndexes={},keyMatches=function(event,key){return event.keyCode===key.key&&(key.modifiers||[]).every(function(modifier){return event[modifier]})},getLevelForKey=function(key){var level=MATCH_LEVEL.NORMAL,numModifiers=(key.modifiers||[]).length;return numModifiers>1?level=MATCH_LEVEL.MULTI_MODIFIED:numModifiers&&(level=MATCH_LEVEL.MODIFIED),level};return(shortcuts=shortcuts||Object.keys(SHORTCUTS).map(function(key){return SHORTCUTS[key]})).forEach(function(shortcut){CONFIGURATION[shortcut].type===TYPES_SEQUENCE&&(sequenceTrackingIndexes[shortcut]=0)}),function(event){var bestMatch,bestMatchLevel=0;shortcuts.forEach(function(shortcut){var matchLevel=function(event,shortcut){var i,key,nextIndex,matchLevel=MATCH_LEVEL.NONE,configuration=CONFIGURATION[shortcut];switch(configuration.type){case TYPES_SIMPLE:key=configuration.key,keyMatches(event,key)&&(matchLevel=getLevelForKey(key));break;case TYPES_SEQUENCE:nextIndex=sequenceTrackingIndexes[shortcut],keyMatches(event,configuration.sequence[nextIndex])?(nextIndex=++sequenceTrackingIndexes[shortcut])>=configuration.sequence.length&&(matchLevel=MATCH_LEVEL.SEQUENCE,sequenceTrackingIndexes[shortcut]=0):nextIndex&&(sequenceTrackingIndexes[shortcut]=0);break;case TYPES_MULTIPLE:for(i=0;i<configuration.keys.length;i++)if(key=configuration.keys[i],keyMatches(event,key)){matchLevel=getLevelForKey(key);break}}return matchLevel}(event,shortcut);matchLevel>bestMatchLevel&&(bestMatch=shortcut,bestMatchLevel=matchLevel)}),bestMatch&&(event.stopPropagation(),callback(bestMatch,event))}}},function(module,exports,__webpack_require__){"use strict";const Destroyable=__webpack_require__(206),EditableOption=__webpack_require__(378),dom=__webpack_require__(40),log=__webpack_require__(45);module.exports=class{constructor(row,column){this._row=row,this._column=column,this._renderDestroyables=[],this._editedValue=null,this._editableOptions=null}getValue(){throw new Error("Not implemented")}toString(){const value=this.getValue();let string="";return null!=value&&(string=value.toString()),string}format(){throw new Error("Not implemented")}formatForTable(){return this.format()}formatForSection(){return this.format()}getEditableValue(){let value=this.getValue();if("function"==typeof this._column.editableValueFunction)try{value=this._column.editableValueFunction.call(this._row,this._row.entry,this._column,value)}catch(e){log.error(e)}return value}getEditableOptions(){if(!this._editableOptions){let editableOptions=this._column.editableOptions;if("function"==typeof editableOptions&&(editableOptions=editableOptions.call(this._row,this._row.entry,this._column)),Array.isArray(editableOptions)){if(!editableOptions.every(option=>option instanceof EditableOption))throw new Error("Options must be instances of EditableOption");this._editableOptions=editableOptions}else this.editableOptions=[]}return this._editableOptions}formatForEditing(){const EDITABLE_TYPE=this._column.STANDARD_EDITABLE_TYPE,value=this._editedValue=this.getEditableValue();let input;switch(this._column.editableType){case EDITABLE_TYPE.TEXT:input=dom.elem("input",{type:"text",value:value});break;case EDITABLE_TYPE.TEXT_AREA:input=dom.elem("textarea",{value:value});break;case EDITABLE_TYPE.SELECTION:input=dom.elem("select");for(let option of this.getEditableOptions())input.appendChild(dom.elem("option",{value:option.getEntryValue(),text:option.getLabel(),selected:value===option.getCellValue()}));this._editedValue=input.value;break;default:throw new Error(`Unknown editable type: "${this._column.editableType}"`)}return input.addEventListener("change",()=>{this._editedValue=input.value}),input}getEditedValue(){return this._editedValue}handlesEditingValidation(){return!1}validateEditingValue(){throw new Error("Not implemented")}stoppedEditing(){}compareTo(){throw new Error("Not implemented")}matchedBySearch(){throw new Error("Not implemented")}resolve(){return null}registerRenderDestroyable(destroyable){const isDestroyable=o=>o&&o instanceof Destroyable;let missingRegistration=!0;if(Array.isArray(destroyable)){missingRegistration=!destroyable.length;for(let object of destroyable)isDestroyable(object)?this._renderDestroyables.push(object):missingRegistration=!0}else isDestroyable(destroyable)&&(this._renderDestroyables.push(destroyable),missingRegistration=!1);return missingRegistration}cleanupRenderDestroyables(){this._renderDestroyables.forEach(destroyable=>destroyable.destroy()),this._renderDestroyables=[]}}},function(module,exports,__webpack_require__){"use strict";const Value=__webpack_require__(161),tableUtil=__webpack_require__(109),dom=__webpack_require__(40),log=__webpack_require__(45),Tooltip=__webpack_require__(59),fastLocaleCompare=__webpack_require__(39).fastLocaleCompare;class CollectionValue extends Value{constructor(input,row,column,settings){super(row,column),this._input=input,this._value=null,this._entries=null,this._settings=settings,this._entryValues=null,this._entryValuesMap=new Map,this._singular=!1,this._lastSearch=null,this._searchMatchedEntries=null,this._lastEntryIndexMatchedBySearch=null}getEntries(){var array;return this._entries||(array=[],this._input&&(Array.isArray(this._input)?array=this._input:(array=[this._input],this._singular=!0)),this._entries=array),this._entries}getValue(){return null==this._value&&(this._value=this.getEntryValues().join(" ")),this._value}getEntryValues(){return this._entryValues||(this._entryValues=this.getEntries().map(function(entry){return this.getEntryValue(entry)}.bind(this))),this._entryValues}getEntryValue(entry){var value;if(this._entryValuesMap.has(entry))value=this._entryValuesMap.get(entry);else if(this._isCustomValueFunctionDefined())try{value=this._column.collectionEntryValueFunction.call(this._row,entry),this._entryValuesMap.set(entry,value)}catch(e){log.error(e)}else value=this.getFormattedEntryElement(entry).textContent,this._entryValuesMap.set(entry,value);return value}formatEntry(entry){const valueFunctionDefined=this._isCustomValueFunctionDefined(),value=valueFunctionDefined?this.getEntryValue(entry):null;let formatted=valueFunctionDefined?value:entry;if("function"==typeof this._column.collectionEntryFormatter)try{formatted=this._column.collectionEntryFormatter.call(this._row,entry,value)}catch(e){log.error(e)}return formatted}format(){return this._format()}formatForTable(){return this._format({forTable:!0})}formatForSection(){return this._format({forSection:!0})}searchHighlightEntry(element,entry){this._row.getSearchValue()&&this._searchMatchedEntries&&this._searchMatchedEntries.has(entry)&&element.classList.add("search-match-highlight")}compareTo(otherValue){var i,otherEntryValues,entryValues=this.getEntryValues(),result=0;if(otherValue instanceof CollectionValue){for(otherEntryValues=otherValue.getEntryValues(),i=0;i<entryValues.length;i++){if(i>=otherEntryValues.length){result=1;break}if(0!==(result=this._compareTo(entryValues[i],otherEntryValues[i],otherValue)))break}0===result&&i<otherEntryValues.length&&(result=-1)}else result=this._compareTo(entryValues.length?entryValues[0]:"",otherValue.getValue(),otherValue);return result}_compareTo(entryValue,otherEntryValue){return fastLocaleCompare(entryValue,otherEntryValue)}matchedBySearch(searchValue){var matched=!1,currentSearchValue=this._row.getSearchValue();return currentSearchValue!==this._lastSearch&&(this._searchMatchedEntries=new Set,this._lastEntryIndexMatchedBySearch=null,this._lastSearch=currentSearchValue),this.getEntries().forEach(function(entry,index){this.entryMatchesSearchValue(entry,searchValue)&&(matched=!0,this._lastEntryIndexMatchedBySearch=index,this._searchMatchedEntries.add(entry))}.bind(this)),matched}entryMatchesSearchValue(entry,searchValue){let result=!1;if("function"==typeof this._column.collectionEntryMatchesSearch)try{result=this._column.collectionEntryMatchesSearch.call(this._row,entry,searchValue)}catch(e){log.error(e)}else{let value=this.getEntryValue(entry);result=(value=null!=value?value.toString().toLowerCase():"").indexOf(searchValue)>=0}return result}getFormattedEntryElement(entry){return this._createEntryElement(entry)}_isCustomValueFunctionDefined(){return"function"==typeof this._column.collectionEntryValueFunction}_format({forTable:forTable=!1,forSection:forSection=!1}={}){const entries=this.getEntries(),element=dom.elem("div",{className:"collection-entries"}),elements=[];let i,limit,tooltipContentSet=!1;for("number"==typeof this._settings.collectionLimit?((limit=this._settings.collectionLimit)<entries.length&&limit--,limit=Math.min(limit,entries.length)):limit=entries.length,i=0;i<limit;i++){const entryElement=this.getFormattedEntryElement(entries[i]);(forTable||forSection)&&this._processEntryElement(entryElement,entries[i]),i>0&&(entryElement.style["margin-top"]=`${CollectionValue.ITEM_MARGIN_PIXELS}px`),element.appendChild(entryElement),elements.push(entryElement)}if(i<entries.length){const bubbleElement=dom.elem("span",{className:"number-bubble hidden-collection-count"});if(bubbleElement.textContent=`+${entries.length-i}`,bubbleElement.style["margin-top"]=`${CollectionValue.ITEM_MARGIN_PIXELS}px`,this._row.getSearchValue()&&this._lastEntryIndexMatchedBySearch>=i?bubbleElement.classList.add("search-match-highlight"):bubbleElement.classList.remove("search-match-highlight"),element.appendChild(bubbleElement),forTable||forSection){const tooltip=new Tooltip(this.BUBBLE_TOOLTIP_OPTIONS),tooltipContent=dom.elem("div",{className:"padded-collection-list flex-grow auto-overflow"});tooltip.showOnElementHover(bubbleElement),tooltip.setContent(tooltipContent),tooltip.onShow(()=>{if(!tooltipContentSet){for(let j=i;j<entries.length;j++){const entryElement=this.getFormattedEntryElement(entries[j]);j>i&&(entryElement.style["margin-top"]=`${CollectionValue.ITEM_MARGIN_PIXELS}px`),this._processEntryElement(entryElement,entries[j]),tooltipContent.appendChild(dom.elem("div",null,{children:[entryElement]}))}tooltipContentSet=!0,"function"==typeof this._settings.onChunkAdded&&this._settings.onChunkAdded(tooltipContent)}}),this.registerRenderDestroyable(tooltip)}}return element}_createEntryElement(entry){const entryHeight=this._column.collectionEntryHeight||this._settings.rowHeight,content=dom.elem("div",{className:"collection-entry-content"}),element=dom.elem("div",{className:"collection-entry",style:{height:`${entryHeight}px`}},{children:[content]}),formatted=this.formatEntry(entry);return tableUtil.setCellElementContent(content,formatted,{allowHTML:!0}),element}_processEntryElement(element,entry){const contentElement=element.children[0];let destroyables=[];if(this.searchHighlightEntry(contentElement,entry),"function"==typeof this.setupEntryTooltip){const tooltip=this.setupEntryTooltip(contentElement,entry);tooltip&&(contentElement.classList.add("tooltip-hint"),destroyables.push(tooltip))}const onRender=this._column.collectionEntryOnRender||this._settings.defaultCollectionEntryOnRender[this._column.type];if("function"==typeof onRender)try{const result=onRender.call(this._row,element,entry,this._column,this.getEntryValue(entry));destroyables=destroyables.concat(result)}catch(e){log.error(e)}this.registerRenderDestroyable(destroyables)&&this._column.flagOnCellRenderedNoDestroyables()}}CollectionValue.ITEM_MARGIN_PIXELS=4,CollectionValue.prototype.BUBBLE_TOOLTIP_OPTIONS={class:"mutable-collection-tooltip flex-column flex-grow hidden-overflow",fixed:!0,padContent:!1},CollectionValue.prototype.MANUAL_SEARCH_HIGHLIGHTING=!0,CollectionValue.prototype.setupEntryTooltip=void 0,module.exports=CollectionValue},function(module,exports,__webpack_require__){"use strict";const Value=__webpack_require__(161),dom=__webpack_require__(40),log=__webpack_require__(45),formatters=__webpack_require__(380),dateTime=__webpack_require__(110),util=__webpack_require__(39);class NumberValue extends Value{constructor(input,row,column,settings){super(row,column),this._valueComponents=null,this._value=null,this._settings=settings,this._sortValue=null,this._formattedText=null,this._editedValue=null,this._parseInput(input)}static getUnitsForNumberType(numberValueType){let units;switch(numberValueType){case NumberValue.NUMBER_TYPE.BINARY_BYTES:units=NumberValue.BINARY_BYTES_UNITS;break;case NumberValue.NUMBER_TYPE.METRIC_BYTES:units=NumberValue.METRIC_BYTES_UNITS;break;case NumberValue.NUMBER_TYPE.METRIC_BYTES_PER_SECOND:units=NumberValue.METRIC_BYTES_PER_SECOND_UNITS;break;case NumberValue.NUMBER_TYPE.METRIC_BITS_PER_SECOND:units=NumberValue.METRIC_BITS_PER_SECOND_UNITS;break;case NumberValue.NUMBER_TYPE.TIME_DURATION:units=NumberValue.TIME_DURATION_UNITS;break;case NumberValue.NUMBER_TYPE.PERCENTAGE:case NumberValue.NUMBER_TYPE.PRECISE_PERCENTAGE:units=NumberValue.PERCENTAGE_UNITS}return units}static getUnitFactor(unit,numberValueType){let result=1;if(unit){const units=NumberValue.getUnitsForNumberType(numberValueType),key=Object.keys(units).find(unitKey=>unitKey.toLowerCase()===unit.toLowerCase());if(!key)throw new Error(`Invalid number unit: "${unit}"`);result=units[key]}return result}static getNumberWithUnit(number,numberValueType){const units=NumberValue.getUnitsForNumberType(numberValueType);if(units){let unit,factor;for(unit of Object.keys(units).reverse())if((factor=units[unit])<=number)break;if(factor<=number)return[number/factor,unit]}return[number,null]}getValue(){return this._value}getValueComponents(){return this._valueComponents}toString(){const formatted=this._format();let result="";if(formatted instanceof HTMLElement)result=formatted.textContent||"";else if("string"==typeof formatted)result=formatted;else{const value=this.getValue();value&&(result=value.toString())}return result}format(){return this._format()}formatForTable(){return this._format({forTable:!0})}formatForEditing(){if(this._column.editableTreatAsStandard)return super.formatForEditing();{const numberType=this._column.numberType,rawValue=this._editedValue=this.getEditableValue(),[value,unit]=NumberValue.getNumberWithUnit(rawValue,numberType),unitOptions=NumberValue.getUnitsForNumberType(numberType),input=dom.elem("input",{type:"number",value:value}),children=[input];let unitSelect;const onChange=()=>{let number=Number(input.value),factor=1;unitSelect&&(factor=NumberValue.getUnitFactor(unitSelect.value,numberType)),this._editedValue=number*factor};if(unitOptions){unitSelect=dom.elem("select",{style:{"margin-left":`${this._settings.cellPadding}px`}});for(let unitOption of Object.keys(unitOptions))unitSelect.appendChild(dom.elem("option",{value:unitOption,text:unitOption,selected:unitOption===unit}));children.push(unitSelect),unitSelect.addEventListener("change",onChange)}return input.addEventListener("change",onChange),dom.elem("div",{className:"flex-row-centered"},{children:children})}}getEditedValue(){return this._column.editableTreatAsStandard?super.getEditedValue():this._editedValue}compareTo(otherValue){return this._getSortValue()-otherValue._getSortValue()}matchedBySearch(searchValue){var formattedStripped,searchStripped=searchValue.replace(/,/g,""),searchNumber=Number(searchStripped),value=this.getValue();if(value)if(NumberValue.DIRECT_MATCH_NUMBER_TYPES.has(this._column.numberType)){if(searchNumber===value)return!0}else if(formattedStripped=this._getFormattedText().replace(/,/g,"").toLowerCase(),parseFloat(formattedStripped,10)===parseFloat(searchStripped)&&0===formattedStripped.indexOf(searchStripped))return!0;return!1}_parseInput(input){var components=[],value=null;if(null!=input&&(Array.isArray(input)?components=input.map(Number):components.push(Number(input))),components.length){let summed=components.reduce(function(previous,current){return previous+current},0);Number.isNaN(summed)||(value=summed)}util.isFloat(value)&&(value=parseFloat(value.toFixed(this._getPrecision()))),this._valueComponents=components,this._value=value}_getCompareBarColors(){var colors=[],TYPE=NumberValue.NUMBER_COMPARE_BAR_TYPE,COLORS=formatters.COMPARE_BAR_COLOR;switch(this._column.numberCompareBar){case TYPE.SINGULAR_NEUTRAL:colors=[COLORS.BLUE];break;case TYPE.SINGULAR_GOOD:colors=[COLORS.GREEN];break;case TYPE.SINGULAR_BAD:colors=[COLORS.RED];break;case TYPE.DUAL_GOOD:colors=[COLORS.OCEAN_GREEN,COLORS.GREEN];break;case TYPE.BAD_GOOD:colors=[COLORS.RED,COLORS.GREEN];break;case TYPE.DUAL_BAD:colors=[COLORS.BRIGHT_RED,COLORS.RED];break;case TYPE.CUSTOM:colors=this._column.compareBarColors}return colors}_format({forTable:forTable=!1}={}){var formatted;if(null!=this._value)if(this._column.numberType===NumberValue.NUMBER_TYPE.CUSTOM)if("function"==typeof this._column.cellFormatter)try{formatted=this._column.cellFormatter.call(this._row,this._row.entry,this._column,this._value)}catch(e){log.error(e)}else formatted=this._value;else formatted=this._getFormattedText(),this._settings.showCompareBars&&this._column.numberCompareBar&&forTable&&(formatted=this._formatCompareBar(formatted));else formatted="";return formatted}_getFormattedText(){if(!this._formattedText&&null!=this._value){const precision=this._getPrecision();switch(this._column.numberType){case NumberValue.NUMBER_TYPE.UNFORMATTED:this._formattedText=this._value.toString();break;case NumberValue.NUMBER_TYPE.SIMPLE:this._formattedText=this._value.toLocaleString(void 0,{maximumFractionDigits:precision}),this._column.numberUnit&&(this._formattedText+=this._column.numberUnit);break;case NumberValue.NUMBER_TYPE.BINARY_BYTES:this._formattedText=formatters.binaryBytes(this._value,precision);break;case NumberValue.NUMBER_TYPE.METRIC_BYTES:this._formattedText=formatters.metricBytes(this._value,precision);break;case NumberValue.NUMBER_TYPE.METRIC_BYTES_PER_SECOND:this._formattedText=formatters.metricBytesPerSecond(this._value,precision);break;case NumberValue.NUMBER_TYPE.METRIC_BITS_PER_SECOND:this._formattedText=formatters.metricBitsPerSecond(this._value,precision);break;case NumberValue.NUMBER_TYPE.TIME_DURATION:this._formattedText=dateTime.humanizeSeconds(this._value,{short:!0,truncateInsignificant:!0});break;case NumberValue.NUMBER_TYPE.PERCENTAGE:case NumberValue.NUMBER_TYPE.PRECISE_PERCENTAGE:this._formattedText=formatters.normalizePercentage(this._value,precision);break;default:log.error(`Invalid numberType: "${this._column.numberType}"`)}}return this._formattedText}_formatCompareBar(caption){var components=this.getValueComponents(),total=this.getValue(),max=this._column.getMaxNumberValue(this._row.entry),width=Math.max(total/max*100,total>0?1:0).toFixed(0),colors=this._getCompareBarColors(),innerBar=dom.elem("div",{className:"compare-bar-inner",style:{display:total?null:"none",width:`${width}%`}});return components.forEach(function(value,index){var className="compare-bar-value",grow=index===components.length-1;grow&&(className+=" flex-grow"),innerBar.appendChild(dom.elem("div",{className:className,style:{"background-color":colors[index]||"magenta",width:grow?null:`${(value/total*100).toFixed(0)}%`}}))}),dom.elem("div",{className:"compare-bar-container"},{children:[dom.elem("div",{className:"compare-bar-caption"},{children:[dom.elem("span",{className:"compare-bar-caption-text",textContent:caption})]}),dom.elem("div",{className:"compare-bar-outer"},{children:[innerBar]})]})}_getSortValue(){return null==this._sortValue&&(this._sortValue=null!=this._value?this._value:-Number.MAX_VALUE),this._sortValue}_getPrecision(){let precision=2;switch(this._column.numberType){case NumberValue.NUMBER_TYPE.PERCENTAGE:precision=0}return precision}}NumberValue.NUMBER_TYPE={UNFORMATTED:"unformatted",SIMPLE:"simple",BINARY_BYTES:"binaryBytes",METRIC_BYTES:"metricBytes",METRIC_BYTES_PER_SECOND:"metricBytesPerSecond",METRIC_BITS_PER_SECOND:"metricBitsPerSecond",TIME_DURATION:"timeDuration",PERCENTAGE:"percentage",PRECISE_PERCENTAGE:"precisePercentage",CUSTOM:"custom"},NumberValue.NUMBER_COMPARE_BAR_TYPE={SINGULAR_NEUTRAL:"neutral",SINGULAR_GOOD:"good",SINGULAR_BAD:"bad",DUAL_GOOD:"dualGood",BAD_GOOD:"badGood",DUAL_BAD:"dualBad",CUSTOM:"custom"},NumberValue.DIRECT_MATCH_NUMBER_TYPES=new Set([NumberValue.NUMBER_TYPE.SIMPLE,NumberValue.NUMBER_TYPE.CUSTOM]),NumberValue.BINARY_BYTES_UNITS={B:1,KiB:1024,MiB:1048576,GiB:1024**3,TiB:1024**4,PiB:1024**5},NumberValue.METRIC_BYTES_UNITS={B:1,kB:1e3,MB:1e6,GB:1e9,TB:1e12,PB:1e15},NumberValue.METRIC_BYTES_PER_SECOND_UNITS={"B/s":1,"kB/s":1e3,"MB/s":1e6,"GB/s":1e9,"TB/s":1e12,"PB/s":1e15},NumberValue.METRIC_BITS_PER_SECOND_UNITS={bps:1,kbps:1e3,Mbps:1e6,Gbps:1e9,Tbps:1e12,Pbps:1e15},NumberValue.TIME_DURATION_UNITS={s:1,m:60,h:3600,d:86400},NumberValue.PERCENTAGE_UNITS={"%":1},module.exports=NumberValue},function(module,exports,__webpack_require__){"use strict";const log=__webpack_require__(45);module.exports=class{constructor(column,settings){this.column=column,this.settings=settings}serialize(){throw new Error("Not implemented")}matches(row){let result;const cellValue=row.getCellValueSync(this.column);if(this.column.type===this.column.TYPE.STANDARD&&"function"==typeof this.column.cellFilterFunction)try{result=this.column.cellFilterFunction.call(row,cellValue,row.entry,this.column)}catch(e){log.error(e)}else result=this._matchesCellValue(cellValue,row);return result}isEmpty(){return!1}_matchesCellValue(){throw new Error("Not implemented")}}},function(module,exports,__webpack_require__){"use strict";class DfsVisitor{constructor(visitCallback,alreadyVisitedCallback,finishSubtreeCallback){let noop=function(){};this.visitCallback=visitCallback||noop,this.alreadyVisitedCallback=alreadyVisitedCallback||noop,this.finishSubtreeCallback=finishSubtreeCallback||noop}}class DfsState{constructor(node,parent,edge,depth){this.node=node,this.parent=parent,this.edge=edge,this.depth=depth}}class DfsFinishSubtreeTask{constructor(node){this.node=node}}class BfsVisitor{constructor(visitCallback,alreadyVisitedCallback){let noop=function(){};this.visitCallback=visitCallback||noop,this.alreadyVisitedCallback=alreadyVisitedCallback||noop}}class BfsState{constructor(node,parent,edge,depth){this.node=node,this.parent=parent,this.edge=edge,this.depth=depth}}class Edge extends Set{constructor(nodeIds){if(2!==new Set(nodeIds).size)throw new Error("Invalid incident nodes for edge");super(nodeIds)}isEqualTo(other){let isEqual=other instanceof Edge;return isEqual&&this.forEach(node=>{isEqual=isEqual&&other.has(node)}),isEqual}}class Node{constructor(id,data){if(null==id)throw new Error("Invalid Node id");this.data=data,this.id=id}}class BlockNode extends Node{constructor(component){super(Array.from(component.nodeMap.keys()).sort().join("::"),component),Object.defineProperty(this,"isBlockNode",{writable:!1,configurable:!1,value:!0})}contains(nodeId){return this.data.nodeMap.get(nodeId)}}class BaseGraph{constructor(nodes,edges){this.nodes=[],this.edges=[],this.nodeMap=new Map,this.edgeMap=new Map,this._mapNodes(nodes),this._mapEdges(edges)}_mapNodes(nodes){nodes.forEach(node=>{node instanceof Node&&!this.nodeMap.get(node.id)&&(this.nodeMap.set(node.id,node),this.nodes.push(node))})}_mapEdges(edges){edges.forEach(edge=>{let iterator=edge.values();const node=this.nodeMap.get(iterator.next().value),adjNode=this.nodeMap.get(iterator.next().value);node&&adjNode&&(this.edgeMap.get(node.id)||this.edgeMap.set(node.id,new Map),this.edgeMap.get(adjNode.id)||this.edgeMap.set(adjNode.id,new Map),this.edgeMap.get(node.id).get(adjNode.id)||this.edgeMap.get(adjNode.id).get(node.id)||(this.edgeMap.get(node.id).set(adjNode.id,edge),this.edgeMap.get(adjNode.id).set(node.id,edge),this.edges.push(edge)))})}degree(node){const edges=this.edgeMap.get(node.id);return edges&&edges.size||0}subgraph(nodes){const edges=nodes.reduce((prev,node)=>{const incidentEdges=this.edgeMap.get(node.id);return incidentEdges&&incidentEdges.forEach(function(edge){prev.push(edge)}),prev},[]);return new Graph(nodes,edges)}mergeNodes(nodesToMerge,mergedNodeFactory,mergedEdgeFactory){const mergedNodeInstance=mergedNodeFactory(nodesToMerge.map(nodeToMerge=>nodeToMerge.id).sort().join("::"),nodesToMerge),nodesToMergeIds=new Set(nodesToMerge.map(nodeToMerge=>nodeToMerge.id)),otherNodes=this.nodes.filter(node=>!nodesToMerge.includes(node)),incidentEdges=[],nonIncidentEdges=[];return this.edgeMap.forEach((edges,nodeId)=>{const node=this.nodeMap.get(nodeId);edges.forEach((edge,neighbourId)=>{const neighbourNode=this.nodeMap.get(neighbourId);if(nodesToMergeIds.has(nodeId)||nodesToMergeIds.has(neighbourId))if(nodesToMergeIds.has(nodeId)){if(!nodesToMergeIds.has(neighbourId)){const edgeCopy=mergedEdgeFactory(neighbourNode,mergedNodeInstance);incidentEdges.push(edgeCopy)}}else{const edgeCopy=mergedEdgeFactory(node,mergedNodeInstance);incidentEdges.push(edgeCopy)}else nonIncidentEdges.push(edge)})}),new Graph([...otherNodes,mergedNodeInstance],[...incidentEdges,...nonIncidentEdges])}hasEdge(nodeIdA,nodeIdB){let incidentEdges=this.edgeMap.get(nodeIdA);return incidentEdges&&incidentEdges.get(nodeIdB)}depthFirstSearch(rootNode,dfsVisitor){const dfsTree=new Map,stack=[new DfsState(rootNode,void 0,void 0,0)];if(!(dfsVisitor instanceof DfsVisitor))throw new Error("Invalid DfsVisitor");for(;stack.length;){let item=stack.pop();if(item instanceof DfsState){let dfsState=item,node=dfsState.node;dfsTree.get(node)?dfsVisitor.alreadyVisitedCallback(dfsState,dfsTree):(dfsTree.set(node,dfsState),dfsVisitor.visitCallback(dfsState,dfsTree),stack.push(new DfsFinishSubtreeTask(node)),(this.edgeMap.get(node.id)||[]).forEach((edge,neighbourId)=>{var adjNode=this.nodeMap.get(neighbourId);stack.push(new DfsState(adjNode,node,edge,dfsState.depth+1))}))}else if(item instanceof DfsFinishSubtreeTask){let dfsFinishSubtreeTask=item;dfsVisitor.finishSubtreeCallback(dfsFinishSubtreeTask,dfsTree)}}return dfsTree}breadthFirstSearch(rootNode,bfsVisitor){const bfsTree=new Map,queue=[new BfsState(rootNode,void 0,void 0,0)];if(!(bfsVisitor instanceof BfsVisitor))throw new Error("Invalid BfsVisitor");for(;queue.length;){let item=queue.shift();if(item instanceof BfsState){let bfsState=item,node=bfsState.node;bfsTree.get(node)?bfsVisitor.alreadyVisitedCallback(bfsState,bfsTree):(bfsTree.set(node,bfsState),bfsVisitor.visitCallback(bfsState,bfsTree),(this.edgeMap.get(node.id)||[]).forEach((edge,neighbourId)=>{let adjNode=this.nodeMap.get(neighbourId);queue.push(new BfsState(adjNode,node,edge,bfsState.depth+1))}))}}return bfsTree}findConnectedComponents(){let componentNodes,componentEdges;const components=[],unvisited=new Map(this.nodeMap);const dfsVisitor=new DfsVisitor(function(dfsState){unvisited.delete(dfsState.node.id),componentNodes.push(dfsState.node),dfsState.edge&&componentEdges.push(dfsState.edge)}.bind(this),function(dfsState){componentEdges.push(dfsState.edge)});for(;unvisited.size;){let node=unvisited.values().next().value;componentNodes=[],componentEdges=[],this.depthFirstSearch(node,dfsVisitor),components.push(new Component(componentNodes,componentEdges))}return components}findBiconnectedComponents(){const components=[],cutNodeIds=new Set,stack=[],nodeMap=this.nodeMap;const dfsVisitor=new DfsVisitor(function(dfsState,dfsTree){dfsState.low=dfsState.depth,dfsState.isArticulationPoint=!1,dfsState.numChildren=0;const node=dfsState.node,parentNode=dfsState.parent;parentNode&&(dfsTree.get(parentNode).numChildren++,stack.push(new Edge([parentNode.id,node.id])))},function(alreadyVisitedDfsState,dfsTree){const node=alreadyVisitedDfsState.parent,adjNode=alreadyVisitedDfsState.node,dfsState=dfsTree.get(node),adjDfsState=dfsTree.get(adjNode);dfsState.parent!==adjNode&&adjDfsState.depth<dfsState.depth&&(stack.push(new Edge([node.id,adjNode.id])),dfsState.low=Math.min(dfsState.low,adjDfsState.depth))},function(dfsFinishSubtreeTask,dfsTree){const dfsState=dfsTree.get(dfsFinishSubtreeTask.node),parentNode=dfsState.parent;if(parentNode){const parentDfsTreeNode=dfsTree.get(parentNode);if(dfsState.low>=parentDfsTreeNode.depth){const edge=new Edge([parentNode.id,dfsState.node.id]);components.push(function(lastEdge){let edge;const nodes=new Set,edges=new Set;do{(edge=stack.pop()).forEach(function(incidentNodeId){nodes.add(nodeMap.get(incidentNodeId))}),edges.add(edge)}while(!edge.isEqualTo(lastEdge));return new Component(nodes,edges)}(edge)),parentDfsTreeNode.isArticulationPoint=!0}parentDfsTreeNode.low=Math.min(parentDfsTreeNode.low,dfsState.low)}}),unvisited=new Map(this.nodeMap);for(;unvisited.size;){let rootNode=unvisited.values().next().value;this.depthFirstSearch(rootNode,dfsVisitor).forEach(function(dfsState,node){unvisited.delete(node.id);const isRootNode=!dfsState.parent;!isRootNode&&dfsState.isArticulationPoint?cutNodeIds.add(node.id):isRootNode&&dfsState.numChildren>1&&cutNodeIds.add(node.id)})}return components.cutNodeIds=cutNodeIds,components}}class Component extends BaseGraph{constructor(nodes,edges){super(nodes,edges)}toBlockCutTree(){const treeNodes=[],treeEdges=[],nodeBlockMap=new Map,edgeBlockMap=new Map,biconnectedComponents=this.findBiconnectedComponents(),cutNodeIds=biconnectedComponents.cutNodeIds;return biconnectedComponents.filter(component=>component.nodeMap.size>2).forEach(function(component){const blockNode=new BlockNode(component);component.nodeMap.forEach(function(node){nodeBlockMap.get(node.id)||nodeBlockMap.set(node.id,new Map),nodeBlockMap.get(node.id).set(blockNode.id,blockNode)}),component.edgeMap.forEach(function(edges,nodeId){edgeBlockMap.get(nodeId)||edgeBlockMap.set(nodeId,new Map),edges.forEach(function(edge,neighbourId){edgeBlockMap.get(nodeId).set(neighbourId,blockNode)})}),treeNodes.push(blockNode)}),this.nodeMap.forEach(function(node){const containingBlocks=nodeBlockMap.get(node.id);containingBlocks&&containingBlocks.size?cutNodeIds.has(node.id)&&(treeNodes.push(node),containingBlocks.forEach(function(blockNode){treeEdges.push(new Edge([node.id,blockNode.id]))})):treeNodes.push(node)}),this.edgeMap.forEach((edges,nodeId)=>{edges.forEach(function(edge,neighbourId){edgeBlockMap.get(nodeId)&&edgeBlockMap.get(nodeId).get(neighbourId)||treeEdges.push(edge)})}),new BlockCutTree(treeNodes,treeEdges,nodeBlockMap)}}class BlockCutTree extends Component{constructor(nodes,edges,nodeBlockMap){super(nodes,edges),this.nodeBlockMap=nodeBlockMap}}class Graph extends BaseGraph{constructor(nodes,edges){super(nodes,edges),this.components=this.findConnectedComponents()}}module.exports={Node:Node,Edge:Edge,Graph:Graph,DfsVisitor:DfsVisitor,BfsVisitor:BfsVisitor}},function(module,exports,__webpack_require__){"use strict";const BaseTopologyNode=__webpack_require__(70);class ContainerNode extends BaseTopologyNode{constructor(data){super(),this.validateAndSetRequiredKeys(data)}get $PROPERTIES(){return ContainerNode.PROPERTIES}getLeftMidpoint(){const midRowY=this.height/2;return{x:this.offset.x,y:this.offset.y+midRowY}}getRightMidpoint(){const midRowY=this.height/2;return{x:this.offset.x+this.width,y:this.offset.y+midRowY}}}ContainerNode.PROPERTIES=[{name:"id",required:!0},{name:"interactType"},{name:"placement"}],module.exports=ContainerNode},,,,,,,function(module,exports){var path="/.build/gui_shared_export/ng/directives/menu/partials/button.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<button type="button" ng-class="{\'selected\': selected, emphasized: emphasized}" class="{{extraClass}}"\n    ng-disabled="disabled()" ng-click="onClick($event)">\n    <div class="flex-button-content" ng-transclude></div>\n</button>\n')}]),module.exports=path},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";var $=jQuery,CLICK_EVENTS=["click","contextemenu"];function Mask(className,target){this._className=className,this._visibleFor={},this._extraClasses={},this.updateTarget(target)}Mask.prototype._getMask=function(){return this._$mask||(this._$mask=$("<div></div>").addClass("base-mask "+this._className).on(CLICK_EVENTS.join(" "),function(event){event.stopPropagation()})),this._$mask},Mask.prototype._getClickEventString=function(id){return CLICK_EVENTS.map(function(eventString){return eventString+"."+id}).join(" ")},Mask.prototype.updateTarget=function(target){this._target=target||"body",Object.keys(this._visibleFor).length>0&&this._$mask.detach().appendTo(this._target)},Mask.prototype.display=function(id,extraClass){var $mask=this._getMask();$mask.parent().length||($mask.appendTo(this._target),extraClass&&($mask.addClass(extraClass),this._extraClasses[extraClass]?this._extraClasses[extraClass].push(id):this._extraClasses[extraClass]=[id])),this._visibleFor[id]=extraClass||!0},Mask.prototype.displayAndListen=function(id,callback,extraClass){var $mask=this._getMask(),clickEvent=this._getClickEventString(id);this.display(id,extraClass),$mask.off(clickEvent).on(clickEvent,function(){this.hide(id),callback()}.bind(this))},Mask.prototype.hide=function(id){var $mask,classVisibleFor,visibleClass=this._visibleFor[id];null!=visibleClass&&(($mask=this._getMask()).off(this._getClickEventString(id)),"string"==typeof visibleClass&&(1===(classVisibleFor=this._extraClasses[visibleClass]).length?(delete this._extraClasses[visibleClass],$mask.removeClass(visibleClass)):classVisibleFor.splice(classVisibleFor.indexOf(id),1)),delete this._visibleFor[id],0===Object.keys(this._visibleFor).length&&$mask.remove())},module.exports=Mask},function(module,exports,__webpack_require__){"use strict";module.exports=class{destroy(){throw new Error("Not implemented")}}},function(module,exports,__webpack_require__){"use strict";var MIN_LENGTH_FOR_NON_BLOCKING=5e3;function swap(array,indexA,indexB){var temp=array[indexA];array[indexA]=array[indexB],array[indexB]=temp}module.exports=function(array,comparator,callback){var length=array.length,placed=0;comparator=comparator||function(a,b){return a-b},length<MIN_LENGTH_FOR_NON_BLOCKING?(array.sort(comparator),"function"==typeof callback&&callback(array)):function sort(array,comparator,start,end,itemsPlacedCallback){var pivot,pivotRange;var length=end-start+1;var sortLeft=function(){sort(array,comparator,start,pivotRange[0]-1,itemsPlacedCallback)};var sortRight=function(){sort(array,comparator,pivotRange[1]+1,end,itemsPlacedCallback)};if(start>end)return;if(start===end)return void itemsPlacedCallback(1);if(end-start==1)return comparator(array[start],array[end])>0&&swap(array,start,end),void itemsPlacedCallback(2);pivot=function(array,start,end){return Math.floor(Math.random()*(end-start+1))+start}(0,start,end);pivotRange=function(array,comparator,pivot,start,end){var compareResult,mid=start,pivotValue=array[pivot];swap(array,pivot,end);for(;mid<=end;)(compareResult=comparator(array[mid],pivotValue))<0?(swap(array,start,mid),start++,mid++):compareResult>0?(swap(array,mid,end),end--):mid++;return[start,mid-1]}(array,comparator,pivot,start,end);length<MIN_LENGTH_FOR_NON_BLOCKING?(sortLeft(),sortRight()):(setTimeout(sortLeft),setTimeout(sortRight));itemsPlacedCallback(pivotRange[1]-pivotRange[0]+1)}(array,comparator,0,length-1,function(numItemsPlaced){(placed+=numItemsPlaced)===length&&"function"==typeof callback&&callback(array)})}},function(module,exports,__webpack_require__){"use strict";function TooltipKey(label,formatter,present,extraKey){this.label=label,formatter&&(this.formatter=formatter),present&&(this.present=present),this.extraKey=extraKey||!1}TooltipKey.prototype={label:null,formatter:null,present:null,extraKey:!1},module.exports=TooltipKey},function(module,exports,__webpack_require__){"use strict";class SearchMatch{constructor({searchString:searchString="",searchRegex:searchRegex=null,matchingValue:matchingValue=null,matchingSearchKeys:matchingSearchKeys={}}={}){this._searchString=searchString,this._searchRegex=searchRegex,this._matchingValue=matchingValue,this._matchingSearchKeys=matchingSearchKeys,this._matchType=this._checkMatchType()}_checkMatchType(){const hasMatchingKeys=Object.keys(this._matchingSearchKeys).length,hasMatchingValue=this._matchingValue;return hasMatchingValue&&hasMatchingKeys?SearchMatch.SEARCH_MATCH_TYPE.BOTH:hasMatchingValue?SearchMatch.SEARCH_MATCH_TYPE.VALUE:hasMatchingKeys?SearchMatch.SEARCH_MATCH_TYPE.SEARCH_KEYS:SearchMatch.SEARCH_MATCH_TYPE.NONE}getMatchType(){return this._matchType}getSearchString(){return this._searchString}getSearchRegex(){return this._searchRegex}getMatchedValue(){return this._matchingValue}matchesKey(key){return!!this._matchingSearchKeys[key]}isMatch(){return this._matchType!==SearchMatch.SEARCH_MATCH_TYPE.NONE}isValueMatch(exclusive){return exclusive?this._matchType===SearchMatch.SEARCH_MATCH_TYPE.VALUE:SearchMatch.VALUE_MATCH_TYPES.includes(this._matchType)}isKeyMatch(exclusive){return exclusive?this._matchType===SearchMatch.SEARCH_MATCH_TYPE.SEARCH_KEYS:SearchMatch.SEARCH_KEYS_MATCH_TYPES.includes(this._matchType)}}SearchMatch.SEARCH_MATCH_TYPE={NONE:0,VALUE:1,SEARCH_KEYS:2,BOTH:3},SearchMatch.VALUE_MATCH_TYPES=[SearchMatch.SEARCH_MATCH_TYPE.VALUE,SearchMatch.SEARCH_MATCH_TYPE.BOTH],SearchMatch.SEARCH_KEYS_MATCH_TYPES=[SearchMatch.SEARCH_MATCH_TYPE.SEARCH_KEYS,SearchMatch.SEARCH_MATCH_TYPE.BOTH],module.exports=SearchMatch},function(module,exports,__webpack_require__){"use strict";var $=jQuery;module.exports.PREVENT_LOCKUP_TIMEOUT=75,module.exports.eventInsideElement=function(event,element){return event.target===element||$.contains(element,event.target)},module.exports.firstScrollableParent=function(element,highest){var firstScrollable=function(findElement){return findElement?findElement.scrollHeight-findElement.clientHeight>0?findElement:highest&&findElement===highest?null:firstScrollable(findElement.parentNode):null};return firstScrollable(element.parentElement)}},function(module,exports,__webpack_require__){"use strict";const RowInterface=__webpack_require__(212),tableUtil=__webpack_require__(109),dom=__webpack_require__(40),log=__webpack_require__(45),lang=__webpack_require__(47),util=__webpack_require__(39),browser=__webpack_require__(74),highlighter=__webpack_require__(125),CollectionValue=__webpack_require__(162),ValidatePattern=__webpack_require__(379),NumberValue=__webpack_require__(163);function Row(id,entry,settings){this.id=id,this.entry=entry,this.insertedIndex=null,this.sourceIndex=null,this.section=null,this.meta={},this._settings=settings,this._childRows=[],this._parentRow=null,this._isExpanded=!1,this._childDepth=null,this._visibleDepth=0,this._childType=null,this._renderedRow=null,this._attachedColumnSet=new Set,this._renderedCellMap={},this._preMeasureCellRenderingPromises={},this._renderedLoadingElement=null,this._renderedEditingControls=null,this._searchValue=null,this._childMatchesSearchValue=!1,this._rowHeight=null,this._topOffset=null,this._lastTableWidth=null,this._cellHeightMap={},this._cellValueMap={},this._editableEnabledMap={},this._searchMatchColumns=null,this._mouseMoveCallback=null,this._mouseDownCallback=null,this._contextMenuCallback=null,this._clickCallback=null,this._doubleClickCallback=null,this._reRenderCallback=null,this._disabledCallback=null,this._editCellCallback=null,this._applyCellChangeCallback=null,this._cancelCellChangeCallback=null,this._toggleParentRowCallback=null,this._collectionFallbackColumns={},this._implicitSequenceGroup=!1,this._canReorderResult=null,this._isIncluded=!1,this._editingColumn=null,this._transitionListenerResolveMap=new Map,this._selected=!1,this._focused=!1,this._located=!1,this._masked=!1,this._editing=!1}Row.prototype=Object.create(RowInterface.prototype),Row.prototype.constructor=Row,Row.prototype.CHILD_TYPE={ONLY:"only",FIRST:"first",MIDDLE:"middle",LAST:"last"},Row.prototype.initialize=function(){var promises=[];return this._settings.columns.forEach(function(column){var cellValue;this._settings.showCompareBars&&this._isNumberCompareBarColumn(column)&&"function"!=typeof column.getCompareBarMax&&(cellValue=this.getCellValue(column),util.objectIsThenable(cellValue)?promises.push(cellValue.then(function(value){column.registerNumberForMaxCalculation(value.getValue())})):column.registerNumberForMaxCalculation(cellValue.getValue()))}.bind(this)),promises.length?Promise.all(promises):null},Row.prototype.getTableSettings=function(){return this._settings},Row.prototype.render=function(tableWidth){let className,renderCallback,rowElement=this._renderedRow;if(rowElement||(className="row",this._settings.rowSelection&&(className+=" selectable"),this._focused&&(className+=" pseudo-focused"),this._selected&&(className+=" selected"),this._editing&&(className+=" editing"),this._masked&&(className+=" masked"),this.isReorderable()&&(className+=" reorderable-row"),this._settings.parentChildRows&&this.isChild()&&(className+=` child-level-${Math.min(this.getDepthAsChild(),4)}`),rowElement=this._renderedRow=dom.elem("div",{className:className},{children:[this._renderLoadingElement()],attributes:{"row-id":this.id},events:{mousemove:function(){browser.isMobile()||"function"!=typeof this._mouseMoveCallback||this._mouseMoveCallback(this)}.bind(this),mousedown:function(event){event.shiftKey&&event.preventDefault(),browser.isMobile()||"function"!=typeof this._mouseDownCallback||this._mouseDownCallback(this,event)}.bind(this),click:function(event){"function"==typeof this._clickCallback&&this._clickCallback(this,event)}.bind(this),dblclick:function(event){browser.isMobile()||"function"!=typeof this._doubleClickCallback||this._doubleClickCallback(this,event)}.bind(this),contextmenu:function(event){event.preventDefault(),browser.isMobile()||"function"!=typeof this._contextMenuCallback||this._contextMenuCallback(this,event)}.bind(this)}}),"function"==typeof this._settings.onRowRendered&&(renderCallback=this._settings.onRowRendered)),this._located?rowElement.classList.add("located-row"):this.isAddedToDOM()||rowElement.classList.remove("located-row"),this.updateCells(tableWidth),renderCallback)try{renderCallback.call(this,rowElement,this.entry)}catch(e){log.error(e)}return rowElement},Row.prototype.isColumnEditingSupported=function(column){return this._settings.editable&&column.editable},Row.prototype.isColumnEditingEnabled=function(column){return this.isColumnEditingSupported(column)&&this._isEditableEnabled(column)},Row.prototype.renderCell=function(column){let cellContent;const map=this._renderedCellMap;let cell=map[column.id];const searchMatched=this._searchValue&&this.didSearchMatchForColumn(column.id),editingAllowed=this.isColumnEditingSupported(column),isEditing=this._editing&&this._editingColumn===column,addRenderedContent=formatted=>{let cellValue=this.getCellValueSync(column);null!=formatted&&tableUtil.setCellElementContent(cellContent,formatted,{allowHTML:column.trustCellFormatterForHTML}),editingAllowed&&this._isEditableEnabled(column)&&this._showCellEditingControls(cell),isEditing||(searchMatched&&!cellValue.MANUAL_SEARCH_HIGHLIGHTING&&this._highlightMatchInCellContent(cellContent),this._onCellRendered(cellContent,cellValue,column))},height=this._settings.mobileLayout?this.getCellHeight(column):this.getHeight();if(!cell){let children,formatted;if(cellContent=dom.elem("div",{className:"row-cell-content"}),isEditing||this._columnShouldHaveFullWidthCellContent(column)&&cellContent.classList.add("full-width"),children=[dom.elem("div",{className:`row-inner-cell ${column.wrappable?"wrappable":""}`,style:{margin:`${this._settings.cellPadding}px`}},{children:[cellContent]})],editingAllowed&&children.push(this._renderHiddenCellEditingControls(column)),this._settings.mobileLayout&&children.unshift(dom.elem("div",{className:"row-cell-title",textContent:lang.translate(column.langKey)})),cell=dom.elem("div",{className:"row-cell"},{attributes:{"column-id":column.id},children:children}),formatted=isEditing?column.renderCellEditingContent(this):column.renderCellContent(this),util.objectIsThenable(formatted)){cellContent.appendChild(this._LOADING_ICON_ELEMENT.cloneNode());const contentAddedPromise=Promise.resolve(formatted).then(addRenderedContent);column.cellWidth||(this._preMeasureCellRenderingPromises[column.id]=contentAddedPromise)}else addRenderedContent(formatted);map[column.id]=cell}return cell.style.height=height+"px",cell},Row.prototype.updateEntry=async function(entry,params={}){const showMask=mask=>{params.skipAnimation||(params.maintainSelection?this.showLoadingMask(mask):this.deselectAndShowLoadingMask(mask))};showMask(!0);try{const resolvedEntry=await Promise.resolve(entry);Object.assign(this.entry,resolvedEntry),this._resetColumnValueStatistics(),await this.reRender({skipAnimation:params.skipAnimation,clearAllCache:!0}),showMask(!1)}catch(e){return showMask(!1),Promise.reject()}},Row.prototype.reRender=async function(params={}){let attachedElem;if(this.isAddedToDOM()&&(attachedElem=this.getRendered()),params.clearAllCache?this.clearAllCache():(this.clearRenderingCache(),this.clearHeightCache()),await Promise.resolve(this.calculateHeight()),attachedElem){const stillAttached=()=>attachedElem.parentElement;if(stillAttached()&&(params.skipAnimation||await this._applyClassAndWaitForTransition(attachedElem,"fade-out"),stillAttached())){const newRowElement=this.render();this.setTopOffset(this.getTopOffset()),newRowElement.setAttribute("inserted-index",this.insertedIndex),params.skipAnimation||newRowElement.classList.add("pre-fade-in"),attachedElem.parentElement.insertBefore(newRowElement,attachedElem),attachedElem.parentElement.removeChild(attachedElem),params.skipAnimation||this._applyClassAndWaitForTransition(newRowElement,"fade-in").then(()=>{newRowElement.classList.remove("pre-fade-in")})}}"function"==typeof this._reRenderCallback&&this._reRenderCallback(this)},Row.prototype.calculateCellHeight=function(column){var cellValue,promise,height=0,settingsHeight=this._settings.rowHeight,minHeight=settingsHeight,calculateCollectionHeight=function(value){var entries=value.getEntries(),count=Math.max(1,entries.length);"number"==typeof this._settings.collectionLimit&&(count=Math.min(count,this._settings.collectionLimit));var entryHeight=column.collectionEntryHeight||settingsHeight;height=count*entryHeight+(count-1)*CollectionValue.ITEM_MARGIN_PIXELS}.bind(this),calculateResult=function(){var result=Math.max(height,minHeight)+2*this._settings.cellPadding;return this._cellHeightMap[column.id]=result,result}.bind(this);if("function"==typeof this._settings.rowHeightFunction)try{minHeight=this._settings.rowHeightFunction(this.entry,this._settings.rowHeight)}catch(e){log.error(e)}if(column.COLLECTION_TYPES.has(column.type)&&!this.isCollectionFallback(column))cellValue=this.getCellValue(column),util.objectIsThenable(cellValue)?promise=cellValue.then(calculateCollectionHeight):calculateCollectionHeight(cellValue);else if(column.type===column.TYPE.STANDARD&&"function"==typeof column.cellHeightFunction)try{minHeight=column.cellHeightFunction(this.entry,this._settings.rowHeight)}catch(e){log.error(e)}return promise?promise.then(calculateResult):calculateResult()},Row.prototype.calculateHeight=function(){var calculate,promises,cellHeights,result=this._rowHeight;return null==result&&(calculate=function(){var height;return height=this._settings.mobileLayout?cellHeights.reduce(function(previous,value){return previous+value},0):Math.max.apply(null,cellHeights),this._editing&&(height=Math.max(height,100)+30),this._rowHeight=height}.bind(this),cellHeights=[],promises=[],this._settings.activeColumns.forEach(column=>{var calculated=this.calculateCellHeight(column);util.objectIsThenable(calculated)?promises.push(calculated.then(height=>{cellHeights.push(height)})):cellHeights.push(calculated)}),result=promises.length?Promise.all(promises).then(calculate):calculate()),result},Row.prototype.getHeight=function(){return this._rowHeight},Row.prototype.getCellHeight=function(column){return this._cellHeightMap[column.id]},Row.prototype.setTopOffset=function(offset){const element=this.getRendered();element&&(element.style.top=`${offset}px`),this._topOffset=offset},Row.prototype.getTopOffset=function(){return this._topOffset},Row.prototype.getReadyForMeasurePromise=function(){var result=null,asyncRenderingColumnIDs=Object.keys(this._preMeasureCellRenderingPromises);return asyncRenderingColumnIDs.length&&(result=Promise.all(asyncRenderingColumnIDs.map(function(columnID){return this._preMeasureCellRenderingPromises[columnID]}.bind(this)))),result},Row.prototype.getCellValue=function(column){var value=this._cellValueMap[column.id];return value||(value=this._cellValueMap[column.id]=column.getCellValue(this),util.objectIsThenable(value)&&value.then(function(resolvedValue){this._cellValueMap[column.id]=resolvedValue}.bind(this))),value},Row.prototype.isCollectionFallback=function(column){var fallback;if(null==this._collectionFallbackColumns[column.id]){if(fallback=!1,column.COLLECTION_TYPES.has(column.type)&&"function"==typeof column.cellIsValidCollectionFunction)try{fallback=!column.cellIsValidCollectionFunction.call(this,this.entry,column)}catch(e){log.error(e)}this._collectionFallbackColumns[column.id]=fallback}return this._collectionFallbackColumns[column.id]},Row.prototype.getCellValueSync=function(column){var result=null,value=this._cellValueMap[column.id];return value&&!util.objectIsThenable(value)&&(result=value),result},Row.prototype.getHierarchyID=function(){let id;if("function"==typeof this._settings.rowHierarchyIDFunction)try{id=this._settings.rowHierarchyIDFunction(this.entry)}catch(e){log.error(e)}return id},Row.prototype.getStandaloneRowID=function(){let id;if("function"==typeof this._settings.standaloneRowIDFunction)try{id=this._settings.standaloneRowIDFunction(this.entry)}catch(e){log.error(e)}return id},Row.prototype.getParentRowHierarchyIDs=function(){let ids;if("function"==typeof this._settings.parentRowHierarchyIDFunction)try{null!=(ids=this._settings.parentRowHierarchyIDFunction(this.entry))&&(Array.isArray(ids)?ids.length||(ids=void 0):ids=[ids])}catch(e){log.error(e)}return ids},Row.prototype.shouldIncludeStandalone=function(){let res=!1;if("function"==typeof this._settings.includeStandaloneParentRowFunction)try{res=this._settings.includeStandaloneParentRowFunction(this.entry,this)}catch(e){log.error(e)}return res},Row.prototype.addChildren=function(rows){Array.isArray(rows)||(rows=[rows]);for(const row of rows)this._childRows.push(row),row.setParentRow(this)},Row.prototype.setParentRow=function(parentRow){this._parentRow=parentRow},Row.prototype.getParentRow=function(){return this._parentRow},Row.prototype.isParent=function(){return this._childRows.length>0},Row.prototype.isChild=function(){return!!this._parentRow},Row.prototype.getVisibleDepth=function(){return this._visibleDepth},Row.prototype.setVisibleDepth=function(depth){this._visibleDepth=depth},Row.prototype.recalculateVisibleDepth=function(){let max=0;if(this.areChildrenExpanded())for(const child of this._childRows){const depth=child.getVisibleDepth()+1;depth>max&&(max=depth)}return this._visibleDepth=max},Row.prototype.getDepthAsChild=function(){if(null==this._childDepth){let depth=0;this._parentRow&&(depth+=this._parentRow.getDepthAsChild()+1),this._childDepth=depth}return this._childDepth},Row.prototype.resetDepthAsChild=function(){this._childDepth=null},Row.prototype.resetChildType=function(){this._childType=null},Row.prototype.getChildTypeForDepth=function(depth){let result;return depth===this.getDepthAsChild()-1?(this._childType||(this._childType=this._parentRow.getTypeForChildRow(this)),result=this._childType):this._parentRow&&(result=this._parentRow.getChildTypeForDepth(depth)),result},Row.prototype.getTypeForChildRow=function(childRow){const includedChildRows=[];let type,i=0,index=-1;for(const row of this._childRows)row.isIncludedInCurrentResult()&&(includedChildRows.push(row),row===childRow&&(index=i),i++);return type=1===includedChildRows.length?this.CHILD_TYPE.ONLY:0===index?this.CHILD_TYPE.FIRST:index===includedChildRows.length-1?this.CHILD_TYPE.LAST:this.CHILD_TYPE.MIDDLE},Row.prototype.getChildRows=function(){return this._childRows},Row.prototype.areChildrenExpanded=function(){return this._isExpanded},Row.prototype.toggleChildrenExpansion=function(params={}){this.isParent()&&(this._isExpanded=!this._isExpanded,params.dontNotify||"function"==typeof this._toggleParentRowCallback&&this._toggleParentRowCallback(this,params))},Row.prototype.setChildrenExpanded=function(expanded){this._isExpanded=expanded},Row.prototype.setIncludedInCurrentResult=function(included){this._childType=null,this._isIncluded=!!included},Row.prototype.isIncludedInCurrentResult=function(){return this._isIncluded},Row.prototype.focus=function(focus){const element=this.getRendered();element&&(focus?element.classList.add("pseudo-focused"):element.classList.remove("pseudo-focused")),this._focused=focus},Row.prototype.select=function(select){const element=this.getRendered();element&&(select?element.classList.add("selected"):element.classList.remove("selected")),this._selected=select},Row.prototype.startEditing=function(column){this._editing=!0,this._editingColumn=column,this.reRender().then(()=>{const input=this._getEditingInput();input&&("function"==typeof input.select&&input.select(),input.focus())})},Row.prototype.completeEditing=function(){return this._editing=!1,this._editingColumn=null,this._resetColumnValueStatistics(),this.reRender({clearAllCache:!0})},Row.prototype.cancelEditing=function(){this.notifyValueEditingStopped(),this._editing=!1,this._editingColumn=null,this.reRender()},Row.prototype.validateEditingValue=async function(){const column=this._editingColumn,cellValue=this.getCellValueSync(column);if(cellValue.handlesEditingValidation())return cellValue.validateEditingValue();const newValue=cellValue.getEditedValue(),isEmpty=null==newValue||"string"==typeof newValue&&!newValue||Array.isArray(newValue)&&!newValue.length,cellElement=this._getEditingCellElement(),input=this._getEditingInput();let errorLabel=cellElement.querySelector("label.error"),errorMessage=null;if(column.editableRequired&&isEmpty&&(errorMessage=lang.translate("This field is required")),!errorMessage&&!isEmpty&&column.type===column.TYPE.STANDARD&&column.STANDARD_TEXT_BASED_EDITABLE_TYPES.has(column.editableType))for(let key of column.editableValidatePatterns){const pattern=this._settings.editableValidatePatterns[key];if(!(pattern instanceof ValidatePattern))throw new Error(`"${key}" is not an instance of ValidatePattern`);if(!pattern.test(newValue,this.entry)){errorMessage=pattern.getErrorMessage();break}}if(!errorMessage&&"function"==typeof column.editableValidateFunction)try{let result=await Promise.resolve(column.editableValidateFunction(newValue,this.entry));"string"==typeof result&&result&&(errorMessage=lang.translate(result))}catch(e){log.error(e)}return errorMessage?(errorLabel?errorLabel.textContent=errorMessage:(errorLabel=dom.elem("label",{className:"error",textContent:errorMessage}),cellElement.querySelector(".row-cell-content").appendChild(errorLabel)),input&&input.classList.add("error")):(errorLabel&&errorLabel.parentElement.removeChild(errorLabel),input&&input.classList.remove("error")),!errorMessage},Row.prototype.notifyValueEditingStopped=function(){if(this._editingColumn){const value=this.getCellValueSync(this._editingColumn);value&&value.stoppedEditing()}},Row.prototype.completeEditingFromCell=function(params={}){"function"==typeof this._applyCellChangeCallback&&this._applyCellChangeCallback(this,params)},Row.prototype.cancelEditingFromCell=function(){"function"==typeof this._cancelCellChangeCallback&&this._cancelCellChangeCallback(this)},Row.prototype.setEditingColumnFromOtherRow=function(column){this._editingColumn=column,this.getRendered()&&this.updateCells()},Row.prototype.deselectAndShowLoadingMask=function(mask){this.showLoadingMask(mask),"function"==typeof this._disabledCallback&&this._disabledCallback(this)},Row.prototype.showLoadingMask=function(mask){const element=this.getRendered();element&&(mask?element.classList.add("masked"):element.classList.remove("masked")),this._masked=mask},Row.prototype.showEditingMask=function(mask,editingRow){const element=this.getRendered();element&&(mask?element.classList.add("editing-masked"):element.classList.remove("editing-masked"),mask&&this.insertedIndex+1===editingRow.insertedIndex?element.classList.add("next-row-editing"):element.classList.remove("next-row-editing"))},Row.prototype.setLocated=function(located){this._located=located},Row.prototype.getRendered=function(){return this._renderedRow},Row.prototype.isAddedToDOM=function(){var rendered=this.getRendered();return!(!rendered||!rendered.parentElement)},Row.prototype.onMouseMove=function(callback){this._mouseMoveCallback=callback},Row.prototype.onMouseDown=function(callback){this._mouseDownCallback=callback},Row.prototype.onClick=function(callback){this._clickCallback=callback},Row.prototype.onDoubleClick=function(callback){this._doubleClickCallback=callback},Row.prototype.onContextMenu=function(callback){this._contextMenuCallback=callback},Row.prototype.onReRender=function(callback){this._reRenderCallback=callback},Row.prototype.onDisabled=function(callback){this._disabledCallback=callback},Row.prototype.onEditCell=function(callback){this._editCellCallback=callback},Row.prototype.onApplyCellChange=function(callback){this._applyCellChangeCallback=callback},Row.prototype.onCancelCellChange=function(callback){this._cancelCellChangeCallback=callback},Row.prototype.onToggleParentRow=function(callback){this._toggleParentRowCallback=callback},Row.prototype.updateCells=function(tableWidth){var totalWidth=0,rowElement=this._renderedRow,attachedColumnSet=this._attachedColumnSet,mobileLayout=this._settings.mobileLayout,activeColumns=this._settings.mobileLayout?this._settings.getActiveColumnsInOrder():this._settings.activeColumns,visibleColumnsSet=this._settings.getVisibleColumnsSet();return activeColumns.forEach(function(column){var cell,width,currentlyAttached=attachedColumnSet.has(column),shouldBeAttached=visibleColumnsSet.has(column);mobileLayout||(width=column.getWidth(),totalWidth+=width),shouldBeAttached?(cell=this.renderCell(column),mobileLayout||(cell.style.width=column.getWidth()+"px",cell.style.left=column.getLeftOffset()+"px"),column.isFirstVisible()?cell.classList.add("first-cell"):cell.classList.remove("first-cell"),column.isLastVisible()?cell.classList.add("last-cell"):cell.classList.remove("last-cell"),this._editingColumn===column?cell.classList.add("editing"):cell.classList.remove("editing"),currentlyAttached||(attachedColumnSet.add(column),rowElement.appendChild(cell))):currentlyAttached&&(attachedColumnSet.delete(column),(cell=this.renderCell(column)).parentElement.removeChild(cell))}.bind(this)),mobileLayout||(rowElement.style.width=totalWidth+"px"),"number"==typeof tableWidth&&(this._lastTableWidth=tableWidth),this._lastTableWidth&&!mobileLayout&&(this._renderLoadingElement().style.width=`${this._lastTableWidth}px`),totalWidth},Row.prototype.prepareForMeasure=function(){this._settings.activeColumns.forEach(function(column){return this.prepareCellForMeasure(column)}.bind(this))},Row.prototype.measure=function(){return this._settings.activeColumns.map(function(column){return this.measureCell(column)}.bind(this))},Row.prototype.prepareCellForMeasure=function(column){if(!column.wrappable){const cell=this.renderCell(column);column.isFirstVisible()?cell.classList.add("first-cell"):cell.classList.remove("first-cell"),cell.style.width=null}},Row.prototype.measureCell=function(column){if("number"==typeof column.cellWidth)return column.cellWidth;if("function"==typeof column.cellWidth)try{return column.cellWidth.call(this,this.entry)}catch(e){log.error(e)}const cell=this.renderCell(column);return Math.ceil(cell.getBoundingClientRect().width)+1},Row.prototype.setSearchValue=function(searchValue){this._searchValue=searchValue,searchValue&&(this._searchRegex=new RegExp(util.preRegexEscape(searchValue),"i")),this._searchMatchColumns=new Set,this._childMatchesSearchValue=!1},Row.prototype.setChildMatchesSearchValue=function(matches){this._childMatchesSearchValue=matches},Row.prototype.doesChildMatchSearchValue=function(){return this._childMatchesSearchValue},Row.prototype.getSearchValue=function(){return this._searchValue},Row.prototype.setSearchMatchForColumn=function(columnID){this._searchMatchColumns&&this._searchMatchColumns.add(columnID)},Row.prototype.didSearchMatchForColumn=function(columnID){return this._searchMatchColumns&&this._searchMatchColumns.has(columnID)},Row.prototype.getSequenceGroupingValue=function(){var column=this._settings.getHiddenSequenceGroupingColumn(),value=column&&this.getCellValueSync(column);return value&&value.getValue()||""},Row.prototype.isReorderable=function(){return this._getCanReorderFunctionResult()&&(!this.section||!this.section.firstRow.isImplicitSequenceGrouping())},Row.prototype.isImplicitSequenceGrouping=function(){return this._implicitSequenceGroup},Row.prototype.setImplicitSequenceGrouping=function(){this._implicitSequenceGroup=!0},Row.prototype.clearRenderingCache=function(){this._renderedRow=null,this._renderedCellMap={},this._renderedLoadingElement=null,this._attachedColumnSet=new Set,this._settings.columns.forEach(column=>{const cellValue=this.getCellValueSync(column);cellValue&&cellValue.cleanupRenderDestroyables()}),this._transitionListenerResolveMap.forEach(resolve=>resolve()),this._transitionListenerResolveMap=new Map},Row.prototype.clearHeightCache=function(){this._rowHeight=null},Row.prototype.clearAllCache=function(){this.clearRenderingCache(),this.clearHeightCache(),this._preMeasureCellRenderingPromises={},this._cellValueMap={},this._editableEnabledMap={},this._collectionFallbackColumns={}},Row.prototype._highlightMatchInCellContent=function(cellContent){(0,highlighter.highlightMatchesInElement)(cellContent,this._searchRegex||this._searchValue,!0)||cellContent.classList.add("search-match-highlight")},Row.prototype._isNumberCompareBarColumn=function(column){return column.type===column.TYPE.NUMBER&&column.numberType!==NumberValue.NUMBER_TYPE.CUSTOM&&column.numberCompareBar},Row.prototype._columnShouldHaveFullWidthCellContent=function(column){return column.wrappable||column.fullWidthCellContent||this._isNumberCompareBarColumn(column)},Row.prototype._renderHiddenCellEditingControls=function(column){const editButton=dom.elem("button",{className:"edit-cell-button"},{attributes:{type:"button"},children:[dom.elem("f-icon",{className:"fa-pencil"})],events:{click:event=>{event.stopPropagation(),"function"==typeof this._editCellCallback&&this._editCellCallback(this,column)}}}),applyButton=dom.elem("button",{className:"primary apply-cell-button",style:{margin:`${this._settings.cellPadding}px`}},{attributes:{type:"button"},children:[dom.elem("span",{textContent:lang.translate("Apply")})],events:{click:event=>{event.stopPropagation(),"function"==typeof this._applyCellChangeCallback&&this._applyCellChangeCallback(this,{})}}}),cancelButton=dom.elem("button",{className:"cancel-cell-button",style:{margin:`${this._settings.cellPadding}px`,"margin-left":0}},{attributes:{type:"button"},children:[dom.elem("span",{textContent:lang.translate("Cancel")})],events:{click:event=>{event.stopPropagation(),"function"==typeof this._cancelCellChangeCallback&&this._cancelCellChangeCallback(this)}}});return dom.elem("div",{className:"cell-editing-controls hidden"},{children:[editButton,applyButton,cancelButton]})},Row.prototype._showCellEditingControls=function(element){element.querySelector(".cell-editing-controls").classList.remove("hidden")},Row.prototype._renderLoadingElement=function(){return this._renderedLoadingElement||(this._renderedLoadingElement=dom.elem("div",{className:"flex-centered row-loading"},{children:[dom.elem("f-icon",{className:"fa-loading icon-lg"})]})),this._renderedLoadingElement.style.height=this.getHeight()+"px",this._renderedLoadingElement},Row.prototype._onCellRendered=function(cellContent,cellValue,column){if("function"==typeof column.onCellRendered)try{const result=column.onCellRendered.call(this,cellContent,this.entry,column,cellValue.getValue());cellValue.registerRenderDestroyable(result)&&column.flagOnCellRenderedNoDestroyables()}catch(e){log.error(e)}},Row.prototype._applyClassAndWaitForTransition=function(element,className){return new Promise(resolve=>{const onTransitionEnd=()=>{element.classList.remove(className),element.removeEventListener("transitionend",onTransitionEnd),this._transitionListenerResolveMap.delete(onTransitionEnd),resolve()};element.addEventListener("transitionend",onTransitionEnd),this._transitionListenerResolveMap.set(onTransitionEnd,resolve),setTimeout(function(){element.classList.add(className)})})},Row.prototype._getCanReorderFunctionResult=function(){if(null==this._canReorderResult&&(this._canReorderResult=!0,"function"==typeof this._settings.canReorderFunction))try{this._canReorderResult=!!this._settings.canReorderFunction.call(this,this.entry)}catch(e){log.error(e)}return this._canReorderResult},Row.prototype._resetColumnValueStatistics=function(){this._settings.activeColumns.forEach(column=>column.resetValueStatistics())},Row.prototype._getEditingCellElement=function(){return this._renderedCellMap[this._editingColumn.id]},Row.prototype._getEditingInput=function(){const cellElement=this._getEditingCellElement();let input;if(cellElement){const inputs=cellElement.querySelectorAll("input, select, textarea, .select-widget");inputs.length&&(input=inputs[0])}return input},Row.prototype._isEditableEnabled=function(column){let supported=this._editableEnabledMap[column.id];if(null==supported){if(!this.getCellValueSync(column))throw new Error("A row column can be checked for editable support only after the cell value has resolved.");if("function"==typeof column.editable)try{supported=column.editable.call(this,this.entry,column)}catch(e){log.error(e)}else supported="boolean"==typeof column.editable&&column.editable;this._editableEnabledMap[column.id]=supported}return supported},Row.prototype._LOADING_ICON_ELEMENT=dom.elem("f-icon",{className:"fa-loading"}),module.exports=Row},function(module,exports,__webpack_require__){"use strict";function RowInterface(){}RowInterface.prototype.setSearchValue=function(){throw new Error("Not implemented")},RowInterface.prototype.render=function(){throw new Error("Not implemented")},RowInterface.prototype.getReadyForMeasurePromise=function(){throw new Error("Not implemented")},RowInterface.prototype.calculateHeight=function(){throw new Error("Not implemented")},RowInterface.prototype.getHeight=function(){throw new Error("Not implemented")},RowInterface.prototype.updateCells=function(){throw new Error("Not implemented")},RowInterface.prototype.getRendered=function(){throw new Error("Not implemented")},RowInterface.prototype.setTopOffset=function(){throw new Error("Not implemented")},RowInterface.prototype.getTopOffset=function(){throw new Error("Not implemented")},RowInterface.prototype.isAddedToDOM=function(){throw new Error("Not implemented")},RowInterface.prototype.clearRenderingCache=function(){throw new Error("Not implemented")},module.exports=RowInterface},function(module,exports,__webpack_require__){"use strict";const RowInterface=__webpack_require__(212),tableUtil=__webpack_require__(109),dom=__webpack_require__(40),util=__webpack_require__(39),highlighter=__webpack_require__(125),log=__webpack_require__(45);module.exports=class extends RowInterface{constructor(valueInstance,firstRow,settings){super(),this.valueInstance=valueInstance,this.value=valueInstance.getValue(),this.id=String(this.value),this.firstRow=firstRow,this.rows=[],this.insertedIndex=null,this.meta={},this._rowCount=0,this._unfilteredCount=0,this._column=null,this._settings=settings,this._sectionHeight=null,this._topOffset=null,this._renderedSection=null,this._renderedCell=null,this._renderedVisualToggle=null,this._renderedSettingsButton=null,this._toggleCallback=null,this._contextMenuCallback=null,this._columnSettingsCallback=null,this._searchValue=null,this._includesMatchedRow=!1}setColumn(column){this._column=column}incrementRowCount(){this._rowCount++}incrementUnfilteredCount(){this._unfilteredCount++}includesMatchedRow(){return this._includesMatchedRow}setIncludesMatchedRow(){this._includesMatchedRow=!0}setSearchValue(searchValue){this._searchValue=searchValue,searchValue&&(this._searchRegex=new RegExp(util.preRegexEscape(searchValue),"i"))}render(){if(!this._renderedSection){let className="row section";this._column.isFiltered()&&(className+=" filtered-section"),this._renderedSection=dom.elem("div",{className:className},{children:[this._renderCell()],attributes:{"section-id":this.id},events:{contextmenu:function(event){"function"==typeof this._contextMenuCallback&&(this._contextMenuCallback(this,event.pageX,event.pageY),event.preventDefault(),event.stopPropagation())}.bind(this)}})}return this.updateCells(),this._renderedSection}getReadyForMeasurePromise(){return null}calculateHeight(){var setHeight,cellHeight,result=this._sectionHeight;return result||(setHeight=function(height){return this._sectionHeight=height}.bind(this),cellHeight=this.firstRow.calculateCellHeight(this._column),result=util.objectIsThenable(cellHeight)?cellHeight.then(setHeight):setHeight(cellHeight)),result}getHeight(){return this._sectionHeight}getRowCount(){return this._rowCount}setTopOffset(offset){const element=this.getRendered();element&&(element.style.top=`${offset}px`),this._topOffset=offset}getTopOffset(){return this._topOffset}updateCells(){var width;this._settings.mobileLayout||(width=this._settings.getTotalColumnWidthSum(),this._renderCell().style.width=width+"px")}getRendered(){return this._renderedSection}isAddedToDOM(){return!(!this._renderedSection||!this._renderedSection.parentElement)}isImplicitSequenceGrouping(){let result=!1;return this.firstRow&&(result=this.firstRow.isImplicitSequenceGrouping()),result}clearRenderingCache(){this._renderedSection=null,this._renderedCell=null,this.firstRow.isAddedToDOM()||this.firstRow.clearRenderingCache()}updateVisualToggle(expanded){var button=this._renderVisualToggle();expanded?button.classList.add("active"):button.classList.remove("active")}onToggle(callback){this._toggleCallback=callback}onContextMenu(callback){this._contextMenuCallback=callback}onColumnSettings(callback){this._columnSettingsCallback=callback}_renderCell(){if(!this._renderedCell){const searchMatched=this.firstRow.didSearchMatchForColumn(this._column.id),sectionExtraContent=dom.elem("div",{className:"section-extra-content"});let cellContent;const addRenderedContent=function(formatted){const cellValue=this.firstRow.getCellValueSync(this._column);if(tableUtil.setCellElementContent(cellContent,formatted,{allowHTML:this._column.trustCellFormatterForHTML}),this._searchValue&&searchMatched){let needsFullHighlight=!0;cellValue.MANUAL_SEARCH_HIGHLIGHTING||(needsFullHighlight=!highlighter.highlightMatchesInElement(cellContent,this._searchRegex||this._searchValue,!0)),needsFullHighlight&&cellContent.classList.add("search-match-highlight")}this.firstRow._onCellRendered(cellContent,cellValue,this._column),this._onSectionExtraRendered(sectionExtraContent,cellValue)}.bind(this);let formatted=this._column.renderCellSectionContent(this.firstRow),rowCount=this._rowCount<this._unfilteredCount?`${this._rowCount}/${this._unfilteredCount}`:this._rowCount,rowCountElement=dom.elem("span",{className:"number-bubble row-count",textContent:rowCount.toLocaleString()});this._searchValue&&!searchMatched&&rowCountElement.classList.add("search-match-highlight"),cellContent=dom.elem("div",{className:"section-cell-content"}),this._renderedCell=dom.elem("div",{className:"section-cell",style:{height:this.getHeight()+"px",padding:this._settings.cellPadding+"px"}},{children:[dom.elem("label",{className:"section-label"},{children:[this._renderVisualToggle(),cellContent,rowCountElement,sectionExtraContent]}),dom.elem("span",{className:"section-space-filler flex-grow"})]}),this._settings.getHiddenSequenceGroupingColumn()||this._renderedCell.appendChild(this._renderSettingsButton()),util.objectIsThenable(formatted)?(cellContent.appendChild(dom.elem("f-icon",{className:"fa-loading"})),formatted.then(addRenderedContent)):addRenderedContent(formatted)}return this._renderedCell}_renderVisualToggle(){var className;return this._renderedVisualToggle||(className="compact-visual-toggle",this._settings.isSectionExpanded(this.id)&&(className+=" active"),this._renderedVisualToggle=dom.elem("button",{type:"button",className:className},{events:{click:function(){"function"==typeof this._toggleCallback&&this._toggleCallback(this)}.bind(this)}})),this._renderedVisualToggle}_renderSettingsButton(){if(!this._renderedSettingsButton){let className="section-settings-button";this._renderedSettingsButton=dom.elem("button",{type:"button",className:className},{events:{click:event=>{"function"==typeof this._columnSettingsCallback&&this._columnSettingsCallback(this._column,event)}}})}return this._renderedSettingsButton}_onSectionExtraRendered(extraContent,cellValue){const onRendered=this._column.onSectionExtraRendered;if("function"==typeof onRendered)try{const result=onRendered(extraContent,this,this._column);cellValue.registerRenderDestroyable(result)&&this._column.flagOnCellRenderedNoDestroyables()}catch(e){log.error(e)}}}},function(module,exports,__webpack_require__){"use strict";const MultiValueFilter=__webpack_require__(215),OPTIONS={CONTAINS:"contains",CONTAINED_BY:"containedBy",OVERLAPS:"overlaps"},OPTIONS_MAP={[OPTIONS.OVERLAPS]:{symbol:"âˆ©",langKey:"Overlaps"},[OPTIONS.CONTAINS]:{symbol:"âŠ†",langKey:"Contains"},[OPTIONS.CONTAINED_BY]:{symbol:"âŠ‡",langKey:"Contained By"}},symbolsReg=Object.keys(OPTIONS_MAP).map(key=>OPTIONS_MAP[key].symbol).join("|"),SERIALIZED_REGEX=new RegExp(`^(!)?(${symbolsReg})(.*)$`);class IpFilter extends MultiValueFilter{constructor(serialized,column,settings){super(column,settings),this._parseSerialized(serialized)}isEmpty(){return!this.values.length}serialize(){const searchValue=IpFilter.searchValuesToString(this.values);return IpFilter._serialize(searchValue,this.option,this.negate)}_matchesCellValue(cellValue){let result=this.values.some(value=>cellValue.matchedBySearchValue(value,this.option));return this.negate?!result:result}_parseSerialized(serialized){let match=SERIALIZED_REGEX.exec(serialized);if(this.values=[],!match)throw new Error(`serialized filter: ${serialized} is not valid.`);this.negate=!!match[1],this.option=Object.keys(IpFilter.OPTIONS_MAP).find(key=>IpFilter.OPTIONS_MAP[key].symbol===match[2]),this.values=IpFilter.parseSearchValuesFromString(match[3])}static _serialize(searchValue,option,negate){return`${negate?"!":""}${IpFilter.OPTIONS_MAP[option].symbol}${searchValue}`}static createFilter(searchValue,option,negate,column,settings){return new IpFilter(IpFilter._serialize(searchValue,option,negate),column,settings)}}IpFilter.OPTIONS=OPTIONS,IpFilter.OPTIONS_MAP=OPTIONS_MAP,IpFilter.OR_SPLIT_REGEX=/[,|]{1}/,module.exports=IpFilter},function(module,exports,__webpack_require__){"use strict";const Filter=__webpack_require__(164);class MultiValueFilter extends Filter{constructor(){super(...arguments),this.values=[]}searchValuesToString(){return MultiValueFilter.searchValuesToString(this.values)}static searchValuesToString(searchValues){return searchValues.join(", ")+(searchValues.length?", ":"")}static parseSearchValuesFromString(string){return string.split(MultiValueFilter.OR_SPLIT_REGEX).map(value=>value.trim().toLowerCase()).filter(value=>value)}}MultiValueFilter.OR_SPLIT_REGEX=/[,|]{1}/,module.exports=MultiValueFilter},function(module,exports,__webpack_require__){"use strict";function FilterForm(column,currentFilter,settings,sourceManager){this.column=column,this.currentFilter=currentFilter,this.settings=settings,this.sourceManager=sourceManager}FilterForm.prototype.getContent=function(){throw new Error("Not implemented")},FilterForm.prototype.createFilter=function(){throw new Error("Not implemented")},FilterForm.prototype.destroy=function(){},module.exports=FilterForm},function(module,exports,__webpack_require__){"use strict";const log=__webpack_require__(45),dom=__webpack_require__(40),SearchRow=__webpack_require__(619),BATCHED_SEARCH_SIZE=1e4;class SearchSource{constructor({id:id,name:name,category:category,keywords:keywords,warningThreshold:warningThreshold,meta:meta,defaultEnabled:defaultEnabled=!1,tooltips:tooltips=!0}){if("string"!=typeof id)throw new Error("Invalid ID given");this.id=id,this._name=name||id,"string"==typeof category&&(this.category=category||id),"number"==typeof warningThreshold&&(this._warningThreshold=warningThreshold),"function"==typeof meta&&(this._meta=meta),"boolean"==typeof defaultEnabled&&(this.defaultEnabled=defaultEnabled),"boolean"==typeof tooltips&&(this.tooltips=tooltips),this._keywords=[],Array.isArray(keywords)&&(this._keywords=keywords),this.enabled=!1,this.collapsed=!1,this._rows=[],this._activeRows=[]}destroy(){this._data=null,this._rows=[],this._activeRows=[]}get name(){return"function"==typeof this._name?this._name():this._name}async showSourceSizeWarning(size){return null!=this._warningThreshold&&(null==size&&(size=await this.size()),size>=this._warningThreshold)}getCachedData(){return this._data}getMetaData(){return this._meta?this._meta():{}}dataFilter(){return!0}isAvailable(){return!0}entryTooltipFormatter(){return dom.elem("div")}entryClick(){}onEntryRender(){}entryFormatter(){return dom.elem("div")}search(){return!0}data(){return[]}size(){return this._data?this._data.length:0}shouldRefresh(){return!1}async loadData(){if(this.shouldRefresh()||!this._data)return await this._retrieveAndFilterData(),this._rows=this._activeRows=this._createRows(),this._loadID=++this._loadID||0,!0}getRows(){if(this.collapsed){const rows=[this._categoryRow],mapping={[this._categoryRow.id]:this._categoryRow};return rows.mapping=mapping,rows}return this._activeRows}async resetRows(){const loaded=await this.loadData();return this._activeRows=this._rows,loaded}async _retrieveAndFilterData(){try{const data=await this.data();this._originalData=data,this._data=data.filter(entry=>this.dataFilter(entry))}catch(e){return log.error(e),[]}}_getCountSearchResults(){return this._activeRows.length-1}_createCategoryRow(){const _this=this;return new SearchRow({click:function(scroller,row,event){_this.collapsed=!_this.collapsed,scroller.collectRows({filter:!1,persist:!0}),event.preventDefault()},formatter:function(){const button=dom.elem("button",{className:"compact-visual-toggle standard-button"}),name=dom.elem("span",{className:"category-name",textContent:_this.name}),span=dom.elem("span",{className:"result-category-text"},{children:[name,dom.elem("span",{textContent:`(${_this._getCountSearchResults().toLocaleString()})`})]});_this.collapsed||button.classList.add("active");const rowElem=dom.elem("label",{className:"search-result-category"},{children:[button,span]});return this.setHighlightElement(name),rowElem},height:27,internalRow:!0})}_createEntryRow(entry){const _this=this;return new SearchRow({searchable:!0,focusable:!0,cache:!0,tooltip:this.tooltips,entry:entry,tooltipFormatter:async function(row,search,searchRegex){return await _this.entryTooltipFormatter(row,search,searchRegex)},formatter:function(row,search,searchRegex){try{const formatted=_this.entryFormatter(row,search,searchRegex);return formatted.classList.add("formatted-content"),dom.elem("div",{className:"search-result-entry"},{children:[formatted]})}catch(e){return log.error("Failed to render search row"),dom.elem("div",{className:"search-result-entry"},{children:[dom.elem("div")]})}},click:function(scroller,row,event){_this.entryClick(scroller,row,event)}})}_createRows(){this._categoryRow=this._createCategoryRow();const mapping={};let rows=[this._categoryRow];const entryRows=this._data.map(entry=>{const row=this._createEntryRow(entry);return mapping[row.id]=row,row});return(rows=rows.concat(entryRows)).mapping=mapping,rows}_searchMatchesKeywords(search,searchRegex){try{return this._keywords.some(keyword=>searchRegex&&searchRegex.test(keyword))}catch(e){return!1}}async filterRows(searchString,searchRegex){this._lastSearch=searchString,this.collapsed=!1,await this.resetRows();const rows=this._activeRows;let filtered=[];const mapping={};let searchMatchesEntries=!1;const search=(row,searchEntry,searchKeywords)=>{try{let searchMatch=!1,keywordMatch=!1;if(searchEntry&&row.entry&&(searchMatch=this.search(row,searchString,searchRegex),row.searchMatch=searchMatch),searchKeywords&&(keywordMatch=this._searchMatchesKeywords(searchString,searchRegex),row.keywordMatch=keywordMatch),searchMatch||keywordMatch)return row}catch(e){log.error(e)}return!1},addRowToResults=row=>{filtered.push(row),mapping[row.id]=row};await new Promise(resolve=>{let position=0;const batch=()=>{for(let i=0;i<BATCHED_SEARCH_SIZE&&!(position>=rows.length);i++){const row=rows[position];if(row.searchMatch=!1,row.keywordMatch=!1,position++,row.searchable&&!row.internalRow){const matchedRow=search(row,!0,!0);matchedRow&&(addRowToResults(matchedRow),searchMatchesEntries=!0)}}position>=rows.length?resolve():setTimeout(()=>{batch()})};0===this.getCachedData().length?(filtered=[],resolve()):(addRowToResults(this._categoryRow),batch())}),filtered.mapping=mapping,this._activeRows=searchMatchesEntries?filtered:[]}}SearchSource.SearchRow=SearchRow,module.exports=SearchSource},function(module,exports,__webpack_require__){"use strict";const TOPOLOGY=__webpack_require__(56).TOPOLOGY,NO_SEARCH_MATCH=TOPOLOGY.CLASS.NO_SEARCH_MATCH,chartUtil=__webpack_require__(60),iconCode=__webpack_require__(69),BaseTopologyNode=__webpack_require__(70),Toggle=__webpack_require__(128),IconBadge=__webpack_require__(393),NumberBubbleBadge=__webpack_require__(394),SubIcon=__webpack_require__(395);class IconNode extends BaseTopologyNode{constructor(data,parentId){super(),this.validateAndSetRequiredKeys(data),this.$parentId=parentId,this._preProcess(data)}_preProcess(data){const mainIconName=chartUtil.getIconNameFromClass(this.iconClass);if(!mainIconName)throw new Error("Expecting ftnt-* or fa-* icon in iconClass.");this.$iconCode=iconCode.getIconCode(mainIconName),this.$subIcons=[],this.subIconClass&&this.$subIcons.push(new SubIcon({color:this.subIconColor||TOPOLOGY.SUB_ICON.DEFAULT_COLOR,iconClass:this.subIconClass,iconNodeId:this.id})),this.$hasRightBranchToggle=this.$parentId&&Array.isArray(data.children)&&data.children.length>0,this.$hasLeftBranchToggle=!!data.hasLeftBranchToggle;const sameSpotCount={};[{key:"iconBadges",newKey:"$iconBadges",model:IconBadge},{key:"numberBubbleBadges",newKey:"$numberBubbleBadges",model:NumberBubbleBadge}].forEach(type=>{const badges=data[type.key],Model=type.model,newKey=type.newKey;Array.isArray(badges)&&badges.length&&(this[newKey]=[],badges.forEach(badge=>{sameSpotCount.hasOwnProperty(badge.position)?sameSpotCount[badge.position]++:sameSpotCount[badge.position]=0,this[newKey].push(new Model(Object.assign({iconNodeId:this.id,sameSpotIndex:sameSpotCount[badge.position]},badge)))}))}),this.$hasTopRightBadge=sameSpotCount.hasOwnProperty("topRight")}get $PROPERTIES(){return IconNode.PROPERTIES}static get d3SelectorClass(){return"icon-node"}static nodeGAttrs(selection){selection.attr("transform",chartUtil.transformOffset).attr("class",IconNode.d3SelectorClass)}static createHeaderGAttrsFn(searchState){return selection=>{selection.attr("class",d=>{let className="th";const id=BaseTopologyNode.d3KeyFn(d);return searchState&&!searchState.matches(id)&&(className=`${className} ${NO_SEARCH_MATCH}`),className}).attr("interact-type",d=>d.interactType)}}static headerIconAttrs(selection){const baseIconSize=TOPOLOGY.BASE_FONT_SIZE*TOPOLOGY.TEXT_TO_ICON_SCALE,iconSize=d=>baseIconSize*(d.iconSizeScale||1),rowWidth=TOPOLOGY.FABRIC_DEVICE.ROW.WIDTH;selection.text(function(d){return(d.$iconCode||{}).unicode}).attr("x",d=>(rowWidth-iconSize(d))/2).attr("y",d=>(d=>TOPOLOGY.FABRIC_DEVICE.HEAD.HEIGHT*(d.iconSizeScale||1))(d)/2+iconSize(d)/3).attr("font-size",d=>chartUtil.toPx(iconSize(d))).attr("class",d=>`cursor-pointer header-icon f-icon ftnt-icon ${d.iconClass||""}`).style("fill",d=>d.iconColor||TOPOLOGY.CHART_OBJECT.COLOR)}static headerTextAttrs(selection){const textFontSize=chartUtil.toPx(TOPOLOGY.BASE_FONT_SIZE),baseIconSize=TOPOLOGY.BASE_FONT_SIZE*TOPOLOGY.TEXT_TO_ICON_SCALE,headerTextX=TOPOLOGY.FABRIC_DEVICE.ROW.WIDTH/2,headerTextY=TOPOLOGY.FABRIC_DEVICE.HEAD.HEIGHT/2+baseIconSize/2;selection.attr("x",headerTextX).attr("y",headerTextY).attr("alignment-baseline","middle").attr("text-anchor","middle").attr("font-size",textFontSize).attr("class","header-text cursor-pointer")}static createNodeContentFn(headerGAttrsFn){return selection=>{const header=selection.append("g").call(headerGAttrsFn);header.append("text").call(IconNode.headerIconAttrs),header.append("text").call(IconNode.headerTextAttrs).call(IconNode.headerTextContent)}}static headerLabelAttrs(selection){selection.text(d=>d.label).attr("class",d=>`label ${d.labelClass||""}`)}static headerTextContent(selection){const textX=TOPOLOGY.FABRIC_DEVICE.ROW.WIDTH/2;selection.append("tspan").call(IconNode.headerLabelAttrs),selection.filter(d=>d.caption).append("tspan").text(d=>d.caption).attr("x",textX).attr("dy","1em")}static createBranchToggleUpdateFn(toggleIconAttrsFn,toggleNodeContentFn){return selection=>{let toggles=selection.selectAll(`g.${Toggle.d3SelectorClass}`).data(d=>{const data=[];return d.$hasRightBranchToggle&&data.push({iconNode:d,side:"right"}),d.$hasLeftBranchToggle&&data.push({iconNode:d,side:"left"}),data},d=>`branch-toggle::${d.side}::${d.iconNode.id}`);toggles.exit().remove();let toggleEnter=toggles.enter().append("g").call(Toggle.iconNodeBranchToggleGAttrs).call(toggleNodeContentFn);const merged=toggles.merge(toggleEnter);chartUtil.quickTransition(merged,Toggle.iconNodeBranchToggleGAttrs),chartUtil.quickTransition(merged.select("text"),toggleIconAttrsFn)}}static createIconBadgesUpdateFn(nodeMapping){const gAttrsFn=IconBadge.createGAttrsFn(nodeMapping);return selection=>{const badges=selection.selectAll(`g.${IconBadge.d3SelectorClass}`).data(d=>d.$iconBadges||[],IconBadge.d3KeyFn);badges.exit().remove();const badgeEnter=badges.enter().append("g").call(gAttrsFn);badgeEnter.append("text").call(IconBadge.textAttrs).call(IconBadge.onD3SelectionEnter);const merged=badges.merge(badgeEnter);chartUtil.quickTransition(merged,gAttrsFn),chartUtil.quickTransition(merged.select("text"),IconBadge.textAttrs)}}static createNumberBubbleBadgesUpdateFn(nodeMapping){const gAttrsFn=NumberBubbleBadge.createGAttrsFn(nodeMapping);return selection=>{const badges=selection.selectAll(`g.${NumberBubbleBadge.d3SelectorClass}`).data(d=>d.$numberBubbleBadges||[],NumberBubbleBadge.d3KeyFn);badges.exit().remove();const badgeEnter=badges.enter().append("g").call(gAttrsFn);badgeEnter.append("circle").call(NumberBubbleBadge.circleAttrs).call(NumberBubbleBadge.onD3SelectionEnter),badgeEnter.append("text").call(NumberBubbleBadge.textAttrs);const merged=badges.merge(badgeEnter);chartUtil.quickTransition(merged,gAttrsFn),chartUtil.quickTransition(merged.select("text"),NumberBubbleBadge.textAttrs)}}static createSubIconsUpdateFn(nodeMapping){const gAttrsFn=SubIcon.createGAttrsFn(nodeMapping);return selection=>{const icons=selection.selectAll(`g.${SubIcon.d3SelectorClass}`).data(d=>d.$subIcons||[],SubIcon.d3KeyFn);icons.exit().remove();const iconEnter=icons.enter().append("g").call(gAttrsFn);iconEnter.append("text").call(SubIcon.mainTextAttrs),iconEnter.append("text").call(SubIcon.effectTextAttrs);const merged=icons.merge(iconEnter);chartUtil.quickTransition(merged,gAttrsFn),chartUtil.quickTransition(merged.select("text.main"),SubIcon.mainTextAttrs),chartUtil.quickTransition(merged.select("text.effect"),SubIcon.effectTextAttrs)}}get topMargin(){return this.$hasTopRightBadge?TOPOLOGY.BADGE_SIZE:0}get height(){return this.headHeight}get headHeight(){let h=TOPOLOGY.FABRIC_DEVICE.HEAD.HEIGHT*(this.iconSizeScale||1);return this.caption&&(h+=TOPOLOGY.BASE_FONT_SIZE),h}get width(){return TOPOLOGY.FABRIC_DEVICE.ROW.WIDTH}getRightMidpoint(){return this.headRightMidpoint}getLeftMidpoint(){return this.headLeftMidpoint}get headRightMidpointOffset(){const iconSize=TOPOLOGY.BASE_FONT_SIZE*TOPOLOGY.TEXT_TO_ICON_SCALE*(this.iconSizeScale||1);return{x:this.width/2+iconSize/2,y:iconSize/2}}get headRightMidpoint(){const midPointOffset=this.headRightMidpointOffset;return{x:this.offset.x+midPointOffset.x,y:this.offset.y+midPointOffset.y}}get headLeftMidpointOffset(){const iconSize=TOPOLOGY.BASE_FONT_SIZE*TOPOLOGY.TEXT_TO_ICON_SCALE*(this.iconSizeScale||1);return{x:this.width/2-iconSize/2,y:iconSize/2}}get headLeftMidpoint(){const midPointOffset=this.headLeftMidpointOffset;return{x:this.offset.x+midPointOffset.x,y:this.offset.y+midPointOffset.y}}}IconNode.PROPERTIES=[{name:"iconClass",required:!0},{name:"id",required:!0},{name:"iconColor"},{name:"subIconClass"},{name:"subIconColor"},{name:"iconSizeScale"},{name:"interactType"},{name:"placement"},{name:"label"},{name:"labelClass"},{name:"hostname"},{name:"caption"},{name:"alwaysVisible"}],module.exports=IconNode},function(module,exports,__webpack_require__){"use strict";const TOPOLOGY=__webpack_require__(56).TOPOLOGY,chartUtil=__webpack_require__(60),ContainerNode=__webpack_require__(166),iconCode=__webpack_require__(69);class PackContainerNode extends ContainerNode{constructor(data){super(data),this._preProcess()}static get d3PackChildBadgeMainIconSelectorClass(){return"pack-child-badge-main-icon"}static get d3PackChildBadgeEffectIconSelectorClass(){return"pack-child-badge-effect-icon"}static d3MemberKeyFn(d){const badgeSuffix=d.data.iconBadge?"1":"0";return`${d.data.id}::${badgeSuffix}`}_preProcess(){this.pack.children.forEach(d=>{const data=d.data;if(data.iconClass){const mainIconName=chartUtil.getIconNameFromClass(data.iconClass);mainIconName&&(d.$iconCode=iconCode.getIconCode(mainIconName))}const name=data.label||"",valueLength=`${data.value}`.length,totalLength=name.length+valueLength+2,availableWidth=this.isSquareType()?chartUtil.pluckInnerSquareSideLength(d):2*d.r,availableTextHeight=availableWidth/TOPOLOGY.BUBBLE.MAX_AREA,availableIconHeight=2*availableTextHeight,textFontSize=Math.min(2*availableWidth/totalLength,availableTextHeight,TOPOLOGY.BUBBLE.TEXT.SIZE);d.$textFontSize=textFontSize,d.$availableIconHeight=availableIconHeight,data.iconBadge&&(d.$badgeIconCodeMap={},["main","effect"].forEach(role=>{const roleIcon=data.iconBadge[role];d.$badgeIconCodeMap[role]=iconCode.getIconCode(roleIcon)}),d.$badgeIconColor=data.iconBadge.color),data.serialized&&delete data.serialized})}isSquareType(){return!1}isCircleType(){return!1}get $PROPERTIES(){return PackContainerNode.PROPERTIES}get height(){return 2*this.pack.r}get width(){return this.height}setOffset(offset,divisionCenterX){if(this.offset=offset,this.pack){const oldX=this.pack.x,oldY=this.pack.y,distance={x:divisionCenterX-oldX,y:offset.y+this.pack.r-oldY};chartUtil.layoutPackTransform(this.pack,1,distance),this._updateBoundingBox()}}_updateBoundingBox(){this.$boundingBox={},this.pack.children.forEach(d=>{const topLeft={x:d.x-d.r,y:d.y-d.r},bottomRight={x:d.x+d.r,y:d.y+d.r};this.$boundingBox=this.$boundingBox||{},Object.assign(this.$boundingBox,{x1:chartUtil.bound(Math.min,this.$boundingBox.x1,topLeft.x),y1:chartUtil.bound(Math.min,this.$boundingBox.y1,topLeft.y),x2:chartUtil.bound(Math.max,this.$boundingBox.x2,bottomRight.x),y2:chartUtil.bound(Math.max,this.$boundingBox.y2,bottomRight.y)})})}static _viewable(zoomState,size,min){const original=zoomState.originalTransform,originalScale=original.k||1,currentScale=(zoomState.currentTransform||original).k||originalScale;return size>=min||!(currentScale<=originalScale)&&size*(currentScale/originalScale)>=min}static viewableText(zoomState,size){return PackContainerNode._viewable(zoomState,size,TOPOLOGY.BUBBLE.TEXT.SIZE)}static viewableIcon(zoomState,size){return PackContainerNode._viewable(zoomState,size,TOPOLOGY.BUBBLE.ICON.MIN)}static addBadges(selectionEnter,badgeMainAttrsFn,badgeEffectAttrsFn){const selectionEnterWithBadges=selectionEnter.filter(d=>d.$badgeIconCodeMap);selectionEnterWithBadges.append("text").call(badgeEffectAttrsFn),selectionEnterWithBadges.append("text").call(badgeMainAttrsFn)}static colorBorderDataFn(d){return(d.data.borderColors||[]).map(color=>({id:color.replace(/[^a-z,A-Z,0-9]/g,""),value:color,r:d.r,numColor:d.data.borderColors.length}))}}PackContainerNode.PROPERTIES=[...ContainerNode.PROPERTIES,{name:"pack",required:!0}],module.exports=PackContainerNode},,,,,,,,function(module,exports,__webpack_require__){"use strict";const injectwraps=new WeakMap,bareClasses=new WeakMap;module.exports=function(Class=Object,injectWrap=null){let classes=null==injectWrap?bareClasses:injectwraps.get(injectWrap);classes||injectwraps.set(injectWrap,classes=new WeakMap);if(classes.has(Class))return classes.get(Class);const S=__webpack_require__(413),prefix=injectWrap?"injector.":"",name=Class===Object?`${prefix}Collectible`:`${Class.name} with ${prefix}Collectible`,result={[name]:class extends Class{constructor(...args){const Type=new.target;super(...args),(injectWrap||Type[S.COLLECTABLE_INJECT_WRAP])(this,void 0,Type)}}}[name];return result[S.COLLECTABLE_MIXIN]=!0,classes.set(Class,result),result}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";module.exports=class{clone(){throw new Error("Not implemented")}}},function(module,exports,__webpack_require__){"use strict";function TooltipPlacement(placementLocation,left,top,width,height,limits){this.placementLocation=placementLocation,this.left=left,this.top=top,this._width=width,this._height=height,this._leftUnder=limits.leftMin-left,this._leftOver=left+width-limits.leftMax,this._topUnder=limits.topMin-top,this._topOver=top+height-limits.topMax,this._fallback=!1}TooltipPlacement.BUFFER=5,TooltipPlacement.LOCATION={TOP_RIGHT:"topRight",BOTTOM_RIGHT:"bottomRight",BOTTOM_LEFT:"bottomLeft",TOP_LEFT:"topLeft"},TooltipPlacement.createForLocation=function(placementLocation,position,width,height,limits){var left,top;return placementLocation===TooltipPlacement.LOCATION.TOP_RIGHT?(left=position.left,top=position.top-height):placementLocation===TooltipPlacement.LOCATION.BOTTOM_RIGHT?(left=position.left,top=position.top):placementLocation===TooltipPlacement.LOCATION.BOTTOM_LEFT?(left=position.left-width,top=position.top):(left=position.left-width,top=position.top-height),new TooltipPlacement(placementLocation,left,top,width,height,limits)},TooltipPlacement.prototype.isValid=function(){return[this._leftUnder,this._leftOver,this._topUnder,this._topOver].every(function(value){return value<=0})},TooltipPlacement.prototype.fallback=function(allowVerticalAdjustment){this._leftUnder>0?this.left+=this._leftUnder:this._leftOver>0&&(this.left-=this._leftOver),allowVerticalAdjustment&&(this._topUnder>0?this.top+=this._topUnder:this._topOver>0&&(this.top-=this._topOver)),this._fallback=!0},TooltipPlacement.prototype.getTransitionMargin=function(){var left=0,RIGHT_LOCATIONS=[TooltipPlacement.LOCATION.TOP_RIGHT,TooltipPlacement.LOCATION.BOTTOM_RIGHT];return this._fallback||(left=RIGHT_LOCATIONS.indexOf(this.placementLocation)>=0?Math.min(10,Math.abs(this._leftOver)):-Math.min(10,Math.abs(this._leftUnder))),{left:left}},module.exports=TooltipPlacement},function(module,exports,__webpack_require__){"use strict";const $=jQuery,Sources=__webpack_require__(576),SelectionPane=__webpack_require__(577),Dropdown=__webpack_require__(578),util=__webpack_require__(39),drag=__webpack_require__(368),Tooltip=__webpack_require__(59),Sliderin=__webpack_require__(126),TooltipKey=__webpack_require__(208),TooltipFooterAction=__webpack_require__(366),SearchMatch=__webpack_require__(209);function Select(params){this._id=util.uniqueID(),this._includeInput=params.includeInput,this._onChangeCallback=params.changeCallback,this._onOpenChooser=params.onOpenChooser,this._onPreprocessComplete=params.onPreprocessComplete,this._includeInput&&this._createElement(),this._invalidateTooltipContentCache(),this.update(params),this._setupSourceChangeListener()}Select.TooltipKey=TooltipKey,Select.TooltipFooterAction=TooltipFooterAction,Select.drag=drag,Select.prototype.ENTRY_ID_KEY=null,Select.prototype.ENTRY_SOURCE_ID_FUNCTION=function(entry){return String(entry)},Select.prototype.SOURCE_ID_KEY=null,Select.prototype.SOLITARY_KEY="solitaryEntry",Select.prototype.LIMITED_PERMISSION_SOURCES_WARNING="Limited view",Select.prototype.LIMITED_PERMISSION_SOURCES_WARNING_TOOLTIP="Insufficient permission to view one or more entries in their entirety",Select.prototype.LIMITED_PERMISSION_ENTRY_WARNING="Insufficient permission to view this entry in its entirety",Select.prototype.PANE_TITLE="Select Entries",Select.prototype.SEARCH_PLACEHOLDER="Search",Select.prototype.CLEAR_SEARCH_TITLE="Clear Search",Select.prototype.NO_ENTRIES_TEXT="No entries",Select.prototype.PROCESSING_TEXT="Processing",Select.prototype.CREATE_NEW_LABEL="Create",Select.prototype.CREATE_NEW_TITLE="Create New",Select.prototype.EDIT_TEXT="Edit entry",Select.prototype.RETURN_TITLE="Return",Select.prototype.MIN_SINGLE_SELECT_RESULTS_HEIGHT=60,Select.prototype.MAX_SINGLE_SELECT_RESULTS_HEIGHT=300,Select.prototype.MAX_SYNCHRONOUS_PROCESSING_LENGTH=1e4,Select.NOTIFY_SOURCE_CHANGED_IFRAMES=!1,Select.NOTIFY_SOURCE_CHANGED_MESSAGE="selectSourceChanged",Select.prototype.SOLITARY_LEVEL={SOURCE:"source",GROUP:"group",ALL:"all",CUSTOM:"custom"},Select.prototype.DEFAULT_SETTINGS={allSolitary:!1,compactWidget:!1,createNew:!0,createNewFunction:null,createNewLabel:null,createNewLabelHidden:!1,createNewTitle:null,collapsibleCategories:!0,disableEntryFunction:null,dragAndDrop:!0,extraEntries:null,extraData:null,filterFunction:null,formatFunction:null,getSelectionPaneContainerFunction:null,inlineEdit:!0,insideSlide:!1,limitedPermissionCheckFunction:null,max:null,meta:null,noConfirm:!1,preProcessSelected:null,requiredEntries:null,singleSelect:!1,solitaryLevel:Select.prototype.SOLITARY_LEVEL.GROUP,getSolitaryIdForEntry:null,sortCategories:!1,sortCreateNew:!0,sortFunction:null,sortResults:!0,sortWidget:!0,subcategories:null,subcategoryValueFunction:null,subcategoryFormatFunction:null,subcategorySortFunction:null,tooltips:!0,tooltipHeaderFormatFunction:null,tooltipDetailFormatFunction:null,suppressIdValueTooltip:!1,validateFunction:null,valueFunction:null,entryIdKeyFunction:null},Select.prototype.DEFAULT_VALUE_FUNCTION=function(entry){return String(entry)},Select.prototype.DEFAULT_FORMAT_FUNCTION=function(entry,value){return value},Select.prototype.DEFAULT_CATEGORY_FORMAT_FUNCTION=function(name,count){return name+" ("+count.toLocaleString()+")"},Select.prototype.DEFAULT_SOURCE_SORT_FUNCTION=util.fastLocaleCompare,Select.prototype.DEFAULT_SUBCATEGORY_VALUE_FUNCTION=function(){return"Unknown Subcategory"},Select.prototype.DEFAULT_SUBCATEGORY_FORMAT_FUNCTION=function(subcategoryValue,count){return subcategoryValue+" ("+count.toLocaleString()+")"},Select.prototype.DEFAULT_SUBCATEGORY_SORT_FUNCTION=util.fastLocaleCompare,Select.prototype.DEFAULT_CREATE_NEW_FUNCTION=function(){},Select.prototype.DEFAULT_INLINE_EDIT_FUNCTION=function(){},Select.prototype.LIMITED_PERMISSION_CHECK_FUNCTION=function(){return!1},Select.prototype.SOURCES={},Select.prototype.TARGET_WINDOW=window,Select.prototype.TARGET_CONTAINER=null,Select.notifySourceChanged=function(sourceID){var notify=function(targetWindow){var i,frames,origin=util.getOrigin(targetWindow);if(targetWindow.postMessage({messageType:Select.NOTIFY_SOURCE_CHANGED_MESSAGE,sourceID:sourceID},origin),Select.NOTIFY_SOURCE_CHANGED_IFRAMES)for(frames=targetWindow.document.getElementsByTagName("iframe"),i=0;i<frames.length;i++)try{notify(frames[i].contentWindow)}catch(e){}},notifyWindow=window;Select.NOTIFY_SOURCE_CHANGED_IFRAMES&&top!==window&&(notifyWindow=top),notify(notifyWindow)},Select._SHARED_INSTANCE_CACHE={},Select.invalidateCache=function(){Object.keys(Select._SHARED_INSTANCE_CACHE).forEach(function(sourceID){Select._SHARED_INSTANCE_CACHE[sourceID].destroy()}),Select._SHARED_INSTANCE_CACHE={},Sources.invalidateCache()},Select.invalidateCacheForSource=function(sourceID){Select._SHARED_INSTANCE_CACHE[sourceID]&&(Select._SHARED_INSTANCE_CACHE[sourceID].destroy(),delete Select._SHARED_INSTANCE_CACHE[sourceID]),Sources.invalidateCacheForSource(sourceID)},Select._getCachedInstanceForSource=function(sourceID){if(!Select.prototype.SOURCES[sourceID])throw new Error('Source "'+sourceID+'" is not configured');return Select._SHARED_INSTANCE_CACHE[sourceID]?Select._SHARED_INSTANCE_CACHE[sourceID]:Select._SHARED_INSTANCE_CACHE[sourceID]=new Select({settings:{sources:sourceID},selected:[],sharedInstance:!0})},Select._getEntryIDAndSourceIDForEntry=function(entry,sourceID){if(!(sourceID=sourceID||Select.prototype.ENTRY_SOURCE_ID_FUNCTION(entry)))throw new Error("Could not determine source for entry");var entryIdKeyFunction,source=Select.prototype.SOURCES[sourceID];source&&(entryIdKeyFunction=source.entryIdKeyFunction);var entryID=entry[entryIdKeyFunction&&entryIdKeyFunction(sourceID)||Select.prototype.ENTRY_ID_KEY];if(null==entryID)throw new Error("Could not determine entry ID");return{entryID:entryID,sourceID:sourceID}},Select._searchSourceMappings=function(sourceEntries,entryID){const mapping=sourceEntries.mapping,altMappings=sourceEntries.alternativeMappings;let entry=null;if(mapping[entryID])entry=mapping[entryID];else for(const altMap of Object.values(altMappings))if(altMap[entryID]){entry=altMap[entryID];break}return entry},Select.getSourceEntry=function(entryID,sourceID){return Select.getSourceData(sourceID).then(sourceEntries=>Select._searchSourceMappings(sourceEntries,entryID))},Select.getSourceEntrySync=function(entryID,sourceID){const sourceEntries=Select.getSourceDataSync(sourceID);return Select._searchSourceMappings(sourceEntries,entryID)},Select.getSourceEntry=function(entryID,sourceID){return Select.getSourceData(sourceID).then(entries=>entries.getEntry(entryID))},Select.getSourceEntrySync=function(entryID,sourceID){return Select.getSourceDataSync(sourceID).getEntry(entryID)},Select.getSourceData=function(sourceID){var instance=Select._getCachedInstanceForSource(sourceID);return instance._loadSources().then(function(){return instance.getSourceResults(sourceID)})},Select.getSourceDataSync=function(sourceID){return Select._getCachedInstanceForSource(sourceID).getSourceResults(sourceID)},Select.getSourceMetaData=function(sourceID){var instance=Select._getCachedInstanceForSource(sourceID);return instance._loadSources().then(function(){return instance.getSourceMetaData(sourceID)})},Select.getSourceMetaDataSync=function(sourceID){return Select._getCachedInstanceForSource(sourceID).getSourceMetaData(sourceID)},Select.processedGetEntryValue=function(entry,sourceID){var ids=Select._getEntryIDAndSourceIDForEntry(entry,sourceID);return Select._getCachedInstanceForSource(ids.sourceID).processedGetEntryValue(entry)},Select.processedGetEntryValueSync=function(entry,sourceID){var ids=Select._getEntryIDAndSourceIDForEntry(entry,sourceID);return Select._getCachedInstanceForSource(ids.sourceID).processedGetEntryValueSync(entry)},Select.formatEntry=function(entry,sourceID){var ids=Select._getEntryIDAndSourceIDForEntry(entry,sourceID);return Select._getCachedInstanceForSource(ids.sourceID).formatEntry(entry)},Select.processedFormatEntry=function(entry,sourceID){try{var ids=Select._getEntryIDAndSourceIDForEntry(entry,sourceID);return Select._getCachedInstanceForSource(ids.sourceID).processedFormatEntry(entry)}catch(e){return Promise.reject(e)}},Select.processedFormatEntrySync=function(entry,sourceID){var ids=Select._getEntryIDAndSourceIDForEntry(entry,sourceID);return Select._getCachedInstanceForSource(ids.sourceID).processedFormatEntrySync(entry)},Select.processedFormatEntryTooltip=function(entry,sourceID,searchValue){try{var ids=Select._getEntryIDAndSourceIDForEntry(entry,sourceID);return Select._getCachedInstanceForSource(ids.sourceID).processedFormatEntryTooltip(entry,searchValue)}catch(e){return Promise.reject(e)}},Select.queryMatchesEntrySync=function(searchValue,entry,sourceID){const result=Select.getSearchMatchForEntrySync(searchValue,entry,sourceID);return result.isMatch()?result.getMatchType():null},Select.getSearchMatchForEntrySync=function(searchValue,entry,sourceID){const ids=Select._getEntryIDAndSourceIDForEntry(entry,sourceID),instance=Select._getCachedInstanceForSource(ids.sourceID),sourceEntry=instance.getSourceResults(ids.sourceID).getEntry(ids.entryID);return instance._sources.getSearchMatchChecker(ids.sourceID)(sourceEntry,new RegExp(util.preRegexEscape(searchValue),"i"),searchValue)},Select.getSourceSearchMatcher=function(sourceID){return function(sourceEntry,searchRegex,searchValue){return Select._getCachedInstanceForSource(sourceID)._sources.getSearchMatchChecker(sourceID)(sourceEntry,searchRegex,searchValue)}},Select.inlineEdit=function(entry,sourceID){var ids=Select._getEntryIDAndSourceIDForEntry(entry,sourceID);return Select._getCachedInstanceForSource(ids.sourceID).inlineEdit(entry)},Select.prototype.update=function(params){var selected,copy=function(items){return Array.isArray(items)?items.slice():items};if(selected=copy(void 0!==(params=params||{}).selected?params.selected:this._selected),this._selected||(this._selected=Array.isArray(selected)?[]:null),this._sharedInstance=params.sharedInstance,params.settings)this._settings=$.extend({},this.DEFAULT_SETTINGS,params.settings),this._sources&&this._sources.destroy(),this._sources=new Sources(this),this._selectionChooser&&this._selectionChooser.destroy(),this._settings.insideSlide?(this.TARGET_WINDOW=Sliderin.TARGET_WINDOW,this.TARGET_CONTAINER=this.TARGET_WINDOW.document.body):this.TARGET_CONTAINER||(this.TARGET_CONTAINER=this.TARGET_WINDOW.document.body),selected=this._updateRequiredEntryIDs(this._settings.requiredEntries,selected),this._sharedInstance||this._storeAsOriginallySelected(selected),this._createSelectionChooser(selected),this._includeInput&&this.configurationDependentSetup();else if(this._selectionChooser){const promise=this._selectionChooser.updateSelected(selected,{reProcess:params.reProcess,reload:params.reload});this._selectionChooser.isOpen?promise.then(()=>{params.reProcess||params.reload?this._selectionChooser.updateResults():this._selectionChooser.renderResults()}):this._selectionChooser._entries=null}this._updateAddPlaceholderVisibility(),this._invalidateTooltipContentCache()},Select.prototype._updateRequiredEntryIDs=function(requiredEntries,selected){var uniqueEntryID,requiredEntryIDs,missingRequiredEntries,selectedIDs,set;if(null!==requiredEntries){if(this._settings.singleSelect)throw new Error('Incompatible settings. "singleSelect" and "requiredEntries" cannot be specified at the same time');Array.isArray(requiredEntries)||(requiredEntries=[requiredEntries]),uniqueEntryID=this._sources.uniqueEntryID.bind(this._sources),requiredEntryIDs=(requiredEntries||[]).map(uniqueEntryID),this._requiredEntryIDs=new Set(requiredEntryIDs),selectedIDs=new Set(selected.map(uniqueEntryID)),(missingRequiredEntries=requiredEntries.filter((set=selectedIDs,function(v){return!set.has(v)}))).length&&(selected=selected.concat(missingRequiredEntries))}else this._requiredEntryIDs=new Set;return selected},Select.prototype.getSelected=function(){return Array.isArray(this._selected)?this._selected.slice():this._selected},Select.prototype.canAdd=function(entry){return this._selectionChooser.canAdd(entry)},Select.prototype.add=function(entry){this._selectionChooser.add(entry)},Select.prototype.remove=function(entry){this._selectionChooser.remove(entry)},Select.prototype.removeAll=function(notify){var i;if(this._detachChangeListener(),Array.isArray(this._selected))for(i=this._selected.length-1;i>=0;i--)this.remove(this._selected[i]);else this._selected&&this.remove(this._selected);this._selectedElements=[],this._updateAddPlaceholderVisibility(),this._attachChangeListener(),notify&&this._notifyChange()},Select.prototype.reRender=function(){if(Array.isArray(this._selected))for(var i=0,len=this._selected.length;i<len;++i)this._selectedElements[i].children(".entry-value").html(this._sources.formatEntry(this._selected[i]));else this.selectedElements[0].children(".entry-value").html(this._sources.formatEntry(this._selected))},Select.prototype.openChooser=function(event){return new Promise(function(resolve,reject){event&&((event.originalEvent||event).selectID=this._id),this._selectionChooser.isOpen?reject():(this._selectionChooser.open(function(shouldUpdate){var updated=this._selected,original=this._originallySelected;Array.isArray(updated)||(updated=[updated]),Array.isArray(original)||(original=[original]);var changed=updated.length!==original.length||updated.some(function(entry,index){return!this._sources.isSameEntry(entry,original[index])}.bind(this));shouldUpdate&&changed?(resolve(this._selected),this._storeAsOriginallySelected(this._selected)):changed?(this._selected=original,this.update(),reject()):reject()}.bind(this)),"function"==typeof this._onOpenChooser&&this._onOpenChooser())}.bind(this))},Select.prototype.validateSelected=function(){return this._selectionChooser.validateSelected()},Select.prototype.closeChooser=function(){this._selectionChooser.isOpen&&this._selectionChooser.close()},Select.prototype.getSourceResults=function(sourceID){var source=this._sources.getSource(sourceID);if(!source||!source.results)throw new Error('No source results exist for source ID "'+sourceID+'"');return source.results},Select.prototype.getSourceMetaData=function(sourceID){var id=this._sources.getSource(sourceID).id,metaData=this._sources.sourceMetaData[id];if(!metaData)throw new Error('No source meta data results exist for source ID "'+sourceID+'"');return metaData},Select.prototype.entryWasOriginallySelected=function(entry){const uniqueID=this._sources.uniqueEntryID(entry);return this._originallySelectedSet.has(uniqueID)},Select.prototype.entryIsSelected=function(entry){const uniqueID=this._sources.uniqueEntryID(entry),selectedEntryMatches=selectedEntry=>this._sources.uniqueEntryID(selectedEntry)===uniqueID;return Array.isArray(this._selected)?this._selected.some(selectedEntryMatches):this._selected?selectedEntryMatches(this._selected):void 0},Select.prototype.getTooltipData=function(entry){const{entryID:entryID,sourceID:sourceID}=Select._getEntryIDAndSourceIDForEntry(entry),source=this._sources.getSource(sourceID),tooltipData=this._sources.sourceTooltipData[source.id];if(!tooltipData||!tooltipData[entryID])throw new Error('No source extra tooltip data results exist for source ID "'+sourceID+'" entry ID '+entryID);return tooltipData[entryID]},Select.prototype.getSourceLifeCycleData=function(sourceID){var id=this._sources.getSource(sourceID).id;return this._sources._sourceLifeCycleData[id]},Select.prototype.getSource=function(sourceID){var id=this._sources.getSource(sourceID).id;return this._sources.getSource(id)},Select.prototype.formatEntry=function(entry){return this._sources.formatEntry(entry)},Select.prototype.processedGetEntryValue=function(entry){var ids=Select._getEntryIDAndSourceIDForEntry(entry);return this._processedFormat(ids,"getEntryValue")},Select.prototype.processedGetEntryValueSync=function(entry){var ids=Select._getEntryIDAndSourceIDForEntry(entry);return this._processedFormatSync(ids,"getEntryValue")},Select.prototype.processedFormatEntry=function(entry){var ids=Select._getEntryIDAndSourceIDForEntry(entry);return this._processedFormat(ids,"formatEntry")},Select.prototype.processedFormatEntrySync=function(entry){var ids=Select._getEntryIDAndSourceIDForEntry(entry);return this._processedFormatSync(ids,"formatEntry")},Select.prototype.processedFormatEntryTooltip=function(entry,searchValue){var ids=Select._getEntryIDAndSourceIDForEntry(entry),fnExtraArgs=[searchValue];return this._processedFormat(ids,"formatEntryTooltip",fnExtraArgs)},Select.prototype.inlineEdit=function(entry){return this._selectionChooser.inlineEdit(entry)},Select.prototype.inlineEditSupported=function(){var sourceMap=this._sources._sourceMap;return this._settings.inlineEdit&&Object.keys(sourceMap).some(function(sourceID){return sourceMap[sourceID].inlineEdit})},Select.prototype.disable=function(disable){this._includeInput&&(this._disabled=!!disable,this.$element.toggleClass("disabled",this._disabled),this._disabled?(this.$element.removeAttr("tabindex"),this._selectionChooser.isOpen&&this._selectionChooser.close()):this.$element.attr("tabindex","0"))},Select.prototype.destroy=function(){drag.off(this._id),this._sources&&this._sources.destroy(),this._selectionChooser&&this._selectionChooser.destroy(),this._tooltip&&this._tooltip.destroy(),this._removeSourceChangeListener()},Select.prototype._loadSources=function(){return this._sources.load(this._selectionChooser._hardLoadSources).then(function(){this._selectionChooser._hardLoadSources=!1}.bind(this))},Select.prototype._processedFormat=function(ids,fnKey,fnExtraArgs){return this._loadSources().then(function(){var result,fnArgs,matched,searchValue=fnExtraArgs&&fnExtraArgs[0],sourceEntry=this.getSourceResults(ids.sourceID).getEntry(ids.entryID);try{if(!sourceEntry)throw new Error(`Could not match entry "${ids.entryID}" of "${ids.sourceID}".`);fnArgs=[sourceEntry],searchValue instanceof SearchMatch?(matched=searchValue,searchValue=searchValue.getSearchString()):"string"==typeof searchValue&&(matched=Select.getSearchMatchForEntrySync(searchValue,sourceEntry,this._sources.getSource(ids.sourceID).id)),matched&&(fnArgs=fnArgs.concat([searchValue,matched])),result=this._sources[fnKey].apply(this._sources,fnArgs)}catch(e){result=Promise.reject(e)}return result}.bind(this))},Select.prototype._processedFormatSync=function(ids,fnKey,fnExtraArgs){var fnArgs,matched,searchValue=fnExtraArgs&&fnExtraArgs[0],sourceEntry=this.getSourceResults(ids.sourceID).getEntry(ids.entryID);if(sourceEntry)return fnArgs=[sourceEntry],searchValue instanceof SearchMatch?(matched=searchValue,searchValue=searchValue.getSearchString()):"string"==typeof searchValue&&(matched=Select.getSearchMatchForEntrySync(searchValue,sourceEntry,ids.sourceID)),matched&&(fnArgs=fnArgs.concat([searchValue,matched])),this._sources[fnKey].apply(this._sources,fnArgs);throw new Error(`Could not match entry "${ids.entryID}" of "${ids.sourceID}".`)},Select.prototype._setupSourceChangeListener=function(){this._sourceChangeEvent="message.select"+this._id,$(window).on(this._sourceChangeEvent,function(event){var sourceIDs,originalEvent=event.originalEvent,data=originalEvent.data;util.isTrustedOrigin(originalEvent.origin)&&data.messageType===Select.NOTIFY_SOURCE_CHANGED_MESSAGE&&(sourceIDs=data.sourceID,Array.isArray(sourceIDs)||(sourceIDs=[sourceIDs]),sourceIDs.forEach(function(sourceID){Sources.invalidateCacheForSource(sourceID)}),sourceIDs.some(function(sourceID){return this._sources.getSource(sourceID)}.bind(this))&&(this._invalidateTooltipContentCache(),this._shouldQueueSourceChangeReloads?this._sourceChangeReloadQueued=!0:this._triggerSourceChangeReload()))}.bind(this))},Select.prototype._removeSourceChangeListener=function(){this._sourceChangeEvent&&$(window).off(this._sourceChangeEvent)},Select.prototype._queueSourceChangeReloads=function(highlightNew){this._shouldQueueSourceChangeReloads=!0,this._highlightNew=highlightNew},Select.prototype._dequeueSourceChangeReloads=function(){this._shouldQueueSourceChangeReloads=!1,this._sourceChangeReloadQueued&&this._triggerSourceChangeReload()},Select.prototype._triggerSourceChangeReload=function(){this._sourceChangeReloadQueued=!1;const selected=this.getSelected();let promise,selectedCount=0;Array.isArray(selected)?selectedCount=selected.length:selected&&(selectedCount=1),selectedCount?promise=this._selectionChooser.updateSelected(this.getSelected(),{reload:!0,processSelected:!0}):this._selectionChooser.markSourcesForReload(!0),this._selectionChooser.isOpen&&(promise||(promise=new Promise(resolve=>{this._selectionChooser.loadAndProcessSources(resolve)})),promise.then(()=>{this._highlightNew&&this._selectionChooser.highlightNewNextRender(),this._highlightNew=null,this._selectionChooser.updateResults(),this._selectionChooser.updateLimitedWarning()}))},Select.prototype._storeAsOriginallySelected=function(selected){let selectedArray=[];this._originallySelectedSet=new Set,Array.isArray(selected)?selectedArray=this._originallySelected=selected.slice():(this._originallySelected=selected,selected&&(selectedArray=[selected]));for(let entry of selectedArray){const uniqueID=this._sources.uniqueEntryID(entry);this._originallySelectedSet.add(uniqueID)}},Select.prototype._chooserTakenFocus=function(){this._includeInput&&this.$element.toggleClass("focus")},Select.prototype._chooserRestoredFocus=function(focusInput){this._includeInput&&(this.$element.removeClass("focus"),focusInput&&this.$element.focus())},Select.prototype._notifyChange=function(){var selectedCopy,isArray;"function"==typeof this._onChangeCallback&&(isArray=Array.isArray(this._selected),selectedCopy=isArray?this._selected.slice():this._selected,(!this._previousNotifySel||(isArray?selectedCopy.length!==this._previousNotifySel.length||!selectedCopy.every(function(selectedItem,itemIdx){return this._previousNotifySel[itemIdx]===selectedItem},this):this._previousNotifySel!==selectedCopy))&&(this._previousNotifySel=selectedCopy,window.setTimeout(function(){this._onChangeCallback(selectedCopy)}.bind(this))))},Select.prototype._detachChangeListener=function(){this._detachedOnChangeCallback=this._onChangeCallback,this._onChangeCallback=null},Select.prototype._attachChangeListener=function(){this._onChangeCallback=this._detachedOnChangeCallback,this._detachedOnChangeCallback=null},Select.prototype._batchChange=function(fn){var alreadyDetached=this._detachedOnChangeCallback;alreadyDetached||this._detachChangeListener(),fn(),alreadyDetached||(this._attachChangeListener(),this._notifyChange())},Select.prototype._addedViaChooser=function(entry){var insertIndex,comparator,$entry,$insertAfterElement;Array.isArray(this._selected)?(this._settings.sortWidget?(comparator=this._sources.globalSort.bind(this._sources),insertIndex=util.binaryInsertIndex(this._selected,entry,comparator)):insertIndex=this._selected.length,this._selected.splice(insertIndex,0,entry)):(this._selected=entry,insertIndex=this._selected.length),$insertAfterElement=insertIndex>0?this._selectedElements[insertIndex-1]:null,this._includeInput&&($entry=this._addEntryElement(entry,$insertAfterElement),this._selectedElements.splice(insertIndex,0,$entry)),this._updateAddPlaceholderVisibility(),this._notifyChange()},Select.prototype._removedViaChooser=function(entry){var index,entryID=this._sources.uniqueEntryID(entry);(Array.isArray(this._selected)?(index=this._indexInSelected(entry),this._selected.splice(index,1)):(index=0,this._selected=null),this._includeInput)&&this._selectedElements.splice(index,1)[0].remove();this._updateAddPlaceholderVisibility(),this._invalidateTooltipContentCacheForEntry(entryID),this._notifyChange()},Select.prototype._indexInSelected=function(entry){var i,index=-1;for(i=0;i<this._selected.length;i++)if(this._sources.isSameEntry(entry,this._selected[i])){index=i;break}return index},Select.prototype._updateAddPlaceholderVisibility=function(){var visible,count,maxReached;this._includeInput&&this._settings&&this._$addIndicator&&(count=Array.isArray(this._selected)?this._selected.length:this._selected?1:0,maxReached=this._settings.max&&count>=this._settings.max,visible=!this._loading&&this._includeInput&&!maxReached,this._$addIndicator.toggleClass("hidden",!visible))},Select.prototype._toggleLoading=function(loading){this._includeInput&&(this._loading=loading,this._$loadingIndicator||(this._$loadingIndicator=$('<div class="loading-container"></div>').append('<f-icon class="fa-loading"></f-icon>')),loading?(this.$element.removeAttr("tabindex"),this._$loadingIndicator.appendTo(this.$element)):(this._disabled||this.$element.attr("tabindex","0"),this._$loadingIndicator.remove()),this._updateAddPlaceholderVisibility())},Select.prototype._initializeTooltip=function(){this._settings.tooltips&&(this._$tooltipContent=$("<div></div>"),this._tooltip=new Tooltip({class:"select-tooltip",padContent:!1,showDelay:!0,fixed:!0,placementType:Tooltip.PLACEMENT_TYPE.ELEMENT,stopContentClickPropagation:!0},this.TARGET_WINDOW,this.TARGET_CONTAINER),this._tooltip.setContent(this._$tooltipContent[0]))},Select.prototype._invalidateTooltipContentCache=function(){this._entryTooltipPromises={},this._entryTooltipRendered={}},Select.prototype._invalidateTooltipContentCacheForEntry=function(entryID){delete this._entryTooltipPromises[entryID],delete this._entryTooltipRendered[entryID]},Select.prototype._addEntryElement=function(entry,$afterElement){var tooltipContent,formatted=this._sources.formatEntry(entry),$entry=$('<div class="selected-entry"></div>'),$value=$('<span class="entry-value">'+formatted+"</span>"),entryID=this._sources.uniqueEntryID(entry),required=this._requiredEntryIDs.has(entryID);return $entry.toggleClass("required",required),$entry.append($value),this._settings.tooltips&&($value.on("mouseenter",()=>{this._tooltip.show(null,null,null,{targetElement:$entry[0],delayEvenWhenVisible:!0}).then(()=>{if(this._tooltipVisibleFor=entryID,!this._entryTooltipRendered[entryID]){const tooltipPromise=this._entryTooltipPromises[entryID]||this.processedFormatEntryTooltip(entry);tooltipContent='<f-icon class="fa-loading select-tooltip-loading"></f-icon>',tooltipPromise.then(function(content){tooltipContent=content,this._entryTooltipRendered[entryID]=!0,this._tooltipVisibleFor===entryID&&this._$tooltipContent.html(tooltipContent)}.bind(this)),this._entryTooltipPromises[entryID]=tooltipPromise}this._$tooltipContent.html(tooltipContent)})}),$value.on("mouseleave",function(){this._tooltip.hide()}.bind(this))),this._settings.singleSelect||required||$('<f-icon class="remove-selected-entry fa-dismiss"></f-icon>').on("click",function(event){event.originalEvent.selectID=this._id,this._disabled||this.remove(entry)}.bind(this)).appendTo($entry),$afterElement?$entry.insertAfter($afterElement):this._$selected.prepend($entry),$entry},Select.prototype._createElement=function(){this.$element=$('<div class="select-widget" tabindex="0"></div>');var checkCanOpen=function(event){this._loading||this._disabled||(event&&event.originalEvent&&(event.originalEvent.selectID=this._id),this._selectionChooser.isOpen||(this._selectionChooser.open(),"function"==typeof this._onOpenChooser&&this._onOpenChooser()))}.bind(this);this.$element.on("click",checkCanOpen),this.$element.on("keydown",function(event){32===event.which&&(event.preventDefault(),checkCanOpen()),this._selectionChooser.isOpen&&9===event.which&&this._selectionChooser.close()}.bind(this)),this._$selected=$('<div class="selected-entries"></div>').appendTo(this.$element)},Select.prototype.configurationDependentSetup=function(){var addIcon,dragEntry,supportsDrop,singleStyle=this._settings.singleSelect,compactStyle=this._settings.compactWidget;this.$element.toggleClass("single-select",!!singleStyle),this.$element.toggleClass("compact",!!compactStyle),this.$element.find(".add-placeholder").remove(),addIcon=singleStyle?"fa-caret-down":"fa-plus icon-sm",this._$addIndicator=$('<div class="add-placeholder"></div>').append('<f-icon class="'+addIcon+'"></f-icon>').appendTo(this.$element),this._settings.dragAndDrop&&!this._settings.singleSelect?(drag.onDrag(this._id,function(entry){supportsDrop=this._selectionChooser.canAdd(entry),dragEntry=entry,supportsDrop&&this.$element.addClass("drop-support")}.bind(this),function(){this.$element.removeClass("drop-support")}.bind(this)),this.$element.on("dragenter",function(event){drag.supportedType(event.originalEvent.dataTransfer)&&supportsDrop&&event.preventDefault()}),this.$element.on("dragover",function(event){supportsDrop&&event.preventDefault()}),this.$element.on("drop",function(event){this.add(dragEntry),event.preventDefault()}.bind(this))):(drag.off(this._id),this.$element.off("dragenter dragover drop dragleave")),this._initializeTooltip()},Select.prototype._createSelectionChooser=function(selected){var ChooserClass;ChooserClass=this._settings.singleSelect&&this._includeInput?Dropdown:SelectionPane,this._selectionChooser=new ChooserClass(this,this._sources,selected)},Select.prototype._getWarning=function(){return this._sources._limitedSourcesSet.size?{label:this.LIMITED_PERMISSION_SOURCES_WARNING,tooltip:this.LIMITED_PERMISSION_SOURCES_WARNING_TOOLTIP}:null},module.exports=window.Omniselect=Select},function(module,exports,__webpack_require__){"use strict";const dom=__webpack_require__(40),Tooltip=__webpack_require__(59);module.exports=class{constructor(params){this._label=params.label,this._iconClass=params.iconClass,this._buttonClassFunction=params.buttonClassFunction,this._onClick=params.onClick,this._visibleFunction=params.visibleFunction,this._closeTooltipOnClick="boolean"!=typeof params.closeTooltipOnClick||params.closeTooltipOnClick}isVisible(entry,sourceID,selectInstance){let visible=!0;return"function"==typeof this._visibleFunction&&(visible=this._visibleFunction.call(selectInstance,entry,sourceID)),visible}format(entry,sourceID,selectInstance){let buttonClass="";this._buttonClassFunction&&(buttonClass=this._buttonClassFunction.call(selectInstance,entry,sourceID,selectInstance)||"");const button=dom.elem("button",{type:"button",className:buttonClass},{events:{click:event=>{"function"==typeof this._onClick&&this._onClick.call(selectInstance,entry,sourceID,event)}}});return this._closeTooltipOnClick&&button.setAttribute(Tooltip.CLOSE_ON_CLICK_ATTRIBUTE,"true"),this._iconClass&&button.appendChild(dom.elem("f-icon",{className:this._iconClass})),this._label&&button.appendChild(dom.elem("span",{textContent:this._label})),button}}},function(module,exports,__webpack_require__){"use strict";var Tooltip=__webpack_require__(59),drag=__webpack_require__(368),selectUtil=__webpack_require__(210),util=__webpack_require__(39),shortcuts=__webpack_require__(160),browser=__webpack_require__(74);const SearchMatch=__webpack_require__(209);function Scroller(){this.element=document.createElement("div"),this.element.className="scroller"}function VirtualResults(select,sources,selected){this._element=null,this._select=select,this._sources=sources,this.resultsElement=document.createElement("div"),this.resultsElement.className="virtual-results",this.resultsElement.tabIndex=1e3,this._scroller=new Scroller,this.resultsElement.appendChild(this._scroller.element),this._loadingElement=document.createElement("div"),this._loadingElement.className="loading-container",this._loadingElement.innerHTML='<f-icon class="fa-loading icon-lg"></f-icon>',this._processingElement=document.createElement("div"),this._processingElement.className="processing",this._processingElement.innerHTML=this._select.PROCESSING_TEXT,this.resultsElement.appendChild(this._loadingElement),this._entryWrapperMap={},this.updateSelected(selected),this.resultsElement.addEventListener("scroll",function(){this._hideTooltip(!0),this._updateFirstAndLastVisible(),this._renderScrolledChunk()}.bind(this))}Scroller.prototype.update=function(height){this.element.style.display="",this.element.style.height=height+"px"},Scroller.prototype.hide=function(){this.element.style.display="none"},VirtualResults.prototype.updateSelected=function(selected,params={}){const settings=this._select._settings,isArray=Array.isArray(selected);if(this._selectedMap={},this._initSolitaryTracking(),!isArray&&!settings.singleSelect)throw new Error("Selected is not an array");return isArray||(selected=selected?[selected]:[]),new Promise(resolve=>{const update=()=>{isArray&&settings.sortWidget&&selected.sort(this._sources.globalSort.bind(this._sources)),this._select.removeAll(),this._select._detachChangeListener(),selected.forEach(function(entry){this.add(entry)}.bind(this)),this._select._attachChangeListener(),selected.length&&this._select._notifyChange(),resolve()};(params.reProcess||params.reload)&&this.markSourcesForReload(params.reload);let processSelected=params.processSelected;null==processSelected&&(processSelected=null==settings.preProcessSelected?this._sources.preProcessSelected:settings.preProcessSelected);let doUpdate=!0;processSelected&&(selected.length&&!this._sourcesLoaded?(doUpdate=!1,this._select._toggleLoading(!0),this.loadAndProcessSources(()=>{selected=selected.map(entry=>{const sourceID=this._sources.getSourceID(entry),data=this._sources.getSourceData(sourceID),entryIdKey=this._sources.getEntryIdKey(sourceID);return data&&data.getEntry(entry[entryIdKey])}),this._select._toggleLoading(!1),update(),this._notifyPreprocessComplete()})):this._notifyPreprocessComplete()),doUpdate&&update()})},VirtualResults.prototype._notifyPreprocessComplete=function(){"function"==typeof this._select._onPreprocessComplete&&window.setTimeout(function(){this._select._onPreprocessComplete()}.bind(this))},VirtualResults.prototype.clearResults=function(){this._removeEntries(),this._scroller.hide(),this.resultsElement.appendChild(this._loadingElement)},VirtualResults.prototype.markSourcesForReload=function(hardLoad){this._hardLoadSources=hardLoad,this._sourcesLoaded=!1,this.clearResults(),this.toggleInputs(!1)},VirtualResults.prototype.loadAndProcessSources=function(callback){this._newEntryAnimated={},this._highlightNewEntries=!1,this._sources.loadAndProcess(function(results,entryWrapperMap){this._results=results,this._entryWrapperMap=entryWrapperMap,this._hardLoadSources=!1,this._sourcesLoaded=!0,this._processingElement.parentNode&&this._loadingElement.removeChild(this._processingElement),"function"==typeof callback&&callback()}.bind(this),function(){this._loadingElement.insertBefore(this._processingElement,this._loadingElement.firstChild)}.bind(this),this._hardLoadSources)},VirtualResults.prototype.setGroup=function(groupName){this._currentGroup=groupName},VirtualResults.prototype.getGroup=function(){return this._currentGroup},VirtualResults.prototype.setSearchValue=function(searchValue){this._searchValue=searchValue},VirtualResults.prototype.updateResults=function(){var categorizedEntries=this._results[this._currentGroup],categories=Object.keys(categorizedEntries),settings=this._select._settings;this._entryCount={},this._collapsedCategories={},this._sortedSubcategoryValues={},this._newEntryIndexMap=Object.assign({},this._sources.newEntryIndexMap);var update=function(){var searchRegex,filtered={};this._searchValue&&(searchRegex=new RegExp(util.preRegexEscape(this._searchValue),"i")),categories.length>1&&settings.sortCategories&&categories.sort(function(sourceIDA,sourceIDB){var valueA=this._sources.getSource(sourceIDA).name,valueB=this._sources.getSource(sourceIDB).name;return util.fastLocaleCompare(valueA,valueB)}.bind(this)),categories.forEach(function(sourceID){var subcategorized,subcategoryValueFunction,subcategorySortFunction,source=this._sources.getSource(sourceID),subcategorization=!this._sources.isSourceLimited(sourceID)&&(source.subcategories&&!1!==settings.subcategories||settings.subcategories),searchMatchChecker=this._sources.getSearchMatchChecker(sourceID),entryCount=0,matchesSearch=function(entryWrapper){if(this._select._requiredEntryIDs.has(entryWrapper.id))return!1;var match,result=!0;return this._searchValue?(match=searchMatchChecker(entryWrapper.entry,searchRegex,this._searchValue),entryWrapper.searchMatch=match,result=match.isMatch()):entryWrapper.searchMatch=new SearchMatch,result}.bind(this);subcategorization?(subcategorized=filtered[sourceID]={},subcategoryValueFunction=this._sources.getSubcategoryValueFunction(sourceID),subcategorySortFunction=this._sources.getSubcategorySortFunction(sourceID),categorizedEntries[sourceID].forEach(function(entryWrapper){var subcategoryValue;matchesSearch(entryWrapper)&&(subcategoryValue=subcategoryValueFunction(entryWrapper.entry),subcategorized[subcategoryValue]?subcategorized[subcategoryValue].push(entryWrapper):subcategorized[subcategoryValue]=[entryWrapper],entryCount++)}),this._sortedSubcategoryValues[sourceID]=Object.keys(subcategorized).sort((a,b)=>subcategorySortFunction.call(this._select,a,b,settings.meta,this._sources.extraData))):(filtered[sourceID]=categorizedEntries[sourceID].filter(function(entryWrapper){return matchesSearch(entryWrapper)}),entryCount=filtered[sourceID].length),this._entryCount[sourceID]=entryCount}.bind(this)),this._processedCategories=filtered,this._collectEntriesAndRender()}.bind(this);this._searchValue||this._searchValue!==this._previousSearchValue?(this._hideTooltip(!0),this._scroller.hide(),this._removeEntries(),this.resultsElement.scrollTop=0,this.resultsElement.appendChild(this._loadingElement),this._entries=null,window.setTimeout(update,selectUtil.PREVENT_LOCKUP_TIMEOUT),this._previousSearchValue=this._searchValue):update()},VirtualResults.prototype.renderResults=function(){var newEntryKeys,entryIndex,entryWrapper;this._entries&&null!=this.resultsElement.offsetParent&&(this._initializeTooltip(),this._calculateScrollingDimensions(),this._lastRepaintScroll=0,this._focusedEntryWrapper=null,this._loadingElement.parentNode&&this.resultsElement.removeChild(this._loadingElement),this.toggleInputs(!0,!0),this._highlightNewEntries&&(newEntryKeys=Object.keys(this._newEntryIndexMap)).length?(entryIndex=this._newEntryIndexMap[newEntryKeys[0]],entryWrapper=this._entries[entryIndex],this._canFocusEntryWrapper(entryWrapper)&&(this._focusedEntryWrapper=entryWrapper),this.resultsElement.scrollTop=this._calculateEntryOffset(entryIndex)-this._displayBuffer/2+this._entryHeight/2,this._updateFirstAndLastVisible(),this._renderScrolledChunk(!0)):this._maintainScrollPosition?(this._updateFirstAndLastVisible(),this._renderScrolledChunk(!0)):(this.resultsElement.scrollTop=0,this._updateFirstAndLastVisible(),this._renderChunk(0),this._updateResultsHeightIfHorizontalScrollbar()),this._maintainScrollPosition=!1,!this._focusedEntryWrapper&&this._firstInteractableRenderedEntryWrapper&&this._updateFocusedEntryWrapper(this._firstInteractableRenderedEntryWrapper))},VirtualResults.prototype.highlightNewNextRender=function(){this._highlightNewEntries=!0},VirtualResults.prototype.resizeResults=function(){this._calculateScrollingDimensions(),this._lastRepaintScroll=null,this._updateFirstAndLastVisible(),this._renderScrolledChunk(),this._updateResultsHeightIfHorizontalScrollbar()},VirtualResults.prototype.createNew=function(){return new Promise(function(resolve,reject){var createNewElement,returnButton,titleElement,createNewSources=this._sources.getGrouping()[this._currentGroup].createNewSupported,meta=this._select._settings.meta,createNew=function(sourceID){var createNewFunction=this._sources.getCreateNewFunction(sourceID);this._select._queueSourceChangeReloads(!0),Promise.resolve(createNewFunction(sourceID,this._searchValue,meta)).then(function(){this._select._dequeueSourceChangeReloads(),resolve()}.bind(this),function(){this._select._dequeueSourceChangeReloads(),reject()}.bind(this))}.bind(this),returnToResults=function(event,focusInputs){event.stopPropagation(),this.toggleInputs(!0,focusInputs),createNewElement.parentElement.insertBefore(this.resultsElement,createNewElement),createNewElement.parentElement.removeChild(createNewElement),this.renderResults()}.bind(this);createNewSources.length>1?null!=this.resultsElement.offsetParent&&((createNewElement=document.createElement("div")).className="virtual-results",(returnButton=document.createElement("button")).className="bare",returnButton.setAttribute("title",this._select.RETURN_TITLE),returnButton.innerHTML='<f-icon class="fa-arrow-left"></f-icon>',returnButton.addEventListener("click",function(event){returnToResults(event,!0),reject()}),(titleElement=document.createElement("div")).className="create-new-title",titleElement.innerHTML="<span>"+this._sources.getCreateNewTitle(this.getGroup())+"</span>",titleElement.appendChild(returnButton),createNewElement.appendChild(titleElement),createNewSources.forEach(function(source){var entryElement=document.createElement("div");entryElement.className="entry entry-static",entryElement.innerHTML='<f-icon class="fa-plus icon-sm"></f-icon><span>'+source.name+"</span>",entryElement.addEventListener("click",function(event){returnToResults(event,!1),createNew(source.id)}),createNewElement.appendChild(entryElement)}),this.toggleInputs(!1),this.resultsElement.parentElement.insertBefore(createNewElement,this.resultsElement),this.resultsElement.parentElement.removeChild(this.resultsElement)):createNewSources.length&&createNew(createNewSources[0].id)}.bind(this))},VirtualResults.prototype.inlineEdit=function(entry){const whenDone=()=>{this._select._dequeueSourceChangeReloads()},meta=this._select._settings.meta,sourceID=this._sources.getSource(this._sources.getSourceID(entry)).id,inlineEditFunction=this._sources.getInlineEditFunction(sourceID);return this._select._queueSourceChangeReloads(),Promise.resolve(inlineEditFunction(sourceID,entry,meta)).then(whenDone,whenDone)},VirtualResults.prototype.setupKeyboardShortcuts=function(element){var keyDownChecker=shortcuts.createShortcutChecker([shortcuts.SHORTCUTS.PREVIOUS,shortcuts.SHORTCUTS.NEXT],function(shortcut,event){switch(shortcut){case shortcuts.SHORTCUTS.PREVIOUS:this._hideTooltip(!0),this._focusPreviousEntry();break;case shortcuts.SHORTCUTS.NEXT:this._hideTooltip(!0),this._focusNextEntry()}event.preventDefault()}.bind(this)),keyUpChecker=shortcuts.createShortcutChecker([shortcuts.SHORTCUTS.ACTION,shortcuts.SHORTCUTS.CLEAR],function(shortcut,event){switch(shortcut){case shortcuts.SHORTCUTS.ACTION:this._selectFocused();break;case shortcuts.SHORTCUTS.CLEAR:this._clearSearchInput()||(this._hideTooltip(!0),this.close(!0))}event.preventDefault()}.bind(this));element.addEventListener("keydown",event=>{13===event.keyCode&&event.preventDefault(),keyDownChecker(event)}),element.addEventListener("keyup",keyUpChecker)},VirtualResults.prototype.destroy=function(){this._tooltip&&this._tooltip.destroy()},VirtualResults.prototype.canAdd=function(entry){var max=this._select._settings.max,selectedCount=Object.keys(this._selectedMap).length;return entry&&this._sources.supportedEntry(entry)&&!this._sources.isEntryDisabled(entry)&&(null==max||selectedCount<max)&&!this._selectedMap[this._sources.uniqueEntryID(entry)]},VirtualResults.prototype.add=function(entry,event){var currentEntry,entryWrapper,solitary,id=this._sources.uniqueEntryID(entry),added=!1,singleSelect=this._select._settings.singleSelect,selectedKeys=Object.keys(this._selectedMap),selectedCount=selectedKeys.length;return this.canAdd(entry)&&(solitary=this._sources.isSolitaryEntry(entry),event&&event.shiftKey&&!singleSelect&&!solitary&&null!=this._lastChangedIndex&&this._lastChangeAction===this._CHANGE_ACTION.ADD?(entryWrapper=this._entryWrapperMap[id],selectedCount=this._addMultiple(entryWrapper,selectedCount)):singleSelect&&selectedCount?this._select._batchChange(function(){currentEntry=this._selectedMap[selectedKeys[0]],this._select._removedViaChooser(currentEntry),delete this._selectedMap[selectedKeys[0]],selectedCount--,this._reRenderEntry(selectedKeys[0]),selectedCount=this._addNormal(entry,id,selectedCount)}.bind(this)):selectedCount=this._sources.isSolitaryEntry(entry)?this._addSolitary(entry,id,selectedKeys,selectedCount):this._addNormal(entry,id,selectedCount),added=!0),added},VirtualResults.prototype.remove=function(entry,event){var max=this._select._settings.max,selectedCount=Object.keys(this._selectedMap).length,singleSelect=this._select._settings.singleSelect;this._sources.isSolitaryEntry(entry)?this._removeSolitary(entry):event&&event.shiftKey&&!singleSelect&&null!=this._lastChangedIndex&&this._lastChangeAction===this._CHANGE_ACTION.REMOVE?this._removeMultiple(entry):this._removeNormal(entry),max&&selectedCount===max&&this._disableUnselectedEntries(!1),this._renderForPossibleDisableStateChange(entry)},VirtualResults.prototype.toggleInputs=function(){throw new Error("Must be implemented by subclass")},VirtualResults.prototype.close=function(){throw new Error("Must be implemented by subclass")},VirtualResults.prototype._getEntryHeight=function(wrapper){return wrapper.entry?this._entryHeight:wrapper.category?this._categoryHeight:this._subcategoryHeight},VirtualResults.prototype._focusPreviousEntry=function(){var i,wrapper,height;if(this._focusedEntryWrapper)for(height=this._getEntryHeight(this._focusedEntryWrapper),i=this._focusedEntryWrapper.insertedIndex-1;i>=0;i--){if((wrapper=this._entries[i]).entry&&this._canFocusEntryWrapper(wrapper)){this._updateFocusedEntryWrapper(wrapper),wrapper.insertedIndex<this._firstVisibleEntryIndex&&(this.resultsElement.scrollTop-=height);break}height+=this._getEntryHeight(wrapper)}},VirtualResults.prototype._focusNextEntry=function(){var i,wrapper,height;if(this._focusedEntryWrapper)for(height=this._getEntryHeight(this._focusedEntryWrapper),i=this._focusedEntryWrapper.insertedIndex+1;i<this._entries.length;i++){if((wrapper=this._entries[i]).entry&&this._canFocusEntryWrapper(wrapper)){this._updateFocusedEntryWrapper(wrapper),wrapper.insertedIndex>this._lastVisibleEntryIndex&&(this.resultsElement.scrollTop+=height);break}height+=this._getEntryHeight(wrapper)}},VirtualResults.prototype._selectFocused=function(){this._focusedEntryWrapper&&this._clickEntry(null,this._focusedEntryWrapper)},VirtualResults.prototype._initializeTooltip=function(){if(this._select._settings.tooltips&&!this._tooltipInitialized){var _tooltipContent=document.createElement("div");this._tooltip=new Tooltip({class:"virtual-results-tooltip",showDelay:!0,fixed:!0,padContent:!1,placementType:Tooltip.PLACEMENT_TYPE.ELEMENT,placementLocation:this._select._settings.singleSelect?Tooltip.PLACEMENT_LOCATION.TOP_RIGHT:Tooltip.PLACEMENT_LOCATION.TOP_LEFT,stopContentClickPropagation:!0},this._select.TARGET_WINDOW,this._select.TARGET_CONTAINER),this._tooltip.setContent(_tooltipContent),this._tooltipInitialized=!0}},VirtualResults.prototype._maintainScrollNextRender=function(){this._maintainScrollPosition=!0},VirtualResults.prototype._removeEntries=function(){var i,entryElement;for(i=this.resultsElement.childNodes.length-1;i>0;i--)entryElement=this.resultsElement.childNodes[i],this.resultsElement.removeChild(entryElement)},VirtualResults.prototype._CHANGE_ACTION={ADD:"add",REMOVE:"remove"},VirtualResults.prototype._collectEntriesAndRender=function(){var entries=[],entriesIndex=0,visibleCategoriesCount=0,visibleSubcategoriesCount=0,visibleEntriesCount=0,categories=Object.keys(this._processedCategories),categoriesVisible=categories.length>1;this._lastChangedIndex=null,this._lastChangeAction=null,categories.forEach(function(sourceID){var categoryWrapper,subcategoryWrapper,categoryEntries=this._processedCategories[sourceID],isSubcategorized=!Array.isArray(categoryEntries),hasEntries=isSubcategorized?Object.keys(categoryEntries).length:categoryEntries.length,addEntries=function(entryWrappers){entryWrappers.forEach(function(entryWrapper){entryWrapper.priorCategories=visibleCategoriesCount,entryWrapper.priorSubcategories=visibleSubcategoriesCount,entryWrapper.priorEntries=visibleEntriesCount,this._sampleEntry=entryWrapper,entries.push(entryWrapper),null!=this._newEntryIndexMap[entryWrapper.id]&&(this._newEntryIndexMap[entryWrapper.id]=entriesIndex),entriesIndex++,visibleEntriesCount++}.bind(this))}.bind(this);hasEntries&&(categoriesVisible&&(categoryWrapper={id:sourceID,name:this._sources.getSource(sourceID).name,category:!0,count:this._entryCount[sourceID],priorCategories:visibleCategoriesCount,priorSubcategories:visibleSubcategoriesCount,priorEntries:visibleEntriesCount,collapsed:!!this._collapsedCategories[sourceID]},this._sampleCategory=categoryWrapper,entries.push(categoryWrapper),entriesIndex++,visibleCategoriesCount++),categoryWrapper&&categoryWrapper.collapsed||(isSubcategorized?this._sortedSubcategoryValues[sourceID].forEach(function(subcategoryValue){subcategoryWrapper={id:sourceID,value:subcategoryValue,count:categoryEntries[subcategoryValue].length,subcategory:!0,priorCategories:visibleCategoriesCount,priorSubcategories:visibleSubcategoriesCount,priorEntries:visibleEntriesCount},this._sampleSubcategory=subcategoryWrapper,entries.push(subcategoryWrapper),entriesIndex++,visibleSubcategoriesCount++,addEntries(categoryEntries[subcategoryValue])}.bind(this)):addEntries(categoryEntries)))}.bind(this)),this._visibleCategoriesCount=visibleCategoriesCount,this._visibleSubcategoriesCount=visibleSubcategoriesCount,this._visibleEntriesCount=visibleEntriesCount,this._entries=entries,this.renderResults()},VirtualResults.prototype._adjustResultsElementHeight=function(resultsHeight){var resultsOver,maxCanDecrease,maxCanContainerAdjust,containerAdjust=0,minHeight=this._select.MIN_SINGLE_SELECT_RESULTS_HEIGHT,scrolledResultsHeight=resultsHeight;scrolledResultsHeight<minHeight?scrolledResultsHeight=minHeight:scrolledResultsHeight>this._select.MAX_SINGLE_SELECT_RESULTS_HEIGHT&&(scrolledResultsHeight=this._select.MAX_SINGLE_SELECT_RESULTS_HEIGHT),scrolledResultsHeight+=1,resultsOver=Math.ceil(this.resultsElement.getBoundingClientRect().top-this._select.TARGET_CONTAINER.getBoundingClientRect().top)+scrolledResultsHeight+10-this._select.TARGET_CONTAINER.offsetHeight,maxCanDecrease=scrolledResultsHeight-minHeight,maxCanContainerAdjust=this._element.offsetTop-10,resultsOver>0&&(resultsOver>maxCanDecrease?(scrolledResultsHeight-=maxCanDecrease,(containerAdjust=resultsOver-maxCanDecrease)>maxCanContainerAdjust&&(scrolledResultsHeight-=containerAdjust-maxCanContainerAdjust,containerAdjust=maxCanContainerAdjust)):scrolledResultsHeight-=resultsOver),this.resultsElement.style.height=scrolledResultsHeight+"px",containerAdjust>0||this._overflowAdjusted?(this._element.style.top=this._element.offsetTop-containerAdjust+"px",this._element.classList.add("overflow-adjusted"),this._overflowAdjusted=!0):this._element.classList.remove("overflow-adjusted")},VirtualResults.prototype._calculateScrollingDimensions=function(){var resultsHeight;this._entryHeight=this._sampleEntry?this._calculateEntryHeight(this._sampleEntry):0,this._categoryHeight=this._sampleCategory?this._calculateEntryHeight(this._sampleCategory):0,this._subcategoryHeight=this._sampleSubcategory?this._calculateEntryHeight(this._sampleSubcategory):0,resultsHeight=this._calculateResultsHeight(),this._scroller.update(resultsHeight),this._select._settings.singleSelect&&this._select._includeInput&&this._adjustResultsElementHeight(resultsHeight),this._displayItemsLength=Math.ceil(this.resultsElement.clientHeight/this._entryHeight),this._cachedItemsLength=3*this._displayItemsLength,this._displayBuffer=this._displayItemsLength*this._entryHeight},VirtualResults.prototype._updateResultsHeightIfHorizontalScrollbar=function(){var resultsOffsetHeight,scrollbarHeight,updatedHeight;this._select._settings.singleSelect&&(scrollbarHeight=(resultsOffsetHeight=this.resultsElement.offsetHeight)-this.resultsElement.clientHeight)&&(updatedHeight=resultsOffsetHeight+scrollbarHeight)<=this._select.MAX_SINGLE_SELECT_RESULTS_HEIGHT&&updatedHeight>=this._select.MIN_SINGLE_SELECT_RESULTS_HEIGHT&&(this.resultsElement.style.height=updatedHeight+"px")},VirtualResults.prototype._calculateFirstFullyVisibleIndex=function(){var scrollTop=this.resultsElement.scrollTop;return Math.ceil(scrollTop/this._entryHeight)},VirtualResults.prototype._calculateLastFullyVisibleIndex=function(){var scrollBottom=this.resultsElement.scrollTop+this.resultsElement.clientHeight;return Math.floor(scrollBottom/this._entryHeight)-1},VirtualResults.prototype._renderScrolledChunk=function(force){var scrollTop=this.resultsElement.scrollTop;if(this._entries&&(null==this._lastRepaintScroll||force||Math.abs(scrollTop-this._lastRepaintScroll)>this._displayBuffer)){var startIndex=this._firstVisibleEntryIndex-this._displayItemsLength;this._renderChunk(startIndex<0?0:startIndex),this._lastRepaintScroll=scrollTop}},VirtualResults.prototype._updateFirstAndLastVisible=function(){this._firstVisibleEntryIndex=this._calculateFirstFullyVisibleIndex(),this._lastVisibleEntryIndex=this._calculateLastFullyVisibleIndex()},VirtualResults.prototype._renderChunk=function(startIndex){var i,fragment,wrapper,element,lastIndex=startIndex+this._cachedItemsLength,lastPossible=this._entries.length-1,noEntries=!1;if(this._firstInteractableRenderedEntryWrapper=null,this._hideTooltip(!0),lastIndex>lastPossible&&(lastIndex=lastPossible),fragment=document.createDocumentFragment(),0===startIndex&&0===this._entries.length)(element=document.createElement("div")).className="no-entries",element.innerHTML=this._select.NO_ENTRIES_TEXT,fragment.appendChild(element),noEntries=!0;else for(i=startIndex;i<=lastIndex;i++)(wrapper=this._entries[i]).category?element=this._renderCategory(wrapper,i):wrapper.subcategory?element=this._renderSubcategory(wrapper,i):(element=this._renderEntry(wrapper,i),!this._firstInteractableRenderedEntryWrapper&&this._canFocusEntryWrapper(wrapper)&&(this._firstInteractableRenderedEntryWrapper=wrapper)),fragment.appendChild(element);this._removeEntries(),this.resultsElement.appendChild(fragment),this._afterChunkRendered(noEntries)},VirtualResults.prototype._setEntryWrapperElementClass=function(entryWrapper,testRender){var className="entry";this._selectedMap[entryWrapper.id]?className+=" selected":(this._unselectedEntriesDisabled||this._sources.isEntryDisabled(entryWrapper.entry))&&(className+=" disabled"),testRender||(entryWrapper.solitary&&!this._select._settings.allSolitary&&(className+=" solitary"),entryWrapper===this._focusedEntryWrapper&&(className+=" pseudo-focused"),this._highlightNewEntries&&null!=this._newEntryIndexMap[entryWrapper.id]&&(className+=" new-entry",this._newEntryAnimated[entryWrapper.id]||(className+=" swing-once-subtle animated",this._newEntryAnimated[entryWrapper.id]=!0))),entryWrapper.element.className=className},VirtualResults.prototype._canFocusEntryWrapper=function(entryWrapper){return!this._unselectedEntriesDisabled||this._selectedMap[entryWrapper.id]},VirtualResults.prototype._updateFocusedEntryWrapper=function(entryWrapper){this._focusedEntryWrapper&&this._focusedEntryWrapper.element.classList.remove("pseudo-focused"),entryWrapper.element.classList.add("pseudo-focused"),this._focusedEntryWrapper=entryWrapper},VirtualResults.prototype._calculateEntryOffset=function(index){var wrapper=this._entries&&this._entries[index],offset=0;return wrapper&&(offset=wrapper.priorCategories*this._categoryHeight+wrapper.priorSubcategories*this._subcategoryHeight+wrapper.priorEntries*this._entryHeight),offset},VirtualResults.prototype._calculateResultsHeight=function(){return this._visibleCategoriesCount*this._categoryHeight+this._visibleSubcategoriesCount*this._subcategoryHeight+this._visibleEntriesCount*this._entryHeight||0},VirtualResults.prototype._showTooltip=function(entryWrapper,triggerElement){browser.isMobile()||this._tooltip.show(null,null,null,{targetElement:triggerElement,delayEvenWhenVisible:!0}).then(()=>{let content=entryWrapper.tooltipElement;content&&entryWrapper.tooltipRenderedForSearchValue===this._searchValue||((content=document.createElement("div")).className="select-tooltip",content.innerHTML='<f-icon class="fa-loading select-tooltip-loading"></f-icon>',entryWrapper.tooltipRenderedForSearchValue=this._searchValue,entryWrapper.tooltipElement=content,this._sources.formatEntryTooltip(entryWrapper.entry,this._searchValue,entryWrapper.searchMatch).then(function(tooltipContent){content.innerHTML="",content.appendChild(tooltipContent)})),this._tooltip.setContent(content)})},VirtualResults.prototype._hideTooltip=function(immediate){this._tooltip&&this._tooltip.hide(immediate)},VirtualResults.prototype._renderEntry=function(entryWrapper,index,test){var element,settings;return entryWrapper.element&&entryWrapper.renderedForSearchValue===this._searchValue?element=entryWrapper.element:(settings=this._select._settings,(element=document.createElement("div")).innerHTML=this._sources.formatEntry(entryWrapper.entry,this._searchValue,entryWrapper.searchMatch,!0),element.addEventListener("click",function(event){event.stopPropagation(),event.target.classList.contains("inline-edit-icon")?this.inlineEdit(entryWrapper.entry):this._clickEntry(event,entryWrapper)}.bind(this)),element.addEventListener("mouseover",function(){this._canFocusEntryWrapper(entryWrapper)&&this._updateFocusedEntryWrapper(entryWrapper)}.bind(this)),!settings.dragAndDrop||settings.singleSelect&&this._select._includeInput||this._setupEntryDragAndDrop(element,entryWrapper),this._tooltip&&this._setupEntryTooltip(element,entryWrapper),entryWrapper.element=element,entryWrapper.solitary=this._sources.isSolitaryEntry(entryWrapper.entry),entryWrapper.renderedForSearchValue=this._searchValue),entryWrapper.insertedIndex=index,this._setEntryWrapperElementClass(entryWrapper,test),element.style.height=this._entryHeight+"px",element.style.top=this._calculateEntryOffset(index||0)+"px",element},VirtualResults.prototype._reRenderEntry=function(entryID){var entryWrapper=this._entryWrapperMap[entryID];entryWrapper&&entryWrapper.element&&(delete this._sources.newEntryIndexMap[entryWrapper.id],delete this._newEntryIndexMap[entryWrapper.id],entryWrapper.element.innerHTML=this._sources.formatEntry(entryWrapper.entry,this._searchValue,entryWrapper.searchMatch,!0),this._setEntryWrapperElementClass(entryWrapper))},VirtualResults.prototype._initSolitaryTracking=function(){var settings=this._select._settings,level=this._select.SOLITARY_LEVEL;if(settings.solitaryLevel===level.SOURCE||settings.solitaryLevel===level.GROUP||settings.solitaryLevel===level.CUSTOM?this._currentSolitary={}:this._currentSolitary=null,settings.solitaryLevel===level.CUSTOM&&"function"!=typeof settings.getSolitaryIdForEntry)throw new Error("getSolitaryIdForEntry is not a function")},VirtualResults.prototype._setSolitarySelected=function(entry,entryID){var sourceID=this._sources.getSourceID(entry),settings=this._select._settings,level=this._select.SOLITARY_LEVEL;if(settings.solitaryLevel===level.CUSTOM){const property=settings.getSolitaryIdForEntry(entry);this._currentSolitary[property]=entryID}else settings.solitaryLevel===level.SOURCE?this._currentSolitary[sourceID]=entryID:settings.solitaryLevel===level.GROUP?this._currentSolitary[this._sources.getSourceGroup(sourceID)]=entryID:this._currentSolitary=entryID},VirtualResults.prototype._removeSelectedSolitary=function(entry){var current,group,sourceID=this._sources.getSourceID(entry),settings=this._select._settings,level=this._select.SOLITARY_LEVEL;if(settings.solitaryLevel===level.CUSTOM){const property=settings.getSolitaryIdForEntry(entry);current=this._currentSolitary[property],delete this._currentSolitary[property]}else settings.solitaryLevel===level.SOURCE?(current=this._currentSolitary[sourceID],delete this._currentSolitary[sourceID]):settings.solitaryLevel===level.GROUP?(group=this._sources.getSourceGroup(sourceID),current=this._currentSolitary[group],delete this._currentSolitary[group]):(current=this._currentSolitary,this._currentSolitary=null);return current},VirtualResults.prototype._getSolitaryToRemove=function(entry){var filter,group,sourceID=this._sources.getSourceID(entry),settings=this._select._settings,level=this._select.SOLITARY_LEVEL;if(settings.solitaryLevel===level.CUSTOM){const sourceGroup=settings.getSolitaryIdForEntry(entry);filter=function(someEntry){return settings.getSolitaryIdForEntry(someEntry)===sourceGroup}}else settings.solitaryLevel===level.SOURCE?filter=function(someEntry){return this._sources.getSourceID(someEntry)===sourceID}.bind(this):settings.solitaryLevel===level.GROUP?(group=this._sources.getSourceGroup(sourceID),filter=function(someEntry){return this._sources.getSourceGroup(this._sources.getSourceID(someEntry))===group}.bind(this)):filter=function(){return!0};return Object.keys(this._selectedMap).filter(function(id){return!this._select._requiredEntryIDs.has(id)&&filter(this._selectedMap[id])}.bind(this))},VirtualResults.prototype._add=function(entry,entryID,selectedCount){var max=this._select._settings.max;this._select._addedViaChooser(entry),this._selectedMap[entryID]=entry,max&&selectedCount+1===max&&this._disableUnselectedEntries(!0),this._renderForPossibleDisableStateChange(entry),this._reRenderEntry(entryID)},VirtualResults.prototype._addMultiple=function(entryWrapper,selectedCount){var max=this._select._settings.max,ids=[];return this._select._batchChange(function(){var i,wrapper,lower=Math.min(this._lastChangedIndex,entryWrapper.insertedIndex),upper=Math.max(this._lastChangedIndex,entryWrapper.insertedIndex);for(i=lower;i<=upper;i++)if(!((wrapper=this._entries[i]).category||wrapper.subcategory||this._selectedMap[wrapper.id]||this._sources.isSolitaryEntry(wrapper.entry))){if(this._select._addedViaChooser(wrapper.entry),this._selectedMap[wrapper.id]=wrapper.entry,ids.push(wrapper.id),++selectedCount===max){this._disableUnselectedEntries(!0);break}if(this._renderForPossibleDisableStateChange(wrapper.entry))break}}.bind(this)),ids.forEach(function(id){this._reRenderEntry(id)}.bind(this)),selectedCount},VirtualResults.prototype._addNormal=function(entry,entryID,selectedCount){var currentSolitary,currentSolitaryID=this._removeSelectedSolitary(entry);return currentSolitaryID?this._select._batchChange(function(){currentSolitary=this._selectedMap[currentSolitaryID],this._select._removedViaChooser(currentSolitary),delete this._selectedMap[currentSolitaryID],this._reRenderEntry(currentSolitaryID),selectedCount--,this._add(entry,entryID,selectedCount)}.bind(this)):this._add(entry,entryID,selectedCount),selectedCount},VirtualResults.prototype._addSolitary=function(entry,entryID,selectedKeys,selectedCount){var toRemoveIDs=this._getSolitaryToRemove(entry),setAndAdd=function(){this._setSolitarySelected(entry,entryID),this._add(entry,entryID,selectedCount)}.bind(this);return toRemoveIDs.length>0?this._select._batchChange(function(){toRemoveIDs.forEach(function(id){var removeEntry=this._selectedMap[id];this._select._removedViaChooser(removeEntry),delete this._selectedMap[id],this._reRenderEntry(id),selectedCount--}.bind(this)),setAndAdd()}.bind(this)):setAndAdd(),selectedCount},VirtualResults.prototype._removeNormal=function(entry){var id=this._sources.uniqueEntryID(entry);delete this._selectedMap[id],this._select._removedViaChooser(entry),this._reRenderEntry(id)},VirtualResults.prototype._removeSolitary=function(entry){this._removeSelectedSolitary(entry),this._removeNormal(entry)},VirtualResults.prototype._removeMultiple=function(entry){var id=this._sources.uniqueEntryID(entry),entryWrapper=this._entryWrapperMap[id],ids=[];this._select._batchChange(function(){var i,wrapper,lower=Math.min(this._lastChangedIndex,entryWrapper.insertedIndex),upper=Math.max(this._lastChangedIndex,entryWrapper.insertedIndex);for(i=lower;i<=upper;i++)(wrapper=this._entries[i]).category||wrapper.subcategory||!this._selectedMap[wrapper.id]||this._sources.isSolitaryEntry(wrapper.entry)||(this._select._removedViaChooser(wrapper.entry),delete this._selectedMap[wrapper.id],ids.push(wrapper.id))}.bind(this)),ids.forEach(function(entryID){this._reRenderEntry(entryID)}.bind(this))},VirtualResults.prototype._afterAdd=function(){},VirtualResults.prototype._clearSearchInput=function(){return!1},VirtualResults.prototype._afterChunkRendered=function(){},VirtualResults.prototype._clickEntry=function(event,entryWrapper){var isSelected=!this._selectedMap[entryWrapper.id];this._hideTooltip(!0),isSelected?this.add(entryWrapper.entry,event)&&(entryWrapper.solitary?(this._lastChangedIndex=null,this._lastChangeAction=null):(this._lastChangedIndex=entryWrapper.insertedIndex,this._lastChangeAction=this._CHANGE_ACTION.ADD),this._afterAdd()):this._select._settings.singleSelect&&this._select._includeInput?this._afterAdd():(this.remove(entryWrapper.entry,event),this._lastChangedIndex=entryWrapper.insertedIndex,this._lastChangeAction=this._CHANGE_ACTION.REMOVE)},VirtualResults.prototype._clickCategory=function(event,categoryWrapper){var buttonToggle=categoryWrapper.element.getElementsByTagName("button")[0],isExpanded=buttonToggle.classList.contains("active");event.target===buttonToggle&&(isExpanded?buttonToggle.classList.remove("active"):buttonToggle.classList.add("active"),this._collapsedCategories[categoryWrapper.id]=isExpanded,this._maintainScrollNextRender(),this._collectEntriesAndRender())},VirtualResults.prototype._setupEntryDragAndDrop=function(element,entryWrapper){element.setAttribute("draggable","true"),element.addEventListener("dragstart",function(event){var dragElement=element.cloneNode(!0);dragElement.className="entry drag-entry",this.resultsElement.appendChild(dragElement),event.dataTransfer.effectAllowed="copy",drag.setData(event.dataTransfer,entryWrapper.id);try{event.dataTransfer.setDragImage(dragElement,0,0)}catch(e){}entryWrapper.dragging=!0,entryWrapper.dragElement=dragElement,drag.notifyStart(entryWrapper.entry),this._hideTooltip(!0)}.bind(this)),element.addEventListener("dragend",function(){entryWrapper.dragElement.parentNode&&this.resultsElement.removeChild(entryWrapper.dragElement),entryWrapper.dragging=!1,drag.notifyEnd()}.bind(this))},VirtualResults.prototype._setupEntryTooltip=function(element,entryWrapper){element.addEventListener("mouseenter",()=>{entryWrapper.dragging||this._showTooltip(entryWrapper,element)}),element.addEventListener("mouseleave",function(){this._hideTooltip()}.bind(this))},VirtualResults.prototype._disableUnselectedEntries=function(disable){this._unselectedEntriesDisabled=disable,this._entries&&null!=this.resultsElement.offsetParent&&this._renderScrolledChunk(!0)},VirtualResults.prototype._renderCategory=function(categoryWrapper,index){var element,content,classes;return categoryWrapper.element?element=categoryWrapper.element:(element=document.createElement("label"),content=this._sources.formatCategory(categoryWrapper.name,categoryWrapper.count),this._select._settings.collapsibleCategories?(classes="compact-visual-toggle",categoryWrapper.collapsed||(classes+=" active"),element.innerHTML='<button type="button" class="'+classes+'"></button><span>'+content+"</span>",element.addEventListener("click",function(event){event.stopPropagation(),this._clickCategory(event,categoryWrapper)}.bind(this))):element.innerHTML="<span>"+content+"</span>",element.className="category",categoryWrapper.element=element),element.style.height=this._categoryHeight+"px",element.style.top=this._calculateEntryOffset(index||0)+"px",element},VirtualResults.prototype._renderSubcategory=function(subcategoryWrapper,index){var element,content;return subcategoryWrapper.element?element=subcategoryWrapper.element:(element=document.createElement("div"),content=this._sources.formatSubcategory(subcategoryWrapper.value,subcategoryWrapper.count,subcategoryWrapper.id),element.innerHTML="<span>"+content+"</span>",element.className="subcategory",subcategoryWrapper.element=element),element.style.height=this._subcategoryHeight+"px",element.style.top=this._calculateEntryOffset(index||0)+"px",element},VirtualResults.prototype._renderForPossibleDisableStateChange=function(entry){var sourceID=this._sources.getSourceID(entry);return!(!this._sources.getDisableEntryFunction(sourceID)||!this._entries||null===this.resultsElement.offsetParent)&&(this._renderScrolledChunk(!0),!0)},VirtualResults.prototype._calculateEntryHeight=function(wrapper){var height,element;return(element=wrapper.category?this._renderCategory(wrapper):wrapper.subcategory?this._renderSubcategory(wrapper):this._renderEntry(wrapper,null,!0)).style.height="",element.style.visibility="hidden",this.resultsElement.appendChild(element),height=element.offsetHeight,this.resultsElement.removeChild(element),element.style.visibility="",height},module.exports=VirtualResults},function(module,exports,__webpack_require__){"use strict";var $=jQuery,END_EVENT="selectEntryDragEnd";function Drag(){this._$body=$("body")}Drag.prototype.notifyStart=function(entry){this._entry=entry,$("body").trigger("selectEntryDragStart")},Drag.prototype.notifyEnd=function(){$("body").trigger(END_EVENT)},Drag.prototype.setData=function(dataTransfer,data){try{dataTransfer.setData("select-entry",data)}catch(e){dataTransfer.setData("text",data)}},Drag.prototype.supportedType=function(dataTransfer){var supported=!0;try{supported=dataTransfer.types.indexOf("select-entry")>=0}catch(e){}return supported},Drag.prototype.onDrag=function(id,startFn,endFn){var $body=$("body");$body.on("selectEntryDragStart."+id,function(){startFn(this._entry)}.bind(this)),$body.on(END_EVENT+"."+id,endFn)},Drag.prototype.off=function(id){var $body=$("body");$body.off("selectEntryDragStart."+id),$body.off(END_EVENT+"."+id)},module.exports=new Drag},function(module,exports,__webpack_require__){"use strict";var $=jQuery,util=__webpack_require__(39);function SearchInput(select){this._$search=$('<input disabled="disabled" type="text">').attr("placeholder",select.SEARCH_PLACEHOLDER),this._$clearSearch=$('<f-icon class="fa-dismiss clear-search hidden"></f-icon>').attr("title",select.CLEAR_SEARCH_TITLE).on("click",function(){this.clear()}.bind(this)),this.$element=$('<div class="select-widget-search"></div>').append(this._$search).append('<f-icon class="fa-search no-mini-touch-resize search-indicator"></f-icon>').append(this._$clearSearch),this._previousValue=""}SearchInput.prototype.onChange=function(callback){this._changeCallback=callback,this._$search[0].oninput=util.debounce(500,function(){var searchValue=this.getValue();searchValue!==this._previousValue&&(this._$clearSearch.toggleClass("hidden",!searchValue),callback(searchValue),this._previousValue=searchValue)}.bind(this))},SearchInput.prototype.onTabbedOut=function(callback){this._$search.on("keydown",function(event){9===event.which&&(event.preventDefault(),callback())})},SearchInput.prototype.getValue=function(){return this._$search.val()},SearchInput.prototype.enable=function(){[this._$search,this._$clearSearch].forEach(function($element){$element.attr("disabled",!1).toggleClass("disabled",!1)})},SearchInput.prototype.enableAndFocus=function(){this.enable(),this._$search.focus()},SearchInput.prototype.clear=function(){this._$clearSearch.is(".disabled")||(this._$search.val(""),this._changeCallback(""),this._$clearSearch.addClass("hidden"),this._previousValue="")},SearchInput.prototype.disable=function(){[this._$search,this._$clearSearch].forEach(function($element){$element.attr("disabled",!0).toggleClass("disabled",!0)})},module.exports=SearchInput},function(module,exports,__webpack_require__){"use strict";var browser=__webpack_require__(74);module.exports=function(fileInput,options){var initialLabelHTML,DRAG_EVENTS=["dragenter","dragleave","drop","dragover"],DROP_AREA_SCALE=1.5,fileNameElement=null,doc=fileInput.ownerDocument,label=doc.querySelectorAll('[for="'+fileInput.id+'"]')[0],dragElements=[],isBadIE=browser.isIE();if("string"==typeof(options=function(opts,default_options){var result={};for(var i in default_options)result[i]=i in opts?opts[i]:default_options[i];return result}(options||{},{fileNameLabelTextSelector:"span"})).fileNameLabelTextSelector){var selector='[for="'+fileInput.id+'"] '+options.fileNameLabelTextSelector;fileNameElement=doc.querySelectorAll(selector)[0],initialLabelHTML=fileNameElement.innerHTML}return DRAG_EVENTS.forEach(function(eventType){doc.body.addEventListener(eventType,dragHandler)}),fileInput.addEventListener("change",change),function(){DRAG_EVENTS.forEach(function(eventType){doc.body.removeEventListener(eventType,dragHandler)}),fileInput.removeEventListener("change",change),fileNameElement&&(fileNameElement.innerHTML=initialLabelHTML)};function change(event){if(fileNameElement){var fileNames=Array.prototype.slice.call(event.target.files).map(function(f){return f.name});fileNames.length?fileNameElement.innerHTML=fileNames.join("<br>"):fileNameElement.innerHTML=initialLabelHTML}}function dragHandler(event){var elem,className=fileInput.className.replace(/ *\bdrop-support\b/g,""),types=event.dataTransfer&&event.dataTransfer.types&&Array.prototype.slice.call(event.dataTransfer.types),isFileInput="input"===event.target.tagName.toLowerCase()&&"file"===event.target.type;if("dragover"===event.type){if(event.target===label){var half={width:label.offsetWidth/2,height:label.offsetHeight/2},halfScaled={width:half.width*DROP_AREA_SCALE,height:half.height*DROP_AREA_SCALE};fileInput.style.top=label.offsetTop+half.height-halfScaled.height+"px",fileInput.style.left=label.offsetLeft+half.width-halfScaled.width+"px",fileInput.style.width=label.offsetWidth*DROP_AREA_SCALE+"px",fileInput.style.height=label.offsetHeight*DROP_AREA_SCALE+"px"}!types.some(isFile)||isFileInput&&!isBadIE||event.preventDefault()}else"dragenter"===event.type?(dragElements.push(event.target),(!types||types.some(isFile)&&!isBadIE)&&(fileInput.className=className+" drop-support")):"dragleave"===event.type?dragElements=dragElements.filter((elem=event.target,function(e){return e!==elem})):(dragElements=[],!types.some(isFile)||isFileInput&&!isBadIE||event.preventDefault());function isFile(dataTransferType){return"files"===dataTransferType.toLowerCase()}0===dragElements.length&&(fileInput.className=className)}}},function(module,exports,__webpack_require__){"use strict";const IpMask=__webpack_require__(127);class IpAddressRange{constructor(first,last){this.first=first,this.last=last}containSingle(addrInt){return addrInt.greaterThanOrEqual(this.first)&&addrInt.lessThanOrEqual(this.last)}contains(addr){return this.containSingle(addr.first)&&this.containSingle(addr.last)}overlaps(addr){return this.containSingle(addr.first)||this.containSingle(addr.last)||addr.containSingle(this.first)||addr.containSingle(this.last)}equals(addr){return this.first.equals(addr.first)&&this.last.equals(addr.last)}lessThanOrEqual(addr){return this.first.equals(addr.first)?this.last.lessThanOrEqual(addr.last):this.first.lessThanOrEqual(addr.first)}greaterThanOrEqual(addr){return this.first.equals(addr.first)?this.last.greaterThanOrEqual(addr.last):this.first.greaterThanOrEqual(addr.first)}rangeCount(){return this.last.subtract(this.first).toNumber()+1}}class IpAddress extends IpAddressRange{constructor(addr,mask){super(function(address,mask){const maskRaw=mask.toNumber(),shiftAmount=6===address.getVersion()?128-maskRaw:32-maskRaw;return address.toInteger().shiftRight(shiftAmount).shiftLeft(shiftAmount)}(addr,mask),function(address,mask){const maskRaw=mask.toNumber(),shiftAmount=6===address.getVersion()?128-maskRaw:32-maskRaw;return address.toInteger().shiftRight(shiftAmount).add(goog.math.Integer.ONE).shiftLeft(shiftAmount).subtract(goog.math.Integer.ONE)}(addr,mask)),this.addr=addr,this.mask=mask}}class Ipv4Address extends IpAddress{static isValid(string){try{return!!Ipv4Address.parse(string)}catch(e){return!1}}static parse(string){let result;try{return["parseAddress","parseRange"].some(fnName=>{if(result=Ipv4Address[fnName](string))return!0}),result||null}catch(e){return null}}static parseAddress(string){if(IpMask.IPV4_ADDR_EXPR.test(string)){let ip=goog.net.IpAddress.fromString(string),mask=goog.math.Integer.fromString("32");return new Ipv4Address(ip,mask)}if(IpMask.IPV4_SUBNET_EXPR.test(string)){let ip,mask;return string.includes("/")?[ip,mask]=string.split("/"):string.includes(" ")&&([ip,mask]=string.split(" ")),/\./.test(mask)?(mask=goog.net.IpAddress.fromString(mask).toInteger(),mask=goog.math.Integer.fromNumber(mask.toString(2).lastIndexOf("1")+1)):mask=goog.math.Integer.fromString(mask),ip=goog.net.IpAddress.fromString(ip),new Ipv4Address(ip,mask)}return null}static parseRange(string){if(IpMask.IPV4_RANGE.test(string)||IpMask.IPV4_RANGE_SPACES.test(string)){let[ip1,ip2]=string.split("-");if(ip1=Ipv4Address.parseAddress(ip1.trim()),ip2=Ipv4Address.parseAddress(ip2.trim()),ip1&&ip2)return new IpAddressRange(ip1.first,ip2.last)}}}class Ipv6Address extends IpAddress{static parse(string){let result;try{return["parseAddress","parseRange"].some(fnName=>{if(result=Ipv6Address[fnName](string))return!0}),result||null}catch(e){return null}}static parseAddress(string){if(!string)return null;if(IpMask.IPV6_HOST.test(string)){let ip=goog.net.IpAddress.fromString(string),mask=goog.math.Integer.fromString("128");return new Ipv6Address(ip,mask)}if(IpMask.IPV6_SUBNET.test(string)){let[ip,mask]=string.split("/");return mask=goog.math.Integer.fromString(mask),ip=goog.net.IpAddress.fromString(ip),new Ipv6Address(ip,mask)}return null}static parseRange(string){if(!string)return null;let[ip1,ip2]=string.split("-");return ip1&&ip2&&(ip1=Ipv6Address.parseAddress(ip1.trim()),ip2=Ipv6Address.parseAddress(ip2.trim()),ip1&&ip2)?new IpAddressRange(ip1.first,ip2.last):void 0}}module.exports={parse:string=>{let result;try{return[Ipv4Address,Ipv6Address].some(Class=>{if(result=Class.parse(string))return!0}),result||null}catch(e){return null}}}},function(module,exports,__webpack_require__){"use strict";const anim=__webpack_require__(159),$=jQuery,LEVEL=module.exports.LEVEL={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error"},DURATIONS={};DURATIONS[LEVEL.INFO]=5e3,DURATIONS[LEVEL.SUCCESS]=3e3,DURATIONS[LEVEL.WARNING]=0,DURATIONS[LEVEL.ERROR]=0;const getContainer=function(){return $body||($body=$("body")),$container||($container=$('<div class="notify-messages"></div>').appendTo($body)),$container};var $body,$container;module.exports.post=function(message,level,duration,config){var $elem,$buttonContainer,remove=function(event){event&&"function"==typeof event.stopPropagation&&event.stopPropagation(),$elem.parent().length&&$elem.addClass("fade-out").one(anim.CROSS_BROWSER_ANIMATION_END,function(){$elem.remove()})};level=level||LEVEL.INFO,duration="number"==typeof duration?duration:DURATIONS[level],config=$.extend({},{clickToDismiss:!0,beforeDisplay:null},config),$elem=$('<div class="'+level+'-notify-message"></div>'),config.groupID&&$elem.attr("group-id",config.groupID),$('<div class="notify-message-container"></div>').append('<f-icon class="fa-'+level+'"></f-icon>').append('<div class="notify-message-content">'+message+"</div>").appendTo($elem),$buttonContainer=$('<div class="notify-button-container"></div>').appendTo($elem),$('<button type="button" class="bare"><f-icon class="fa-dismiss"></f-icon></button').on("click",remove).appendTo($buttonContainer),config.clickToDismiss&&$elem.on("click",remove),"function"==typeof config.beforeDisplay&&config.beforeDisplay($elem),getContainer().prepend($elem),duration&&setTimeout(remove,duration)},module.exports.clearAll=function(){getContainer().empty()},module.exports.clearAllForGroup=function(groupID){const container=getContainer()[0];for(const message of container.children)message.getAttribute("group-id")===groupID&&container.removeChild(message)}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(126)},function(module,exports,__webpack_require__){"use strict";const StreamableSource=__webpack_require__(375),FixedStreamableSource=__webpack_require__(376),ImplicitFixedStreamableSource=__webpack_require__(587),SourceManager=__webpack_require__(588),Settings=__webpack_require__(382),Header=__webpack_require__(593),VirtualizedRows=__webpack_require__(601),Legend=__webpack_require__(607),EditableOption=__webpack_require__(378),ValidatePattern=__webpack_require__(379),dom=__webpack_require__(40),log=__webpack_require__(45),shortcuts=__webpack_require__(160),browser=__webpack_require__(74);function Table(params){params=params||{},this.element=null,this._settings=null,this._sourceManager=null,this._inline=params.inline||!1,this._chartsOnly=params.chartsOnly||!1,this._disableWindowResizeListener=params.disableWindowResizeListener||!1,this._header=null,this._legend=null,this._virtualizedRows=null,this._ngScope=params.ngScope,this._ngInjector=params.ngInjector,this._selectionChangeCallback=null,this._rowCountChangeCallback=null,this._doubleClickRowCallback=null,this._contextMenuCallback=null,this._renderCallback=null,this._columnReorderCallback=null,this._loadingCallback=null,this._verticalScrollJump=null,this._verticalScrollInterval=null,this._horizontalScrollJump=null,this._horizontalScrollInterval=null,this._intersectionObserver=null,this._loading=!0,this._showInformationMask=!0,this._readyForRender=!1,this._renderStarted=!1,this._renderCompleted=!1,this._visible=!1,this._columnCharts=null,this._searchValue=null,this._tableContainerElement=null,this._loadingElement=null,this._createElement(),this._monitorVisibility(),this.update(params)}Table.DEBUG=!0,Table.STANDARD_COLUMNS={},Table.EDITABLE_VALIDATE_PATTERNS={},Table.SORT_DIRECTION={ASCENDING:"asc",DESCENDING:"desc"},Table.PARENT_CHILD_MATCH_MODE={BOTH:"both",CHILD_ONLY:"child"},Table.DEFAULT_ROW_HEIGHT=18,Table.DEFAULT_CELL_PADDING=7,Table.DEFAULT_SORT_DIRECTION=Table.SORT_DIRECTION.ASCENDING,Table.ID_PROCESSOR=function(id){return id},Table.DEFAULT_SEQUENCE_GROUPING_VALUE_FUNCTION=function(){throw new Error("Not implemented")},Table.FixedStreamableSource=FixedStreamableSource,Table.StreamableSource=StreamableSource,Table.EditableOption=EditableOption,Table.ValidatePattern=ValidatePattern,Table.prototype.updateSettings=function(settings){this.update({settings:settings})},Table.prototype.updateSource=function(source){this.update({source:source})},Table.prototype.update=function(params){let source=params.source;if("boolean"==typeof params.chartsOnly&&(this._chartsOnly=params.chartsOnly),params.chartColumns&&!browser.isMobile()&&(this._chartColumns=params.chartColumns,this._settings&&this._settings.toggleColumnStatisticCollection(this._chartColumns)),params.settings&&(this._settings&&this._settings.destroy(),this._settings=new Settings(params.settings,this._inline,Table),this._ngScope&&this._ngInjector&&this._settings.ngEnhance(this._ngScope,this._ngInjector),this._settings.toggleColumnStatisticCollection(this._chartColumns),this._header.setSettings(this._settings),!source&&this._sourceManager&&(source=this._sourceManager._source)),source){let streamableSource;streamableSource=source instanceof StreamableSource?source:new ImplicitFixedStreamableSource(source),this._sourceManager=new SourceManager(streamableSource,this._settings),this._searchValue&&this._sourceManager.search(this._searchValue),this._header.setSourceManager(this._sourceManager)}this._settings&&this._sourceManager&&(this._renderStarted=!1,this._renderCompleted=!1,this._initializeRender())},Table.prototype.clearSelection=function(){this._virtualizedRows&&this._virtualizedRows.clearSelectionAndNotify()},Table.prototype.onSelectionChange=function(callback){this._selectionChangeCallback=callback},Table.prototype.onRowCountChange=function(callback){this._rowCountChange=callback},Table.prototype.onDoubleClickRow=function(callback){this._doubleClickRowCallback=callback},Table.prototype.onRender=function(callback){this._renderCallback=callback},Table.prototype.onColumnReorder=function(callback){this._columnReorderCallback=callback},Table.prototype.onLoading=function(callback){this._loadingCallback=callback},Table.prototype.setContextMenuCallback=function(callback){this._contextMenuCallback=callback},Table.prototype.getCurrentRows=function(){var rows=[];return this._virtualizedRows&&(rows=this._virtualizedRows.getCurrentRows()),rows},Table.prototype.getRowsForHierarchyID=function(id){let rows=[];return this._sourceManager&&(rows=this._sourceManager.getRowsForHierarchyID(id)),rows},Table.prototype.hasRendered=function(){return this._renderCompleted},Table.prototype.search=function(searchValue){var result;return this._sourceManager&&this._virtualizedRows&&(this._settings.fixedSource?(searchValue="string"==typeof searchValue&&searchValue?searchValue.toLowerCase():null,this._searchValue=searchValue,this._sourceManager.search(searchValue),result=this._virtualizedRows.render({recalculateColumnWidths:this._settings.parentChildRows})):log.error("Cannot search a non-fixed source")),result||Promise.reject()},Table.prototype.locate=function(arg){this._sourceManager&&this._virtualizedRows&&(this._locate(arg),this._virtualizedRows.render({keepScrollPosition:!0,recalculateColumnWidths:this._settings.parentChildRows}))},Table.prototype.locateNextRender=function(arg){this._pendingLocate=arg},Table.prototype.setFilter=function(columnID,serialized){if(this._sourceManager&&(this._virtualizedRows||this._chartsOnly)){if(!this._settings.fixedSource)throw new Error("Cannot filter a non-fixed source");{let column=this._settings.columnsMap[columnID];if(!column||null==column.currentIndex&&!this._settings.getStatisticCollectedColumns().includes(column))throw new Error(`No active column with ID ${columnID}`);this._settings.setColumnFilterAndPersist(column,serialized),this._sourceManager.filterAndSection(),this._chartsOnly?this._sourceManager.filterAndCreateSections().then(()=>{this._afterRender()}):this._virtualizedRows.render()}}},Table.prototype.addEntry=function(entry){if(this._sourceManager&&this._virtualizedRows){if(!this._settings.fixedSource)throw new Error("Cannot add an entry to a non-fixed source");this._sourceManager.addEntry(entry,{locateNextRender:!0}).then(function(){this._virtualizedRows.render()}.bind(this))}},Table.prototype.deleteRows=function(rows){if(this._sourceManager&&this._virtualizedRows){if(!this._settings.fixedSource)throw new Error("Cannot delete rows in a non-fixed source");Array.isArray(rows)||(rows=[rows]),this._sourceManager.deleteRows(rows),this._virtualizedRows.render({clearAllRowCache:!0,keepScrollPosition:!0})}},Table.prototype.setEditedColumnValueForSelection=function(column,editedValue){this._sourceManager&&this._virtualizedRows&&this._virtualizedRows.setEditedColumnValueForSelection(column,editedValue)},Table.prototype.exportToCSV=function(name){if(this._sourceManager&&this._virtualizedRows){if(this._settings.fixedSource)return this._sourceManager.exportToFile(name,this._sourceManager.FILE_TYPE.CSV);throw new Error("Cannot export a non-fixed source")}},Table.prototype.exportToJSON=function(name){if(this._sourceManager&&this._virtualizedRows){if(this._settings.fixedSource)return this._sourceManager.exportToFile(name,this._sourceManager.FILE_TYPE.JSON);throw new Error("Cannot export a non-fixed source")}},Table.prototype.copyInsertEntry=function(entry,index,params){if(this._sourceManager&&this._virtualizedRows){if(!this._settings.fixedSource)throw new Error("Cannot copy copy/insert to a non-fixed source");this._virtualizedRows.copyInsertEntry(entry,index,params)}},Table.prototype.setRowSequenceGroupingValue=function(row,value){this._virtualizedRows&&null!=row.insertedIndex&&this._virtualizedRows.setRowSequenceGroupingValue(row,value)},Table.prototype.getSettings=function(){return this._settings},Table.prototype.getAllSectionValues=function(){if(this._sourceManager)return this._sourceManager.getAllSectionValues()},Table.prototype.notifyParentElementWidthChange=function(){this._virtualizedRows&&this._virtualizedRows.parentElementWidthChanged()},Table.prototype.showLoadingMask=function(){this._setLoading(!0)},Table.prototype.destroy=function(){this._settings&&this._settings.destroy(),this._header&&this._header.destroy(),this._legend&&this._legend.destroy(),this._ngScope=null,this._ngInjector=null,this._intersectionObserver.disconnect(),this._destroyVirtualRows(),this.element.parentElement&&this.element.parentElement.removeChild(this.element)},Table.prototype.updateActiveColumns=function(columnIDs){if(this._header){const validColumnIDs=columnIDs.filter(id=>this._settings.columnsMap[id]);if(!validColumnIDs.length)throw new Error("No valid active column");this._header.updateActiveColumns(validColumnIDs)}},Table.prototype._destroyVirtualRows=function(){this._virtualizedRows&&this._virtualizedRows.destroy(),this._virtualizedRows=null},Table.prototype._onLoadingTransitionStart=function(){this._loadingTransitionStarted=!0},Table.prototype._setLoading=function(loading,params){params=params||{};var result=Promise.resolve();return loading?(!this._loading&&this._loadingTransitionStarted&&(result=new Promise(function(resolve){var onTransitionEnd=function(){this._loadingTransitionStarted=!1,this._loadingElement.removeEventListener("transitionend",onTransitionEnd),resolve()}.bind(this);this._loadingElement.addEventListener("transitionend",onTransitionEnd)}.bind(this))),this._loadingElement.classList.remove("loading-invisible"),params.noOpacity&&this._loadingElement.classList.add("no-opacity"),this._informationMaskElement.classList.add("information-mask-invisible")):(this._loadingElement.classList.add("loading-invisible"),this._loadingElement.classList.remove("no-opacity"),this._informationMaskEnabled()&&this._showInformationMask&&setTimeout(()=>this._informationMaskElement.classList.remove("information-mask-invisible"))),this._loading=!!loading,this._legend.setTableLoading(this._loading),"function"==typeof this._loadingCallback&&setTimeout(function(){this._loadingCallback(loading)}.bind(this)),result},Table.prototype._initializeRender=function(){this._settings.fixedSource=this._sourceManager.fixedSource,this._settings.initialize(),this._destroyVirtualRows(),this._chartsOnly?(this._setLoading(!0),this.element.classList.add("charts-only"),this._searchValue&&(this._searchValue="",this._sourceManager.search("")),this._sourceManager.filterAndCreateSections().then(()=>{this._afterRender(),this._setLoading(!1)})):(this.element.classList.remove("charts-only"),this._virtualizedRows=new VirtualizedRows(this._tableContainerElement,this._header,this._legend,this._sourceManager,this._settings,this._inline,this._disableWindowResizeListener),this._virtualizedRows.setLoadCallback(this._setLoading.bind(this)),this._virtualizedRows.onSelectionChange(this._selectionChange.bind(this)),this._virtualizedRows.onRowCountChange(this._rowCountChange.bind(this)),this._virtualizedRows.onDoubleClickRow(this._doubleClickRow.bind(this)),this._virtualizedRows.onRowContextMenu(this._rowContextMenu.bind(this)),this._virtualizedRows.onRender(this._afterRender.bind(this)),this._header.setVirtualizedRows(this._virtualizedRows),this._legend.reset());const maskContent=this._settings.informationMask;maskContent&&(maskContent instanceof HTMLElement?(this._informationMaskContent.innerHTML="",this._informationMaskContent.appendChild(maskContent)):this._informationMaskContent.textContent=maskContent),this._pendingLocate&&(this._locate(this._pendingLocate),this._pendingLocate=null),this._settings.reordering?this.element.classList.add("reorderable-rows"):this.element.classList.remove("reorderable-rows"),this._settings.mobileLayout?this.element.classList.add("mobile-layout"):this.element.classList.remove("mobile-layout"),this._readyForRender=!0,this._attemptRender()},Table.prototype.updateDisplay=function(){this._virtualizedRows&&this._readyForRender&&this._renderCompleted&&this._virtualizedRows.render({keepScrollPosition:!0,keepRows:!0,viewportChanged:!0,keepColumnWidths:!1})},Table.prototype._selectionChange=function(selection){"function"==typeof this._selectionChangeCallback&&setTimeout(function(){this._selectionChangeCallback(selection)}.bind(this))},Table.prototype._rowCountChange=function(rowCount){"function"==typeof this._rowCountChangeCallback&&setTimeout(function(){this._rowCountChangeCallback(rowCount)}.bind(this))},Table.prototype._doubleClickRow=function(row,event){"function"==typeof this._doubleClickRowCallback&&setTimeout(function(){this._doubleClickRowCallback(row,event)}.bind(this))},Table.prototype._rowContextMenu=function(row,event){"function"==typeof this._contextMenuCallback&&setTimeout(function(){this._contextMenuCallback(event)}.bind(this))},Table.prototype._afterRender=function(){this._renderCompleted=!0,"function"==typeof this._renderCallback&&setTimeout(()=>this._renderCallback(this._settings))},Table.prototype._columnReorder=function(column){"function"==typeof this._columnReorderCallback&&setTimeout(()=>this._columnReorderCallback(column,this._settings))},Table.prototype._setupMouseUp=function(){this.element.addEventListener("mouseup",function(){this._header&&this._header.isResizing()?this._header.stopResizing():this._header&&this._header.isReordering()?this._header.stopReordering():this._virtualizedRows&&this._virtualizedRows.isReorderingRow()&&this._virtualizedRows.stopReorderingRow()}.bind(this))},Table.prototype._setupMouseEnterLeave=function(){this.element.addEventListener("mouseenter",()=>{this._informationMaskEnabled()&&(this._showInformationMask=!1,this._informationMaskElement.classList.add("information-mask-invisible"))}),this.element.addEventListener("mouseleave",()=>{this._informationMaskEnabled()&&(this._showInformationMask=!0,this._loading||this._informationMaskElement.classList.remove("information-mask-invisible"))})},Table.prototype._setupMouseMove=function(){var getRelativeMouseOffset=function(event){var elementOffset=dom.getElementOffset(this.element);return{top:event.pageY-elementOffset.top,left:event.pageX-elementOffset.left}}.bind(this);this.element.addEventListener("mousemove",function(event){var relativeMouse,jump;this._header&&this._header.isResizing()&&this._header.resizeFromMouseMove(event),this._header&&this._header.isReordering()?(this._header.reorderFromMouseMove(event),(relativeMouse=getRelativeMouseOffset(event)).left<50?jump=-20:this.element.clientWidth-relativeMouse.left<=50&&(jump=20),jump!==this._horizontalScrollJump&&(clearInterval(this._horizontalScrollInterval),jump&&(this._horizontalScrollInterval=setInterval(function(){this._tableContainerElement.scrollLeft+=jump}.bind(this),50)),this._horizontalScrollJump=jump)):clearInterval(this._horizontalScrollInterval),this._virtualizedRows&&this._virtualizedRows.isReorderingRow()?(this._virtualizedRows.reorderRowFromMouseMove(event),(relativeMouse=getRelativeMouseOffset(event)).top-this._header.height<=50?jump=-20:this.element.clientHeight-relativeMouse.top<=50&&(jump=20),jump!==this._verticalScrollJump&&(clearInterval(this._verticalScrollInterval),jump&&(this._verticalScrollInterval=setInterval(function(){this._tableContainerElement.scrollTop+=jump}.bind(this),50)),this._verticalScrollJump=jump)):clearInterval(this._verticalScrollInterval),this._legend.setVisibility(!0)}.bind(this))},Table.prototype._informationMaskEnabled=function(){return!(!this._settings||!this._settings.informationMask)},Table.prototype._setupKeyboardShortcuts=function(){var keyDownChecker=shortcuts.createShortcutChecker([shortcuts.SHORTCUTS.PREVIOUS,shortcuts.SHORTCUTS.NEXT,shortcuts.SHORTCUTS.SELECT,shortcuts.SHORTCUTS.SELECT_ALL],function(shortcut,event){switch(shortcut){case shortcuts.SHORTCUTS.PREVIOUS:this._virtualizedRows&&!this._virtualizedRows.blockingRenderInProgress()&&(this._virtualizedRows.focusPreviousEntry(),event.preventDefault());break;case shortcuts.SHORTCUTS.NEXT:this._virtualizedRows&&!this._virtualizedRows.blockingRenderInProgress()&&(this._virtualizedRows.focusNextEntry(),event.preventDefault());break;case shortcuts.SHORTCUTS.SELECT:!this._virtualizedRows||this._virtualizedRows.blockingRenderInProgress()||this._virtualizedRows.isEditing()||(this._virtualizedRows.selectFocusedEntry(event),event.preventDefault());break;case shortcuts.SHORTCUTS.SELECT_ALL:this._virtualizedRows&&!this._virtualizedRows.blockingRenderInProgress()&&(this._virtualizedRows.selectAllEntries(),event.preventDefault())}}.bind(this)),keyUpChecker=shortcuts.createShortcutChecker([shortcuts.SHORTCUTS.ACTION],function(shortcut,event){switch(shortcut){case shortcuts.SHORTCUTS.ACTION:this._virtualizedRows&&!this._virtualizedRows.blockingRenderInProgress()&&(this._virtualizedRows.isEditing()?"textarea"!==event.target.tagName.toLowerCase()&&(this._virtualizedRows.applyCurrentEditingColumn(),event.preventDefault()):(this._virtualizedRows.primaryRowAction(event),event.preventDefault()))}}.bind(this));this.element.addEventListener("keydown",keyDownChecker),this.element.addEventListener("keyup",keyUpChecker)},Table.prototype._createElement=function(){var className="mutable";this._inline&&(className+=" inline"),this._tableContainerElement=dom.elem("div",{className:"table-container"}),this._loadingElement=dom.elem("div",{className:"loading-container flex-centered",innerHTML:'<f-icon class="fa-loading icon-xxl"></f-icon>'}),this._loadingElement.addEventListener("transitionstart",this._onLoadingTransitionStart.bind(this)),this._informationMaskContent=dom.elem("div",{className:"information-mask-content"}),this._informationMaskElement=dom.elem("div",{className:"information-mask information-mask-invisible flex-centered"},{children:[this._informationMaskContent]}),this.element=dom.elem("div",{className:className,tabIndex:1}),this._header=new Header(this.element,this._tableContainerElement,Table.DEBUG),this._header.onColumnReorder(this._columnReorder.bind(this)),this._legend=new Legend,this._legend.onRefresh(()=>(this._sourceManager.retrieveNewRows(),this._virtualizedRows.render())),this.element.appendChild(this._header.element),this.element.appendChild(this._tableContainerElement),this.element.appendChild(this._loadingElement),this.element.appendChild(this._informationMaskElement),this.element.appendChild(this._legend.element),this._setupMouseMove(),this._setupMouseUp(),this._setupMouseEnterLeave(),this._setupKeyboardShortcuts()},Table.prototype._attemptRender=function(){this._readyForRender&&this._visible&&!this._renderStarted&&this._virtualizedRows&&(this._virtualizedRows.render(),this._renderStarted=!0)},Table.prototype._monitorVisibility=function(){window.IntersectionObserver?(this._intersectionObserver=new IntersectionObserver(entries=>{this._visible=entries.some(entry=>entry.isIntersecting),this._visible&&this._attemptRender()}),this._intersectionObserver.observe(this.element)):this._visible=!0},Table.prototype._locate=function(arg){var matchFunction;if(this._sourceManager){if(!this._settings.fixedSource)throw new Error("Cannot locate a row within a non-fixed source");if("function"==typeof arg)matchFunction=arg;else{if("object"!=typeof arg)throw new Error("Invalid argument for locate");matchFunction=function(entry){return Object.keys(arg).every(function(key){return entry[key]===arg[key]})}}this._sourceManager.locate(matchFunction)}},module.exports=window.MuTable=Table},function(module,exports,__webpack_require__){"use strict";const util=__webpack_require__(39);class StreamableSource{constructor(){this._count=null}fetchEntries(){throw new Error("Not implemented")}setCount(count){this._count=count}getCount(){return this._count}setNewEntryValue(entry,row,column,newValue){entry[column.id]=newValue}copyEntry(entry){return util.cloneObject(entry)}externallyUpdateEntry(){throw new Error("Not implemented")}processUpdatedEntry(entry){return Promise.resolve(entry)}setNewSequenceGroupingValue(){throw new Error("Not implemented")}externallyReorderEntry(){throw new Error("Not implemented")}onReorderEntry(){}_addFixedEntry(entry){this._fixedEntries.push(entry)}_deleteFixedEntry(entry,index){this._fixedEntries.splice(index,1)}_setFixedEntries(entries){this._fixedEntries=entries}_getFixedEntriesSync(){return this._fixedEntries}}StreamableSource.prototype.FETCH_SIZE=1e3,StreamableSource.prototype.REFRESHABLE=!0,StreamableSource.prototype.AUTO_REFRESH=!1,StreamableSource.prototype.AUTO_REFRESH_OPTIONS=[{label:"Now",period:null},{label:"30 seconds",period:30},{label:"1 minute",period:60},{label:"2 minutes",period:120},{label:"5 minutes",period:300},{label:"10 minutes",period:600}],StreamableSource.prototype._FIXED=!1,module.exports=StreamableSource},function(module,exports,__webpack_require__){"use strict";const StreamableSource=__webpack_require__(375);class FixedStreamableSource extends StreamableSource{}FixedStreamableSource.prototype._FIXED=!0,module.exports=FixedStreamableSource},function(module,exports,__webpack_require__){"use strict";const Value=__webpack_require__(161),tableUtil=__webpack_require__(109),fastLocaleCompare=__webpack_require__(39).fastLocaleCompare,log=__webpack_require__(45),dom=__webpack_require__(40),lang=__webpack_require__(47),util=__webpack_require__(39),EMPTY_SEQUENCE_GROUPING_VALUE="Uncategorized";module.exports=class extends Value{constructor(input,row,column,settings,collectionFallback){super(row,column),this._input=input,this._settings=settings,this._collectionFallback=collectionFallback,this._value=null,this._valueCached=!1}getValue(){if(!this._valueCached){if(!this._isCustomValueFunctionDefined()&&this._isCustomFormatFunctionDefined()){let element=this._getFormattedElement();if(util.objectIsThenable(element))throw new Error(`The cellFormatter for column "${this._column.id}" returns a `+"promise, but no cellValueFunction is defined. In order to use promises within a standard column's cellFormatter, you must also specify a cellValueFunction.");this._value=element.textContent}else this._value=null!=this._input?this._input.toString():"";this._valueCached=!0}return this._value}format(){return this._getFormattedElement()}compareTo(otherValue){return fastLocaleCompare(this.getValue(),otherValue.getValue())}matchedBySearch(searchValue){var result,value=this.getValue();if("function"==typeof this._column.cellSearchFunction)try{if("boolean"==typeof(result=this._column.cellSearchFunction.call(this._row,this._row.entry,searchValue,value)))return result}catch(e){log.error(e)}return value.toLowerCase().indexOf(searchValue)>=0}_getFormattedElement(){const element=dom.elem("div",{className:"standard-value-content"}),setContentParams={allowHTML:this._column.trustCellFormatterForHTML};let result,value,formatted;if(this._settings.customSequenceGrouping&&this._column.id===this._settings.HIDDEN_SEQUENCE_GROUPING_COLUMN)(value=this.getValue())&&!this._row.isImplicitSequenceGrouping()||element.classList.add("empty-sequence-grouping"),value||(value=lang.translate(EMPTY_SEQUENCE_GROUPING_VALUE)),formatted=value;else if(this._isCustomFormatFunctionDefined()){const formatFunction=this._getCustomFormatFunction();this._isCustomValueFunctionDefined()&&(value=this.getValue());try{formatted=formatFunction.call(this._row,this._row.entry,this._column,value)}catch(e){log.error(e)}}else formatted=this.getValue();return util.objectIsThenable(formatted)?result=Promise.resolve(formatted).then(resolvedFormatted=>(tableUtil.setCellElementContent(element,resolvedFormatted,setContentParams),element)):(tableUtil.setCellElementContent(element,formatted,setContentParams),result=element),result}_getCustomValueFunction(){var key=this._collectionFallback?"collectionFallbackValueFunction":"cellValueFunction";return this._column&&this._column[key]}_getCustomFormatFunction(){var key=this._collectionFallback?"collectionFallbackFormatter":"cellFormatter";return this._column&&this._column[key]}_isCustomValueFunctionDefined(){return"function"==typeof this._getCustomValueFunction()}_isCustomFormatFunctionDefined(){return"function"==typeof this._getCustomFormatFunction()}}},function(module,exports,__webpack_require__){"use strict";module.exports=class{constructor(params){if(!params.label||!params.entryValue)throw new Error("Invalid EditableOption");this._label=params.label,this._cellValue=null!=params.cellValue?params.cellValue:params.label,this._entryValue=params.entryValue,this._iconClass=params.iconClass}getLabel(){return this._label}getEntryValue(){return this._entryValue}getCellValue(){return this._cellValue}getIconClass(){return this._iconClass}}},function(module,exports,__webpack_require__){"use strict";const lang=__webpack_require__(47);module.exports=class{constructor(params){this._regex=params.regex,this._negate=params.negate||!1,this._langKey=params.langKey}test(string){this._regex.lastIndex=0;const result=this._regex.test(string);return this._negate?!result:result}getErrorMessage(){if(!this._langKey)throw new Error("No langKey configured. Provide a langKey or override getErrorMessage()");return lang.translate(this._langKey)}}},function(module,exports,__webpack_require__){"use strict";const dom=__webpack_require__(40),resourceBarUtil=__webpack_require__(381),formatters={};var createNumberUnitsFormatter=function(units,base){return function(number,decimalPlaces,noRoundOff){var unit,label,suffix,savedNumber;number=Number(number),decimalPlaces=null==decimalPlaces?2:decimalPlaces,isNaN(number)&&(number=0);for(var n,unitsLength=units.length,i=0;i<unitsLength&&(unit=units[i],savedNumber=number,number>=base&&i!==unitsLength-1);i++)if(number/=base,noRoundOff&&(n=number,parseInt(n,10)!==n)){number=savedNumber;break}return"object"==typeof unit?(label=unit.label,decimalPlaces=unit.decimalPlaces):label=unit,suffix=label?" "+label:"",number.toFixed(decimalPlaces)+suffix}};formatters.number=function(number){return number.toLocaleString()},formatters.metricBytes=createNumberUnitsFormatter([{label:"B",decimal_places:0},"kB","MB","GB","TB","PB"],1e3),formatters.binaryBytes=createNumberUnitsFormatter([{label:"B",decimal_places:0},"KiB","MiB","GiB","TiB","PiB"],1024),formatters.metricBytesPerSecond=createNumberUnitsFormatter([{label:"B/s",decimal_places:0},"kB/s","MB/s","GB/s","TB/s","PB/s"],1e3),formatters.metricBitsPerSecond=createNumberUnitsFormatter([{label:"bps",decimal_places:0},"kbps","Mbps","Gbps","Tbps","Pbps"],1e3),formatters.COMPARE_BAR_COLOR={OCEAN_GREEN:"rgb(74,148,113)",BLUE:"rgb(165,194,254)",GREEN:"rgb(151,207,180)",RED:"rgb(230,166,165)",BRIGHT_RED:"rgb(159,21,20)"};var SIGNAL_COLOR_TYPE_BASE="base",SIGNAL_COLOR_TYPE_MID="mid",SIGNAL_COLOR_TYPE_LIMIT="limit",signalStrengthBarBackgroundOpacity=function(signal_level,type){return type===SIGNAL_COLOR_TYPE_BASE?Math.max(1-2*signal_level,0):type===SIGNAL_COLOR_TYPE_MID?signal_level<.5?2*signal_level:2*(1-signal_level):Math.max((signal_level-.5)/.5,0)};formatters.normalizePercentage=function(percentage,precision=0){let normalizedPercentage;return"string"==typeof percentage&&(percentage=parseFloat(percentage)),isNaN(percentage)?normalizedPercentage="0%":(percentage<0&&(percentage=0),percentage>100&&(percentage=100),normalizedPercentage=(percentage=percentage.toFixed(precision))+"%"),normalizedPercentage},formatters.progressBarElement=function(percentage,params={}){const barElement=dom.elem("div",{className:"progress-bar"}),valueElement=dom.elem("div",{className:"progress-bar-value"}),normalizedPercentage=formatters.normalizePercentage(percentage);if(params.thick?barElement.classList.add("thick"):params.textHeight&&barElement.classList.add("text-height"),valueElement.style.width=normalizedPercentage,barElement.appendChild(valueElement),params.showPercentage){const labelElement=dom.elem("div",{className:"progress-bar-label"},{children:[dom.elem("span",{textContent:normalizedPercentage})]});labelElement.style.width=normalizedPercentage,barElement.appendChild(labelElement)}return barElement},formatters.resourceBarElement=function(percentage,params={}){const barElement=formatters.progressBarElement(percentage,params),normalizedPercentage=formatters.normalizePercentage(percentage),{limitBlend:limitBlend,midBlend:midBlend}=resourceBarUtil.getBlendPoints(percentage);barElement.classList.add("resource-bar");const baseElement=dom.elem("div",{className:"resource-bar-base"}),midElement=dom.elem("div",{className:"resource-bar-mid"}),limitElement=dom.elem("div",{className:"resource-bar-limit"});return baseElement.style.width=normalizedPercentage,midElement.style.width=normalizedPercentage,midElement.style.opacity=midBlend,limitElement.style.width=normalizedPercentage,limitElement.style.opacity=limitBlend,barElement.insertBefore(limitElement,barElement.firstChild),barElement.insertBefore(midElement,barElement.firstChild),barElement.insertBefore(baseElement,barElement.firstChild),barElement},formatters.signalStrengthBar=function(){var bar=formatters.signalStrengthBarElement.apply(null,arguments);return bar&&dom.elem("div",null,{children:[bar]}).innerHTML||""},formatters.signalStrengthBarElement=function(signalStrength,size,title,reverse){if(null==signalStrength)return null;var extraClasses=[];size&&extraClasses.push(size),reverse&&extraClasses.push("reverse");var signal,level=(signal=signalStrength)>=-31?1:signal>=-40?.9:signal>=-46?.8:signal>=-52?.7:signal>=-61?.6:signal>=-70?.5:signal>=-76?.4:signal>=-82?.3:signal>=-88?.2:.1,backgroundWidth=(100*level).toString()+"%",backgroundStyles={base:{opacity:signalStrengthBarBackgroundOpacity(level,SIGNAL_COLOR_TYPE_BASE),width:backgroundWidth},mid:{opacity:signalStrengthBarBackgroundOpacity(level,SIGNAL_COLOR_TYPE_MID),width:backgroundWidth},limit:{opacity:signalStrengthBarBackgroundOpacity(level,SIGNAL_COLOR_TYPE_LIMIT),width:backgroundWidth}};title=!1!==title&&(title||signalStrength+" dBm");for(var scales=[],i=0;i<10;i++)scales.push(dom.elem("div",{className:"signal-strength-bar-scale"}));var barBackground=[dom.elem("div",{className:"signal-strength-bar-base",style:{width:backgroundStyles.base.width,opacity:backgroundStyles.base.opacity}}),dom.elem("div",{className:"signal-strength-bar-mid",style:{width:backgroundStyles.mid.width,opacity:backgroundStyles.mid.opacity}}),dom.elem("div",{className:"signal-strength-bar-limit",style:{width:backgroundStyles.limit.width,opacity:backgroundStyles.limit.opacity}})];const divProperties={className:["signal-strength-bar"].concat(extraClasses).join(" ")};return!1!==title&&(divProperties.title=title),dom.elem("div",divProperties,{children:[dom.elem("div",{className:"signal-strength-bar-background"},{children:barBackground}),dom.elem("div",{className:"signal-strength-bar-scales"},{children:scales})]})},module.exports=formatters},function(module,exports,__webpack_require__){"use strict";function curvedBlend(input,exponent){exponent=exponent||6;var output=Math.pow(input,exponent);return Math.min(1,Math.max(0,output))}module.exports.getBlendPoints=function(percentage){const result={},curveMid=1-curvedBlend(.5,4),unitValue=percentage/100,midDistance=curveMid-unitValue;return unitValue>curveMid?(result.limitBlend=Math.abs(midDistance)/(1-curveMid),result.midBlend=1):(result.midBlend=curvedBlend(1-midDistance),result.limitBlend=0),result}},function(module,exports,__webpack_require__){"use strict";const Column=__webpack_require__(383),Filter=__webpack_require__(164),CommonFilter=__webpack_require__(384),NumberFilter=__webpack_require__(385),DateFilter=__webpack_require__(386),IpFilter=__webpack_require__(214),internalColumns=__webpack_require__(592),browser=__webpack_require__(74),log=__webpack_require__(45),LOCAL_STORAGE_ITEM={ACTIVE_COLUMNS:"activeColumns",SECTION_COLUMN:"sectionColumn",SORT_COLUMN:"sortColumn",SORT_DIRECTION:"sortDirection",EXPANDED_SECTIONS:"expandedSections",COLUMN_FILTERS:"columnFilters"};function Settings(params,inline,Table){if(!params.columns)throw new Error("No columns provided.");if(this._Table=Table,this._ngScope=null,this._ngInjector=null,this.id=Table.ID_PROCESSOR(params.id||window.location.pathname),this.inline=inline,this.mobileLayout="boolean"==typeof params.mobileLayout?params.mobileLayout:browser.responsive.isSmall(),this.fixedSource=!0,this.rowHeight=params.rowHeight||Table.DEFAULT_ROW_HEIGHT,this.cellPadding=params.cellPadding||Table.DEFAULT_CELL_PADDING,this.rowHeightFunction=params.rowHeightFunction,this.collectionLimit=null==params.collectionLimit?5:params.collectionLimit,this.defaultCollectionEntryOnRender=Table.DEFAULT_COLLECTION_ENTRY_ON_RENDER,this.showCompareBars="boolean"!=typeof params.showCompareBars||params.showCompareBars,this.customSequenceGrouping="boolean"==typeof params.customSequenceGrouping&&params.customSequenceGrouping,this.mobileLayout||browser.isMobile()?this.reordering=!1:this.reordering="boolean"==typeof params.reordering&&params.reordering,this.reorderingExternalUpdate=params.reorderingExternalUpdate,this.canReorderFunction=params.canReorderFunction,this.SORT_DIRECTION=Table.SORT_DIRECTION,this.customSequenceGrouping||this.reordering?this.sorting=!1:this.sorting="boolean"!=typeof params.sorting||params.sorting,this.defaultSortColumn=params.defaultSortColumn,this.defaultSortDirection=params.defaultSortDirection||Table.DEFAULT_SORT_DIRECTION,this.filtering="boolean"!=typeof params.filtering||params.filtering,this.rowSelection="boolean"!=typeof params.rowSelection||params.rowSelection,this.selectFirstRow="boolean"==typeof params.selectFirstRow&&params.selectFirstRow,this.initiallySelectedRowsFunction=params.initiallySelectedRowsFunction,this.informationMask=params.informationMask,this.editable="boolean"==typeof params.editable&&params.editable,this.editableValidatePatterns=Object.assign({},Table.EDITABLE_VALIDATE_PATTERNS,params.editableValidatePatterns),this.editingNeedsExternalUpdate="boolean"==typeof params.editingNeedsExternalUpdate&&params.editingNeedsExternalUpdate,!0===params.reorderingNeedsExternalUpdate&&(log.warn('Using deprecated option "reorderingNeedsExternalUpdate". Use "editingNeedsExternalUpdate" instead'),this.editingNeedsExternalUpdate=!0),this.mobileLayout?(this.persistSelectedColumns=!1,this.persistExpandedSections=!1):(this.persistSelectedColumns="boolean"!=typeof params.persistSelectedColumns||params.persistSelectedColumns,this.persistExpandedSections="boolean"!=typeof params.persistExpandedSections||params.persistExpandedSections),this.persistSortingColumn="boolean"!=typeof params.persistSortingColumn||params.persistSortingColumn,this.persistColumnFilters="boolean"!=typeof params.persistColumnFilters||params.persistColumnFilters,"boolean"==typeof params.expandSections||params.expandSections instanceof Set?this.expandSections=params.expandSections:this.expandSections=!0,this.customSequenceGrouping?this.sections=!1:this.sections="boolean"!=typeof params.sections||params.sections,this.reordering?this.userDefinedSections=!1:this.userDefinedSections="boolean"!=typeof params.userDefinedSections||params.userDefinedSections,this.defaultSectionColumn=params.defaultSectionColumn,this.sortSections="boolean"!=typeof params.sortSections||params.sortSections,this.sectionSortDirection=params.sectionSortDirection||Table.DEFAULT_SORT_DIRECTION,this.sectionContextMenuItems=params.sectionContextMenuItems,this.PARENT_CHILD_MATCH_MODE=Table.PARENT_CHILD_MATCH_MODE,this.parentChildRows="boolean"==typeof params.parentChildRows&&params.parentChildRows,this.rowHierarchyIDFunction=params.rowHierarchyIDFunction,this.parentRowHierarchyIDFunction=params.parentRowHierarchyIDFunction,this.parentChildMatchMode=params.parentChildMatchMode||Table.PARENT_CHILD_MATCH_MODE.BOTH,this.childOnlyShouldMatchFunction=params.childOnlyShouldMatchFunction,this.includeStandaloneParentRowFunction=params.includeStandaloneParentRowFunction,this.standaloneRowIDFunction=params.standaloneRowIDFunction,this.onRowRendered=params.onRowRendered,this.onChunkAdded=params.onChunkAdded,this.processEntryForSection=params.processEntryForSection,this._sourceFilterFunction=params.sourceFilterFunction,this._tooltips=[],this.columnsMap={},this.columns=params.columns.map(this._createColumn.bind(this)),this.parentChildRows&&this.columns.push(this._createColumn(internalColumns.HIERARCHY_COLUMN_CONFIG)),this.customSequenceGrouping){const columnConfig=internalColumns.createSequenceGroupingColumnConfig(params,Table);this.columns.push(this._createColumn(columnConfig))}this.mobileLayout&&params.mobileColumns?this.defaultColumnIDs=params.mobileColumns:(this.defaultColumnIDs=params.defaultColumns,this._mobileColumnLimit=2),this.allowColumnSelection="boolean"!=typeof params.allowColumnSelection||params.allowColumnSelection,this.activeColumns=null,this.sectionColumn=null,this._expandedSections=null,this._columnFilters=null,this._visibleColumnsSet=null,this._statisticColumns=null,this._initialiazedTime=null,this._greatVisibleChildDepth=null}Settings.prototype.HIDDEN_SEQUENCE_GROUPING_COLUMN=internalColumns.SEQUENCE_GROUPING_COLUMN_ID,Settings.prototype.initialize=function(){this._initialiazedTime||(this._initialiazedTime=new Date,this._initializeColumns(!0),this._initializeSectionColumn(!0),this._initializeSortingColumn(!0),this._initializeExpandedSections(!0),this._initializeColumnFilters(!0))},Settings.prototype.resetState=function(){Object.keys(LOCAL_STORAGE_ITEM).forEach(function(key){var item=LOCAL_STORAGE_ITEM[key];this._removeFromLocalStorage(item)}.bind(this)),this._initializeColumns(),this._initializeSectionColumn(),this._initializeSortingColumn(),this._initializeExpandedSections(),this._initializeColumnFilters()},Settings.prototype.setAndPersistActiveColumns=function(activeColumnIDs){this._setActiveColumns(activeColumnIDs),this.persistCurrentColumns()},Settings.prototype.addColumnAndPersist=function(columnID,addIndex){this._addColumn(columnID,addIndex),this.persistCurrentColumns()},Settings.prototype.prepareHeaderCellsForMeasure=function(){this.activeColumns.forEach(function(column){column.prepareHeaderCellForMeasure()})},Settings.prototype.measureAndSetHeaderCellWidths=function(){this.activeColumns.forEach(function(column){column.measureHeaderCellAndSetWidth()})},Settings.prototype.prepareHeaderCellsForMinimumMeasure=function(){this.activeColumns.forEach(function(column){column.prepareHeaderCellForMinimumMeasure()})},Settings.prototype.measureAndSetMinimumHeaderCellWidths=function(){this.activeColumns.forEach(function(column){column.measureHeaderCellMinimumAndSet()})},Settings.prototype.removeHeaderCellsMinimumMeasureClass=function(){this.activeColumns.forEach(function(column){column.removeHeaderCellMinimumMeasureClass()})},Settings.prototype.setColumnWidths=function(columnWidths){this.activeColumns.forEach(function(column,i){column.setWidth(columnWidths[i])}),this.updateColumnHeaderCellPositions()},Settings.prototype.updateColumnHeaderCellPositions=function(){var columnsInOrder=this.getActiveColumnsInOrder(),offset=0;columnsInOrder.forEach(function(column,index){var width=column.getWidth();column.setLeftOffset(offset),column.setFirstVisible(0===index),column.setLastVisible(index===columnsInOrder.length-1),column.updateHeaderCellPosition(),offset+=width})},Settings.prototype.getColumnWidths=function(){return this.activeColumns.map(function(column){return column.getWidth()})},Settings.prototype.getTotalColumnWidthSum=function(){return this.activeColumns.reduce(function(total,column){return total+column.getWidth()},0)},Settings.prototype.getActiveColumnsInOrder=function(){return this.activeColumns.slice().sort(function(a,b){return a.currentIndex-b.currentIndex})},Settings.prototype.setAndPersistSectionColumn=function(column){this._setSectionColumn(column),this.persistSelectedColumns&&this._setInLocalStorage(LOCAL_STORAGE_ITEM.SECTION_COLUMN,column.id),this.persistExpandedSections&&this._removeFromLocalStorage(LOCAL_STORAGE_ITEM.EXPANDED_SECTIONS),this._initializeExpandedSections()},Settings.prototype.removeSectionColumnAndPersist=function(){this._removeSectionColumn(),this.persistSelectedColumns&&this._setInLocalStorage(LOCAL_STORAGE_ITEM.SECTION_COLUMN,""),this.persistExpandedSections&&this._removeFromLocalStorage(LOCAL_STORAGE_ITEM.EXPANDED_SECTIONS),this._initializeExpandedSections()},Settings.prototype.expandSectionAndPersist=function(sectionValue,expand){this._expandedSections.set(sectionValue,expand),this.persistExpandedSections&&this._setInLocalStorage(LOCAL_STORAGE_ITEM.EXPANDED_SECTIONS,Array.from(this._expandedSections.entries()))},Settings.prototype.isSectionExpanded=function(sectionValue){const explicitSetting=this._expandedSections.get(sectionValue);let expanded;return"boolean"==typeof explicitSetting?expanded=explicitSetting:"boolean"==typeof this.expandSections?expanded=this.expandSections:this.expandSections instanceof Set&&(expanded=this.expandSections.has(sectionValue)),expanded},Settings.prototype.setColumnFilterAndPersist=function(column,filter){if("string"==typeof filter)this._setColumnFilterFromSerialized(column,filter);else{if(!(filter instanceof Filter||null==filter))throw new Error("Invalid filter type provided");this._setColumnFilter(column,filter)}this._persistCurrentColumnFilters()},Settings.prototype.removeAllColumnFiltersAndPersist=function(){this.activeColumns.forEach(column=>column.setFilter(null)),this.sectionColumn&&this.sectionColumn.setFilter(null),this._columnFilters=Object.create(null),this.persistColumnFilters&&this._removeFromLocalStorage(LOCAL_STORAGE_ITEM.COLUMN_FILTERS)},Settings.prototype.sortByColumnAndPersist=function(sortColumn,sortDirection){var changedSuccesfully=this._sortByColumn(sortColumn,sortDirection);return changedSuccesfully&&this.persistSortingColumn&&(this._setInLocalStorage(LOCAL_STORAGE_ITEM.SORT_COLUMN,sortColumn.id),this._setInLocalStorage(LOCAL_STORAGE_ITEM.SORT_DIRECTION,sortColumn.getSortDirection())),changedSuccesfully},Settings.prototype.persistCurrentColumns=function(){this.persistSelectedColumns&&this._setInLocalStorage(LOCAL_STORAGE_ITEM.ACTIVE_COLUMNS,this.getActiveColumnsInOrder().filter(col=>!col.fixed).map(col=>col.id))},Settings.prototype.ngEnhance=function(scope,injector){this._ngScope=scope,this._ngInjector=injector},Settings.prototype.ngInject=function(fn){this._ngScope&&this._ngInjector&&this._ngInjector.invoke(fn,null,{$scope:this._ngScope})},Settings.prototype.registerTooltip=function(tooltip){this._tooltips.push(tooltip)},Settings.prototype.getInitializedTime=function(){return this._initialiazedTime},Settings.prototype.getHiddenSequenceGroupingColumn=function(){return this.columnsMap[this.HIDDEN_SEQUENCE_GROUPING_COLUMN]},Settings.prototype.getVisibleColumnsSet=function(){return this._visibleColumnsSet},Settings.prototype.setVisibleColumnsSet=function(visibleColumns){this._visibleColumnsSet=visibleColumns},Settings.prototype.resetVisibleColumns=function(){this._visibleColumnsSet=new Set(this.activeColumns)},Settings.prototype.toggleColumnStatisticCollection=function(columnIDs){const SUPPORTED_COLUMN_TYPES=new Set([Column.prototype.TYPE.STANDARD,Column.prototype.TYPE.COLLECTION,Column.prototype.TYPE.OMNISELECT]);let statColumns=[];Array.isArray(columnIDs)&&(statColumns=columnIDs.map(columnID=>this.columnsMap[columnID]).filter(column=>column&&SUPPORTED_COLUMN_TYPES.has(column.type))),this._statisticColumns=statColumns},Settings.prototype.getStatisticCollectedColumns=function(){return this.fixedSource?this._statisticColumns:[]},Settings.prototype.getGreatestVisibleChildDepth=function(){return this._greatVisibleChildDepth},Settings.prototype.setGreatestVisibleChildDepth=function(depth){this._greatVisibleChildDepth=depth},Settings.prototype.destroy=function(){this._tooltips.forEach(function(tooltip){tooltip.destroy()}),this._tooltips.length=0,this._ngScope=null,this._ngInjector=null},Settings.prototype._createLocalStorageKey=function(itemID){return["muTable",this.id,itemID].join("#")},Settings.prototype._getFromLocalStorage=function(itemID){let result,key=this._createLocalStorageKey(itemID);try{result=JSON.parse(localStorage.getItem(key))}catch(e){log.error(`Local storage key "${key}" has invalid content`)}return result},Settings.prototype._setInLocalStorage=function(itemID,item){var key=this._createLocalStorageKey(itemID);localStorage.setItem(key,JSON.stringify(item))},Settings.prototype._removeFromLocalStorage=function(itemID){var key=this._createLocalStorageKey(itemID);localStorage.removeItem(key)},Settings.prototype._persistCurrentSectionColumn=function(){this._setInLocalStorage(LOCAL_STORAGE_ITEM.ACTIVE_COLUMNS,this.getActiveColumnsInOrder().map(function(column){return column.id}))},Settings.prototype._persistCurrentColumnFilters=function(){if(this.persistColumnFilters){let serialized=Object.keys(this._columnFilters).reduce((filters,columnID)=>(filters[columnID]=this._columnFilters[columnID].serialize(),filters),Object.create(null));this._setInLocalStorage(LOCAL_STORAGE_ITEM.COLUMN_FILTERS,serialized)}},Settings.prototype._setActiveColumns=function(activeColumnIDs,resetColumns){let filtersUpdated=!1;this.activeColumns=this.columns.filter(column=>{let activeIndex=activeColumnIDs.indexOf(column.id),active=activeIndex>=0;return active||column.isSection()||(column.currentIndex=null,column.isSorted()&&(this._removeFromLocalStorage(LOCAL_STORAGE_ITEM.SORT_COLUMN),this._removeFromLocalStorage(LOCAL_STORAGE_ITEM.SORT_DIRECTION)),column.isFiltered()&&(this._setColumnFilter(column,null),filtersUpdated=!0),column.reset()),active&&(resetColumns&&column.reset(),column.currentIndex=activeIndex,column.setFirstVisible(0===activeIndex),column.setLastVisible(activeIndex===activeColumnIDs.length-1)),active}),this.resetVisibleColumns(),filtersUpdated&&this._persistCurrentColumnFilters()},Settings.prototype._initializeColumns=function(useLocalStorage){const getValidIDs=(columnIDs,allowFixed)=>{let result=[];return Array.isArray(columnIDs)&&(result=Array.from(new Set(columnIDs)).filter(id=>{const column=this.columnsMap[id];return column&&!column.hidden&&(allowFixed||!column.fixed)})),result},forcedFilterColumns=this.columns.filter(column=>column.forcedFilter&&!column.hidden);let defaultIds=getValidIDs(this.defaultColumnIDs,!0);defaultIds.length||(defaultIds=getValidIDs(this.columns.map(column=>column.id),!0));let ids,fixedDefaultIds=[],nonFixedDefaultIds=[];for(const id of defaultIds){this.columnsMap[id].fixed?fixedDefaultIds.push(id):nonFixedDefaultIds.push(id)}this.parentChildRows&&fixedDefaultIds.unshift(internalColumns.HIERARCHY_COLUMN_CONFIG.id),useLocalStorage&&this.persistSelectedColumns&&(ids=getValidIDs(this._getFromLocalStorage(LOCAL_STORAGE_ITEM.ACTIVE_COLUMNS))),ids&&ids.length||(ids=nonFixedDefaultIds),ids=fixedDefaultIds.concat(ids),this.mobileLayout&&this._mobileColumnLimit&&(ids=ids.slice(0,this._mobileColumnLimit)),forcedFilterColumns.length&&forcedFilterColumns.forEach(column=>{ids.includes(column.id)||ids.push(column.id)}),this._setActiveColumns(ids,!0)},Settings.prototype._addColumn=function(columnID,addIndex){addIndex=Math.min(addIndex,this.activeColumns.length);var toAddColumn=this.columnsMap[columnID];this.activeColumns.forEach(function(column){column.currentIndex>=addIndex&&column.currentIndex++}),this.activeColumns.push(toAddColumn),toAddColumn.currentIndex=addIndex},Settings.prototype._removeColumn=function(columnID){var toRemoveColumn=this.columnsMap[columnID],removeIndex=toRemoveColumn.currentIndex;this.activeColumns.splice(this.activeColumns.indexOf(toRemoveColumn),1),this.activeColumns.forEach(function(column){column.currentIndex>removeIndex&&column.currentIndex--}),toRemoveColumn.currentIndex=null},Settings.prototype._removeSectionColumn=function(){this.sectionColumn&&(this.sectionColumn.setSection(!1),this._addColumn(this.sectionColumn.id,this.activeColumns.length),this.sectionColumn=null)},Settings.prototype._setSectionColumn=function(column){this._removeSectionColumn(),null!=column.currentIndex&&this._removeColumn(column.id),column.isFiltered()&&this.setColumnFilterAndPersist(column,null),this.sectionColumn=column,column.setSection(!0),this._expandedSections=new Map},Settings.prototype._initializeSectionColumn=function(useLocalStorage){var column,sectionColumnID;this.sectionColumn=null,this.sections&&this.fixedSource&&(useLocalStorage&&this.persistSelectedColumns&&(sectionColumnID=this._getFromLocalStorage(LOCAL_STORAGE_ITEM.SECTION_COLUMN)),"string"!=typeof sectionColumnID&&(sectionColumnID=this.defaultSectionColumn),sectionColumnID&&(column=this.columnsMap[sectionColumnID]))&&this._setSectionColumn(column)},Settings.prototype._sortByColumn=function(sortColumn,sortDirection,updateCellStyle){var changedSuccesfully=sortColumn.sort(!0,sortDirection,updateCellStyle);return changedSuccesfully&&this.activeColumns.forEach(function(column){column.isSorted()&&column!==sortColumn&&column.sort(!1,null,updateCellStyle)}),changedSuccesfully},Settings.prototype._initializeSortingColumn=function(useLocalStorage){const VALID_SORT_DIRECTIONS=[this.SORT_DIRECTION.ASCENDING,this.SORT_DIRECTION.DESCENDING];let columnID,sortColumnIDs,sortDirection;this.sorting&&(useLocalStorage&&this.persistSortingColumn&&(columnID=this._getFromLocalStorage(LOCAL_STORAGE_ITEM.SORT_COLUMN))&&(sortColumnIDs=[columnID],sortDirection=this._getFromLocalStorage(LOCAL_STORAGE_ITEM.SORT_DIRECTION),VALID_SORT_DIRECTIONS.indexOf(sortDirection)<0&&(sortDirection=null)),sortColumnIDs||(Array.isArray(this.defaultSortColumn)?sortColumnIDs=this.defaultSortColumn:"string"==typeof this.defaultSortColumn&&(sortColumnIDs=[this.defaultSortColumn])),sortColumnIDs&&sortColumnIDs.some(id=>{let column=this.columnsMap[id];if(column&&column.isSortingEnabled()&&null!=column.currentIndex)return this._sortByColumn(column,sortDirection,!1),!0}))},Settings.prototype._initializeExpandedSections=function(useLocalStorage){var list,expandedSections=new Map;if((this.sections||this.customSequenceGrouping)&&useLocalStorage&&this.persistExpandedSections&&(list=this._getFromLocalStorage(LOCAL_STORAGE_ITEM.EXPANDED_SECTIONS),Array.isArray(list)))for(const entry of list)if(Array.isArray(entry)){const[columnID,expanded]=entry;"string"==typeof columnID&&"boolean"==typeof expanded&&expandedSections.set(columnID,expanded)}this._expandedSections=expandedSections},Settings.prototype._setColumnFilter=function(column,filter,options={}){column.setFilter(filter),filter&&!options.dontRemember?this._columnFilters[column.id]=filter:delete this._columnFilters[column.id]},Settings.prototype._setColumnFilterFromSerialized=function(column,serialized,options){let FilterClass;switch(column.type){case column.TYPE.STANDARD:case column.TYPE.COLLECTION:case column.TYPE.OMNISELECT:FilterClass=CommonFilter;break;case column.TYPE.NUMBER:FilterClass=NumberFilter;break;case column.TYPE.DATE:FilterClass=DateFilter;break;case column.TYPE.IP_COLLECTION:FilterClass=IpFilter}let filter=new FilterClass(serialized,column,this);if(filter.isEmpty())throw new Error(`Empty serialized filter value for column "${column.id}"`);this._setColumnFilter(column,filter,options)},Settings.prototype._initializeColumnFilters=function(useLocalStorage){if(this._columnFilters=Object.create(null),this.fixedSource&&this.filtering&&useLocalStorage){let columnFilters=this._getFromLocalStorage(LOCAL_STORAGE_ITEM.COLUMN_FILTERS);columnFilters&&"object"==typeof columnFilters&&Object.entries(columnFilters).forEach(([columnID,serialized])=>{let column=this.columnsMap[columnID];if(column&&column.filtering&&!column.forcedFilter&&(null!=column.currentIndex||column===this.sectionColumn))try{this._setColumnFilterFromSerialized(column,serialized)}catch(e){log.error(`Failed to create filter for column "${column.id}" from `+`the local storage serialized value of "${serialized}"`)}})}this.activeColumns.forEach(column=>{if(column.forcedFilter)try{this._setColumnFilterFromSerialized(column,column.forcedFilter,{dontRemember:!0})}catch(e){log.error(`Failed to create filter for column "${column.id}" from the `+`forceFilter serialized value of "${column.forcedFilter}"`)}})},Settings.prototype._createColumn=function(columnEntry){var columnConfig,columnID,column;if("object"==typeof columnEntry)columnConfig=columnEntry,columnID=columnEntry.id;else{if(columnID=columnEntry,!this._Table.STANDARD_COLUMNS[columnID])throw new Error('Undefined standard column "'+columnID+'".');columnConfig=Object.assign({id:columnID},this._Table.STANDARD_COLUMNS[columnID])}return column=new Column(columnConfig,this),this.columnsMap[columnID]=column,column},module.exports=Settings},function(module,exports,__webpack_require__){"use strict";const StandardValue=__webpack_require__(377),NumberValue=__webpack_require__(163),DateValue=__webpack_require__(589),CollectionValue=__webpack_require__(162),OmniselectValue=__webpack_require__(590),IpCollectionValue=__webpack_require__(591),lang=__webpack_require__(47),dom=__webpack_require__(40),log=__webpack_require__(45),util=__webpack_require__(39),Tooltip=__webpack_require__(59);function Column(params,settings){if(!params.id)throw new Error("Column ID not provided");if(this.id=params.id,this.internal=params.internal,this.langKey=params.langKey||params.id,this.skipTranslation="boolean"==typeof params.skipTranslation&&params.skipTranslation,this.searching="boolean"!=typeof params.searching||params.searching,this.menuLangKey=params.menuLangKey||this.langKey,this.headerLangKey=null===params.langKey?params.langKey:params.langKey||params.title||params.id,this.icon=params.icon,this.title=params.title,this.type=params.type||this.TYPE.STANDARD,this.hidden="boolean"==typeof params.hidden&&params.hidden,this.fixed="boolean"==typeof params.fixed&&params.fixed,this.currentIndex=null,this._settings=settings,this.cellFormatter=params.cellFormatter,this.cellValueFunction=params.cellValueFunction,this.onCellRendered=params.onCellRendered,this.onSectionExtraRendered=params.onSectionExtraRendered,this.editable=params.editable,this.editableTreatAsStandard=params.editableTreatAsStandard,this.editableType=params.editableType||this.STANDARD_EDITABLE_TYPE.TEXT,this.editableOptions=params.editableOptions,this.editableValueFunction=params.editableValueFunction,this.editableOmniselectSettings=params.editableOmniselectSettings,this.editableRequired="boolean"==typeof params.editableRequired&&params.editableRequired,this.editableValidatePatterns=params.editableValidatePatterns||[],this.editableValidateFunction=params.editableValidateFunction,this.omniselectDisableTooltips=params.omniselectDisableTooltips,this.dateType=params.dateType||this.DATE_TYPE.DATE_TIME,this.numberType=params.numberType||NumberValue.NUMBER_TYPE.SIMPLE,this.numberUnit=params.numberUnit,params.numberCompareBar?"string"==typeof params.numberCompareBar?(this.numberCompareBar=params.numberCompareBar,this.numberCompareBar===NumberValue.NUMBER_COMPARE_BAR_TYPE.CUSTOM&&(this.compareBarColors=params.compareBarColors)):this.numberCompareBar=NumberValue.NUMBER_COMPARE_BAR_TYPE.SINGULAR_NEUTRAL:this.numberCompareBar=!1,this.getCompareBarMax=params.getCompareBarMax,this.collectionEntryValueFunction=params.collectionEntryValueFunction,this.collectionEntryFormatter=params.collectionEntryFormatter,this.collectionEntryOnRender=params.collectionEntryOnRender,this.cellIsValidCollectionFunction=params.cellIsValidCollectionFunction,this.collectionFallbackValueFunction=params.collectionFallbackValueFunction,this.collectionFallbackFormatter=params.collectionFallbackFormatter,this.collectionEntryMatchesSearch=params.collectionEntryMatchesSearch,this.collectionEntryHeight=params.collectionEntryHeight,this.omniselectAllowFallback=params.omniselectAllowFallback,this.trustCellFormatterForHTML=params.trustCellFormatterForHTML,this.cellHeightFunction=params.cellHeightFunction,"boolean"==typeof params.sorting?(this.sorting=params.sorting,this.sortingNonFixed=params.sorting):(this.sorting=!0,this.sortingNonFixed=!1),this.ascendingSortSupported="boolean"!=typeof params.ascendingSortSupported||params.ascendingSortSupported,this.descendingSortSupported="boolean"!=typeof params.descendingSortSupported||params.descendingSortSupported,this.sortComparator=params.sortComparator,this.filtering="boolean"!=typeof params.filtering||params.filtering,this.cellSearchFunction=params.cellSearchFunction,this.cellFilterFunction=params.cellFilterFunction,this.forcedFilter=params.forcedFilter,this.parentChildMatchMode=params.parentChildMatchMode,this.childOnlyShouldMatchFunction=params.childOnlyShouldMatchFunction,this.fullWidthCellContent="boolean"==typeof params.fullWidthCellContent&&params.fullWidthCellContent,this.wrappable=!1,this.cellWidth=params.cellWidth,!0===params.wrappable&&this.type===this.TYPE.STANDARD&&(this.wrappable=!0,!Number.isInteger(this.cellWidth)))throw new Error('"cellWidth" must be specified for wrappable columns');this._sortDirection=null,this._filter=null,this._section=!1,this._maxNumberValue=0,this._firstVisible=null,this._lastVisible=null,this._statisticsMap=null,this._orderedStatistics=null,this._statisticsTotalCount=0,this._statisticsProcessed=!1,this._valueFunctionReturnedPromise=!1,this._onCellRenderedNoDestroyables=!1,this.reset()}Column.prototype.TYPE={STANDARD:"standard",NUMBER:"number",DATE:"date",COLLECTION:"collection",OMNISELECT:"omniselect",IP_COLLECTION:"ip-collection"},Column.prototype.DATE_TYPE={DATE_TIME:"dateTime",TIME:"time",FROM_NOW:"fromNow"},Column.prototype.STANDARD_EDITABLE_TYPE={TEXT:"text",TEXT_AREA:"textArea",SELECTION:"selection"},Column.prototype.STANDARD_TEXT_BASED_EDITABLE_TYPES=new Set([Column.prototype.STANDARD_EDITABLE_TYPE.TEXT,Column.prototype.STANDARD_EDITABLE_TYPE.TEXT_AREA]),Column.prototype.COLLECTION_TYPES=new Set([Column.prototype.TYPE.COLLECTION,Column.prototype.TYPE.OMNISELECT,Column.prototype.TYPE.IP_COLLECTION]),Column.prototype.reset=function(){this._renderedHeaderCell=null,this._renderedResizer=null,this._renderedSettingsButton=null,this._reorderPlaceholder=null,this._width=null,this._minWidth=null,this._leftOffset=null,this._firstVisible=null,this._lastVisible=null,this.resetValueStatistics(),this.setSection(!1),this.sort(!1),this.setFilter(null)},Column.prototype.renderCellContent=function(row){const value=row.getCellValue(this);let formatted;return formatted=util.objectIsThenable(value)?value.then(resolvedValue=>resolvedValue.formatForTable()):value.formatForTable()},Column.prototype.renderCellSectionContent=function(row){const value=row.getCellValue(this);let formatted;return formatted=util.objectIsThenable(value)?value.then(resolvedValue=>resolvedValue.formatForSection()):value.formatForSection()},Column.prototype.renderCellEditingContent=function(row){const value=row.getCellValue(this);let formatted;return formatted=util.objectIsThenable(value)?value.then(resolvedValue=>resolvedValue.formatForEditing()):value.formatForEditing()},Column.prototype.getCellValue=function(row){let collectionFallback=row.isCollectionFallback(this),type=collectionFallback?this.TYPE.STANDARD:this.type;const processValueInput=function(input){let value,resolveResult;switch(type){case this.TYPE.STANDARD:value=new StandardValue(input,row,this,this._settings,collectionFallback);break;case this.TYPE.NUMBER:value=new NumberValue(input,row,this,this._settings);break;case this.TYPE.DATE:value=new DateValue(input,row,this,this._settings);break;case this.TYPE.COLLECTION:value=new CollectionValue(input,row,this,this._settings);break;case this.TYPE.OMNISELECT:value=new OmniselectValue(input,row,this,this._settings);break;case this.TYPE.IP_COLLECTION:value=new IpCollectionValue(input,row,this,this._settings)}return resolveResult=value.resolve(),util.objectIsThenable(resolveResult)?resolveResult.then(()=>value):value}.bind(this);let valueInput,valueFunction=collectionFallback?this.collectionFallbackValueFunction:this.cellValueFunction;if("function"==typeof valueFunction)try{valueInput=valueFunction.call(row,row.entry,this)}catch(e){log.error(e)}else valueInput=row.entry[this.id];return util.objectIsThenable(valueInput)?(this._valueFunctionReturnedPromise=!0,Promise.resolve(valueInput).then(processValueInput)):processValueInput(valueInput)},Column.prototype.isSortingEnabled=function(){return this._settings.fixedSource?this.sorting:this.sortingNonFixed},Column.prototype.renderHeaderCellResizer=function(){return this._renderedResizer||(this._renderedResizer=dom.elem("div",{className:"header-cell-resizer"})),this._renderedResizer},Column.prototype.renderHeaderCellSettingsButton=function(){var tooltip,tooltipLang,icon;return this._renderedSettingsButton||(this._settings.fixedSource&&this._settings.filtering&&this.filtering?(icon="fa-filter",tooltipLang="Filter/Configure Column"):(icon="fa-ellipsis-v",tooltipLang="Configure Column"),this._renderedSettingsButton=dom.elem("button",{type:"button",className:"bare column-settings"},{children:[dom.elem("f-icon",{className:icon})]}),(tooltip=new Tooltip).setContent(lang.translate(tooltipLang)),tooltip.showOnElementHover(this._renderedSettingsButton),this._settings.registerTooltip(tooltip)),this._renderedSettingsButton},Column.prototype.renderHeaderCell=function(){var className,contents,labelChildren,icons,baseSortIcon,ascSortIcon,descSortIcon,textSpan,sorted=!1;if(!this._renderedHeaderCell){className="header-cell",textSpan=dom.elem("span",{textContent:this.skipTranslation?this.headerLangKey:lang.translate(this.headerLangKey),className:this.icon?"":"header-cell-label"}),labelChildren=this.icon?[dom.elem("span",{className:"header-cell-label"},{children:[dom.elem("f-icon",{className:this.icon})].concat(this.headerLangKey?[textSpan]:[])})]:[textSpan],this._settings.sorting&&this.isSortingEnabled()&&(sorted=this.isSorted(),baseSortIcon=dom.elem("f-icon",{className:"base-sort-icon"}),ascSortIcon=dom.elem("f-icon",{className:"fa-sort-asc asc-sort-icon"}),descSortIcon=dom.elem("f-icon",{className:"fa-sort-desc desc-sort-icon"}),icons=[baseSortIcon],this.ascendingSortSupported&&this.descendingSortSupported?(baseSortIcon.classList.add("fa-sort"),this._settings.defaultSortDirection===this._settings.SORT_DIRECTION.ASCENDING?ascSortIcon.classList.add("default-sort-direction"):descSortIcon.classList.add("default-sort-direction"),className+=" can-sort-asc can-sort-desc",icons.push(ascSortIcon),icons.push(descSortIcon)):this.ascendingSortSupported?(baseSortIcon.classList.add("fa-sort-asc"),ascSortIcon.classList.add("default-sort-direction"),className+=" can-sort-asc",icons.push(ascSortIcon)):(baseSortIcon.classList.add("fa-sort-desc"),descSortIcon.classList.add("default-sort-direction"),className+=" can-sort-desc",icons.push(descSortIcon)),labelChildren.push(dom.elem("span",{className:"header-sort-indicator"},{children:icons}))),this.isFiltered()&&(className+=" active-filter");const contentsChildren=[dom.elem("div",{className:"header-cell-centered"},{children:labelChildren})];this.internal||contentsChildren.push(this.renderHeaderCellSettingsButton()),contents=dom.elem("div",{className:"header-cell-contents"},{children:contentsChildren}),this._renderedHeaderCell=dom.elem("div",{className:className},{attributes:{"data-column-id":this.id},children:[contents,this.renderHeaderCellResizer()]}),sorted&&this._applySortingStyle()}return this._renderedHeaderCell},Column.prototype.updateHeaderCellPosition=function(){var target;(target=this._reorderPlaceholder?this._reorderPlaceholder:this.renderHeaderCell()).style.width=this._width+"px",target.style.left=this._leftOffset+"px",this._firstVisible?target.classList.add("first-cell"):target.classList.remove("first-cell"),this._lastVisible?target.classList.add("last-cell"):target.classList.remove("last-cell")},Column.prototype.prepareHeaderCellForMeasure=function(){this.renderHeaderCell().style.width=null},Column.prototype.measureHeaderCellAndSetWidth=function(){var element=this.renderHeaderCell();this._width=Math.ceil(element.getBoundingClientRect().width)+1},Column.prototype.prepareHeaderCellForMinimumMeasure=function(){this.renderHeaderCell().classList.add("minimum-measure")},Column.prototype.measureHeaderCellMinimumAndSet=function(){var element=this.renderHeaderCell();this._minWidth=Math.min(Math.ceil(element.getBoundingClientRect().width)+20,this._width)},Column.prototype.removeHeaderCellMinimumMeasureClass=function(){this.renderHeaderCell().classList.remove("minimum-measure")},Column.prototype.setWidth=function(width){width<this._minWidth?this._width=this._minWidth:this._width=width},Column.prototype.getWidth=function(){return this._width},Column.prototype.getMinWidth=function(){return this._minWidth},Column.prototype.setLeftOffset=function(left){this._leftOffset=left},Column.prototype.getLeftOffset=function(){return this._leftOffset},Column.prototype.setFirstVisible=function(isFirstVisible){this._firstVisible=isFirstVisible},Column.prototype.isFirstVisible=function(){return this._firstVisible},Column.prototype.setLastVisible=function(isLastVisible){this._lastVisible=isLastVisible},Column.prototype.isLastVisible=function(){return this._lastVisible},Column.prototype.createHeaderCellPlaceholder=function(){var headerCell=this.renderHeaderCell();return this._reorderPlaceholder=headerCell.cloneNode(!0),this._reorderPlaceholder.classList.add("placeholder"),this._reorderPlaceholder},Column.prototype.stopReordering=function(){this._reorderPlaceholder=null},Column.prototype.sort=function(sort,sortDirection,updateCellStyle){updateCellStyle=null==updateCellStyle||updateCellStyle;var SORT_DIRECTION=this._settings.SORT_DIRECTION,changedSuccesfully=!1;return sort?(sortDirection||(sortDirection=this._sortDirection?this._sortDirection===SORT_DIRECTION.ASCENDING?SORT_DIRECTION.DESCENDING:SORT_DIRECTION.ASCENDING:this.ascendingSortSupported&&this.descendingSortSupported?this._settings.defaultSortDirection:this.ascendingSortSupported?SORT_DIRECTION.ASCENDING:SORT_DIRECTION.DESCENDING),this._sortDirectionSupported(sortDirection)&&(this._sortDirection=sortDirection,changedSuccesfully=!0,updateCellStyle&&this._applySortingStyle())):(this._sortDirection=null,updateCellStyle&&this._removeSortingStyle(),changedSuccesfully=!0),changedSuccesfully},Column.prototype.isSorted=function(){return!!this._sortDirection},Column.prototype.getSortDirection=function(){return this._sortDirection},Column.prototype.getSortComparator=function(){return(this.type===this.TYPE.STANDARD||this.COLLECTION_TYPES.has(this.type))&&"function"==typeof this.sortComparator?this.sortComparator:function(valueA,valueB){return valueA.compareTo(valueB)}},Column.prototype.isFiltered=function(){return!!this._filter},Column.prototype.setFilter=function(value){this._filter=value,this._renderedHeaderCell&&(this._filter?this._renderedHeaderCell.classList.add("active-filter"):this._renderedHeaderCell.classList.remove("active-filter"))},Column.prototype.getFilter=function(){return this._filter},Column.prototype.filterMatchesRow=function(row){let matches=!1;return this.shouldRowBeCheckedForMatch(row)&&(matches=this._filter.matches(row,this)),matches},Column.prototype.searchMatchesRow=function(searchValue,row){let matches=!1;if(this.shouldRowBeCheckedForMatch(row)){matches=row.getCellValueSync(this).matchedBySearch(searchValue)}return matches},Column.prototype.setSection=function(isSection){this._section=isSection,this._section&&this.setFilter(null)},Column.prototype.isSection=function(){return!!this._section},Column.prototype.isSearchable=function(){return!this.internal&&this.searching},Column.prototype.registerNumberForMaxCalculation=function(number){number>this._maxNumberValue&&(this._maxNumberValue=number)},Column.prototype.getMaxNumberValue=function(entry){var value=0;if("function"==typeof this.getCompareBarMax)try{value=this.getCompareBarMax(entry)}catch(e){log.error(e)}else value=this._maxNumberValue;return value},Column.prototype.resetMaxNumberValue=function(){this._maxNumberValue=0},Column.prototype.resetValueStatistics=function(){this._statisticsMap=new Map,this._orderedStatistics=[],this._statisticsTotalCount=0,this._statisticsProcessed=!1},Column.prototype.incrementValueCount=function(row,valueInstance){const isValidValue=value=>""!==value&&null!=value;if(this.COLLECTION_TYPES.has(this.type)&&!row.isCollectionFallback(this))valueInstance.getEntries().forEach(entry=>{let value=valueInstance.getEntryValue(entry);isValidValue(value)&&this._incrementStatisticsForValue(value,valueInstance,entry)});else{const value=valueInstance.getValue();isValidValue(value)&&this._incrementStatisticsForValue(value,valueInstance)}},Column.prototype.processValueStatistics=function(){this._orderedStatistics.sort((a,b)=>b.count-a.count),this._orderedStatistics.length>200&&(this._orderedStatistics=this._orderedStatistics.slice(0,200)),this._orderedStatistics.totalCount=this._statisticsTotalCount,this._statisticsMap=new Map,this._statisticsProcessed=!0},Column.prototype.getValueStatistics=function(){return this._statisticsProcessed?this._orderedStatistics:null},Column.prototype.shouldRowBeCheckedForMatch=function(row){let check=!0;if(this._settings.parentChildRows){if((this.parentChildMatchMode||this._settings.parentChildMatchMode)===this._settings.PARENT_CHILD_MATCH_MODE.CHILD_ONLY){const shouldCheckForMatch=this.childOnlyShouldMatchFunction||this._settings.childOnlyShouldMatchFunction;if("function"==typeof shouldCheckForMatch)try{check=shouldCheckForMatch.call(row,row.entry)}catch(e){log.error(e)}else check=!row.isParent()}}return check},Column.prototype.flagOnCellRenderedNoDestroyables=function(){this._onCellRenderedNoDestroyables=!0},Column.prototype._incrementStatisticsForValue=function(value,valueInstance,collectionEntry){if(this._statisticsMap.has(value)){this._statisticsMap.get(value).count++}else{let entry={value:value,count:1,valueInstance:valueInstance,collectionEntry:collectionEntry};this._statisticsMap.set(value,entry),this._orderedStatistics.push(entry)}this._statisticsTotalCount++},Column.prototype._applySortingStyle=function(){var cell=this._renderedHeaderCell;cell&&(cell.classList.add("sorted"),this._sortDirection===this._settings.SORT_DIRECTION.ASCENDING?(cell.classList.add("sorted-asc"),cell.classList.remove("sorted-desc")):(cell.classList.add("sorted-desc"),cell.classList.remove("sorted-asc")))},Column.prototype._sortDirectionSupported=function(sortDirection){return sortDirection===this._settings.SORT_DIRECTION.ASCENDING?this.ascendingSortSupported:this.descendingSortSupported},Column.prototype._removeSortingStyle=function(){this._renderedHeaderCell&&(this._renderedHeaderCell.classList.remove("sorted"),this._renderedHeaderCell.classList.remove("sorted-asc"),this._renderedHeaderCell.classList.remove("sorted-desc"))},module.exports=Column},function(module,exports,__webpack_require__){"use strict";const MultiValueFilter=__webpack_require__(215),CONTAINS_REGEX=/^(!)?âŠ‚(.*)$/;class CommonFilter extends MultiValueFilter{constructor(serialized,column,settings){super(column,settings);let match=CONTAINS_REGEX.exec(serialized);match?(this.negate=!!match[1],this.values=CommonFilter.parseSearchValuesFromString(match[2]),this.type=CommonFilter.TYPE.CONTAINS):(this.type=CommonFilter.TYPE.REGEX,this.regexString=serialized,this.regex=new RegExp(serialized,"i"))}isEmpty(){return this.type===CommonFilter.TYPE.CONTAINS?!this.values.length:!this.regexString.length}serialize(){let serialized;return serialized=this.type===CommonFilter.TYPE.CONTAINS?`${this.negate?"!":""}âŠ‚${this.values.join(",")}`:this.regexString}_matchesCellValue(cellValue,row){const isCollection=this.column.COLLECTION_TYPES.has(this.column.type)&&!row.isCollectionFallback(this.column),isRegex=this.type===CommonFilter.TYPE.REGEX;let result=!1;if(isCollection){let collectionValues=cellValue.getEntryValues().map(value=>value=null!=value?value.toString().toLowerCase():"");collectionValues.length&&(result=isRegex?collectionValues.some(collectionValue=>this.regex.test(collectionValue)):this.negate?this.values.every(value=>!collectionValues.some(collectionValue=>collectionValue.indexOf(value)>=0)):this.values.some(value=>collectionValues.some(collectionValue=>collectionValue.indexOf(value)>=0)))}else{let stringValue=cellValue.getValue().toLowerCase();result=isRegex?this.regex.test(stringValue):this.negate?this.values.every(value=>stringValue.indexOf(value)<0):this.values.some(value=>stringValue.indexOf(value)>=0)}return result}}CommonFilter.TYPE={CONTAINS:"contains",REGEX:"regex"},module.exports=CommonFilter},function(module,exports,__webpack_require__){"use strict";const Filter=__webpack_require__(164),NumberValue=__webpack_require__(163),RANGE_REGEX=/^(-?[0-9.]+)([a-zA-Z%/]*)\s*->\s*(-?[0-9.]+)([a-zA-Z%/]*)$/,LESS_THEN_EQUAL_TO_REGEX=/^<=(-?[0-9.]+)([a-zA-Z%/]*)$/,GREATER_THAN_EQUAL_TO_REGEX=/^>=(-?[0-9.]+)([a-zA-Z%/]*)$/,EQUAL_TO_REGEX=/^=?(-?[0-9.]+)([a-zA-Z%/]*)$/,MULTIPLE_TYPE_REGEX=/^\|((?:(?:,\s*)?-?[0-9.]+)*)([a-zA-Z%/]*)$/;class NumberFilter extends Filter{constructor(serialized,column,settings){let match;if(super(column,settings),match=RANGE_REGEX.exec(serialized))this.number=this._stringToNumber(match[1])*this._getUnitFactor(match[2]),this.secondNumber=this._stringToNumber(match[3])*this._getUnitFactor(match[4]),this.type=NumberFilter.TYPE.RANGE;else if(match=LESS_THEN_EQUAL_TO_REGEX.exec(serialized))this.number=this._stringToNumber(match[1])*this._getUnitFactor(match[2]),this.type=NumberFilter.TYPE.LESS_THAN_EQUAL_TO;else if(match=GREATER_THAN_EQUAL_TO_REGEX.exec(serialized))this.number=this._stringToNumber(match[1])*this._getUnitFactor(match[2]),this.type=NumberFilter.TYPE.GREATER_THAN_EQUAL_TO;else if(match=EQUAL_TO_REGEX.exec(serialized))this.number=this._stringToNumber(match[1])*this._getUnitFactor(match[2]),this.type=NumberFilter.TYPE.EQUAL_TO;else{if(!(match=MULTIPLE_TYPE_REGEX.exec(serialized)))throw new Error("Invalid serialized filter value");this.numbers=match[1].split(/,\s*/).map(number=>this._stringToNumber(number)*this._getUnitFactor(match[2])),this.type=NumberFilter.TYPE.MULTIPLE}}serialize(){let serialized,[number,unit]=this.getNumberWithUnit();if(this.type===NumberFilter.TYPE.RANGE){let[secondNumber,secondUnit]=this.getSecondNumberWithUnit();serialized=`${number}${unit||""}->${secondNumber}${secondUnit||""}`}else{let symbol;switch(this.type){case NumberFilter.TYPE.LESS_THAN_EQUAL_TO:symbol="<=";break;case NumberFilter.TYPE.GREATER_THAN_EQUAL_TO:symbol=">=";break;case NumberFilter.TYPE.EQUAL_TO:symbol="=";break;case NumberFilter.TYPE.MULTIPLE:symbol="|",[number,unit]=this.getMultiValueNumbersWithUnit()}serialized=`${symbol}${number}${unit||""}`}return serialized}getNumberWithUnit(){return NumberValue.getNumberWithUnit(this.number,this.column.numberType)}getSecondNumberWithUnit(){return NumberValue.getNumberWithUnit(this.secondNumber,this.column.numberType)}getMultiValueNumbersWithUnit(){let unit,numbers=[];return(this.numbers||[]).forEach(number=>{const result=NumberValue.getNumberWithUnit(number,this.column.numberType);numbers.push(result[0]),unit=result[1]}),[numbers.join(", "),unit]}_stringToNumber(string){let number=Number(string);if(Number.isNaN(number))throw new Error("Invalid number in serialized filter value");return number}_getUnitFactor(unit){return NumberValue.getUnitFactor(unit,this.column.numberType)}_matchesCellValue(cellValue){const value=cellValue.getValue();let result=!1;switch(this.type){case NumberFilter.TYPE.RANGE:result=value>=this.number&&value<=this.secondNumber;break;case NumberFilter.TYPE.LESS_THAN_EQUAL_TO:result=value<=this.number;break;case NumberFilter.TYPE.GREATER_THAN_EQUAL_TO:result=value>=this.number;break;case NumberFilter.TYPE.EQUAL_TO:result=value===this.number;break;case NumberFilter.TYPE.MULTIPLE:result=(this.numbers||[]).some(number=>value===number)}return result}}NumberFilter.TYPE={RANGE:"range",LESS_THAN_EQUAL_TO:"lessThanEqualTo",GREATER_THAN_EQUAL_TO:"greaterThanEqualTo",EQUAL_TO:"equalTo",MULTIPLE:"multiple"},module.exports=NumberFilter},function(module,exports,__webpack_require__){"use strict";const Filter=__webpack_require__(164),dateTime=__webpack_require__(110);class DateFilter extends Filter{constructor(serialized,column,settings){let match;if(super(column,settings),this._fromDate=null,this._toDate=null,this._fromTimeOfDayMS=null,this._toTimeOfDayMS=null,this._fromAndToSameDay=!1,this._fromAndToDifferenceHours=null,match=DateFilter.RANGE_REGEX.exec(serialized)){let[fromYear,fromMonth,fromDay,fromHour,fromMinute,fromSecond,toYear,toMonth,toDay,toHour,toMinute,toSecond]=match.slice(1).map(value=>Number(value));this._fromDate=this._createDate(fromYear,fromMonth,fromDay,fromHour,fromMinute,fromSecond),this._toDate=this._createDate(toYear,toMonth,toDay,toHour,toMinute,toSecond),this.type=DateFilter.TYPE.RANGE}else if(match=DateFilter.LESS_THAN_EQUAL_TO_REGEX.exec(serialized)){let[fromYear,fromMonth,fromDay,fromHour,fromMinute,fromSecond]=match.slice(1).map(value=>Number(value));this._fromDate=this._createDate(fromYear,fromMonth,fromDay,fromHour,fromMinute,fromSecond),this.type=DateFilter.TYPE.LESS_THAN_EQUAL_TO}else if(match=DateFilter.GREATER_THAN_EQUAL_TO_REGEX.exec(serialized)){let[fromYear,fromMonth,fromDay,fromHour,fromMinute,fromSecond]=match.slice(1).map(value=>Number(value));this._fromDate=this._createDate(fromYear,fromMonth,fromDay,fromHour,fromMinute,fromSecond),this.type=DateFilter.TYPE.GREATER_THAN_EQUAL_TO}else{if(!(match=DateFilter.EQUAL_TO_REGEX.exec(serialized)))throw new Error("Invalid serialized filter value");{let[fromYear,fromMonth,fromDay,fromHour,fromMinute,fromSecond]=match.slice(1).map(value=>Number(value));this._fromDate=this._createDate(fromYear,fromMonth,fromDay,fromHour,fromMinute,fromSecond),this.type=DateFilter.TYPE.EQUAL_TO}}this._fromDate&&(this._fromTimeOfDayMS=this._fromDate.getHours()*dateTime.MS_CONSTANTS.HOUR+this._fromDate.getMinutes()*dateTime.MS_CONSTANTS.MINUTE+this._fromDate.getSeconds()*dateTime.MS_CONSTANTS.SECOND),this._toDate&&(this._toTimeOfDayMS=this._toDate.getHours()*dateTime.MS_CONSTANTS.HOUR+this._toDate.getMinutes()*dateTime.MS_CONSTANTS.MINUTE+this._toDate.getSeconds()*dateTime.MS_CONSTANTS.SECOND,this._fromDate&&(this._fromAndToSameDay=this._fromDate.getFullYear()===this._toDate.getFullYear()&&this._fromDate.getMonth()===this._toDate.getMonth()&&this._fromDate.getDate()===this._toDate.getDate(),this._fromAndToDifferenceHours=(this._toDate-this._fromDate)/dateTime.MS_CONSTANTS.HOUR))}serialize(){let serialized,fromDate=this.getSerializedFromDate(),fromTime=this.getSerializedFromTime();if(this.type===DateFilter.TYPE.RANGE){serialized=`${fromDate} ${fromTime} -> ${this.getSerializedToDate()} ${this.getSerializedToTime()}`}else{let symbol;switch(this.type){case DateFilter.TYPE.LESS_THAN_EQUAL_TO:symbol="<=";break;case DateFilter.TYPE.GREATER_THAN_EQUAL_TO:symbol=">=";break;case DateFilter.TYPE.EQUAL_TO:symbol="="}serialized=`${symbol}${fromDate} ${fromTime}`}return serialized}getSerializedFromDate(){return this._serializeDate(this._fromDate)}getSerializedFromTime(){return this._serializeTime(this._fromDate)}getSerializedToDate(){return this._toDate?this._serializeDate(this._toDate):null}getSerializedToTime(){return this._toDate?this._serializeTime(this._toDate):null}_createDate(year,month,day,hour,minute,second){var date=new Date;return date.setFullYear(year),date.setMonth(month-1,day),date.setHours(hour),date.setMinutes(minute),date.setSeconds(second),date.setMilliseconds(0),date}_serializeDate(date){return dateTime.formatDateTimeCustom(date,"yyyy-MM-dd")}_serializeTime(date){return dateTime.formatDateTimeCustom(date,"HH:mm:ss")}_matchesCellValue(cellValue){const value=cellValue.getValue();let result=!1;if(value){const isTimeType=cellValue.getDateType()===this.column.DATE_TYPE.TIME;let timeOfDayMS,time=value.getTime();switch(isTimeType&&(timeOfDayMS=cellValue.getTimeOfDayInMS()),this.type){case DateFilter.TYPE.RANGE:result=isTimeType?this._fromAndToSameDay?timeOfDayMS>=this._fromTimeOfDayMS&&timeOfDayMS<=this._toTimeOfDayMS:!(this._fromAndToDifferenceHours<24)||(timeOfDayMS>=this._fromTimeOfDayMS||timeOfDayMS<=this._toTimeOfDayMS):time>=this._fromDate.getTime()&&time<=this._toDate.getTime();break;case DateFilter.TYPE.LESS_THAN_EQUAL_TO:result=isTimeType?timeOfDayMS<=this._fromTimeOfDayMS:time<=this._fromDate.getTime();break;case DateFilter.TYPE.GREATER_THAN_EQUAL_TO:result=isTimeType?timeOfDayMS>=this._fromTimeOfDayMS:time>=this._fromDate.getTime();break;case DateFilter.TYPE.EQUAL_TO:result=isTimeType?timeOfDayMS===this._fromTimeOfDayMS:time===this._fromDate.getTime()}}return result}}DateFilter.TYPE={RANGE:"range",LESS_THAN_EQUAL_TO:"lessThanEqualTo",GREATER_THAN_EQUAL_TO:"greaterThanEqualTo",EQUAL_TO:"equalTo"},DateFilter.DATE_REGEX=/([0-9]{4})-([0-9]{2})-([0-9]{2})/,DateFilter.TIME_REGEX=/([0-9]{2}):([0-9]{2}):([0-9]{2})/,DateFilter.RANGE_REGEX=new RegExp(`^${DateFilter.DATE_REGEX.source}\\s+`+`${DateFilter.TIME_REGEX.source}\\s*->\\s*${DateFilter.DATE_REGEX.source}\\s+`+`${DateFilter.TIME_REGEX.source}$`),DateFilter.LESS_THAN_EQUAL_TO_REGEX=new RegExp(`^<=${DateFilter.DATE_REGEX.source}\\s+`+`${DateFilter.TIME_REGEX.source}$`),DateFilter.GREATER_THAN_EQUAL_TO_REGEX=new RegExp(`^>=${DateFilter.DATE_REGEX.source}\\s+`+`${DateFilter.TIME_REGEX.source}$`),DateFilter.EQUAL_TO_REGEX=new RegExp(`^=?${DateFilter.DATE_REGEX.source}\\s+`+`${DateFilter.TIME_REGEX.source}$`),module.exports=DateFilter},function(module,exports,__webpack_require__){"use strict";const FilterForm=__webpack_require__(216),MultiValueFilter=__webpack_require__(215),dom=__webpack_require__(40),util=__webpack_require__(39);class ValueSuggestion{constructor(value,valueInstance,element){this.value=value,this.valueInstance=valueInstance,this.element=element}}class MultiValueFilterForm extends FilterForm{constructor(){super(...arguments),this._listedSuggestions=[],this._isSuggestionDisabled=!1}getInput(){throw new Error("Not implemented")}_disableSuggestions(disable=!0){this._listedSuggestions&&this._isSuggestionDisabled!==disable&&(this._listedSuggestions.forEach(suggestion=>{suggestion.element.querySelector("button").disabled=disable}),this._isSuggestionDisabled=disable)}_updateListedSuggestions(){let isSearching=!1;const input=this.getInput(),searchValues=MultiValueFilter.parseSearchValuesFromString(input.value);this.shouldDisableSuggestions()?(this._disableSuggestions(!0),isSearching=!0):(this._disableSuggestions(!1),searchValues.length&&!this._stringEndsWithComma(input.value)&&(isSearching=!0));const matchFunction=suggestion=>{const verify=searchValue=>this.doesSearchValueMatchSuggestion(searchValue,suggestion);if(this._isSuggestionDisabled)return verify(input.value);if(isSearching){let searchValue=searchValues[searchValues.length-1];return verify(searchValue)}return searchValues.some(searchValue=>verify(searchValue))};this._listedSuggestions&&this._listedSuggestions.forEach(suggestion=>{let fIcon=suggestion.element.querySelector(".value-selected-icon");isSearching?matchFunction(suggestion)?(suggestion.element.style.display=null,fIcon.classList.remove("fa-apply")):suggestion.element.style.display="none":(matchFunction(suggestion)?fIcon.classList.add("fa-apply"):fIcon.classList.remove("fa-apply"),suggestion.element.style.display=null)})}doesSearchValueMatchSuggestion(){throw new Error("Not implemented")}shouldDisableSuggestions(){return!1}_clickedSuggestion(suggestion){const matchedIndexes=[],input=this.getInput(),currentValues=MultiValueFilter.parseSearchValuesFromString(input.value);input.value&&!this._stringEndsWithComma(input.value)?(currentValues.splice(-1,1),currentValues.push(suggestion.value)):(currentValues.forEach((currentValue,index)=>{this.doesSearchValueMatchSuggestion(currentValue,suggestion)&&matchedIndexes.unshift(index)}),matchedIndexes.length?matchedIndexes.forEach(index=>{currentValues.splice(index,1)}):currentValues.push(suggestion.value)),input.value=MultiValueFilter.searchValuesToString(currentValues),input.focus(),this._updateListedSuggestions()}_addSuggestionSection(container){const section=dom.elem("div",{className:"auto-overflow"},{children:[dom.elem("div",{className:"flex-centered"},{children:[dom.elem("f-icon",{className:"fa-loading"})]})]}),separator=dom.elem("div",{className:"separator"});container.appendChild(separator),container.appendChild(section),this._getValueStatistics().then(statsEntries=>{section.innerHTML="",statsEntries.length?(this._listedSuggestions=[],statsEntries.forEach(entry=>{if(!entry.value)return;let suggestion,menuItem=dom.elem("div",{className:"menu-item"},{children:[dom.elem("button",{type:"button"},{children:[dom.elem("div",{className:"flex-row-centered filter-suggestion"},{children:[this._renderStatisticEntry(entry),dom.elem("f-icon",{className:"value-selected-icon"}),dom.elem("span",{className:"number-bubble",textContent:entry.count.toLocaleString()})]})],events:{click:()=>this._clickedSuggestion(suggestion)}})]});suggestion=new ValueSuggestion(entry.value,entry.valueInstance,menuItem),this._listedSuggestions.push(suggestion),section.appendChild(menuItem)}),this._updateListedSuggestions()):separator.parentElement.removeChild(separator),this.getInput().focus()})}_getValueStatistics(){let promise,stats=this.column.getValueStatistics();return promise=stats?Promise.resolve(stats):this.sourceManager.collectValueStatisticsForColumn(this.column)}_renderStatisticEntry(entry){const REPLACE_SELECTORS=["button",".button-style"],processFormattedElement=element=>{let newElement,replace=REPLACE_SELECTORS.some(sel=>util.elementMatchesSelector(element,sel));const children=Array.from(element.children);return replace&&element.parentElement&&(newElement=dom.elem("div",{style:{display:"inline-block"}}),element.parentElement.insertBefore(newElement,element),element.parentElement.removeChild(element),children.forEach(child=>newElement.appendChild(child))),children.forEach(child=>processFormattedElement(child)),element},element=dom.elem("div",{className:"filter-suggestion-value"}),formatted=entry.collectionEntry?entry.valueInstance.getFormattedEntryElement(entry.collectionEntry):entry.valueInstance.format();return util.objectIsThenable(formatted)?(element.appendChild(dom.elem("f-icon",{className:"fa-loading"})),formatted.then(resolved=>{element.innerHTML="",element.appendChild(processFormattedElement(resolved))})):element.appendChild(processFormattedElement(formatted)),element}_stringEndsWithComma(string){return/, *$/.test(string)}}MultiValueFilterForm.HELP_INFO='Multiple values can be OR\'d together using "," or "|"',module.exports=MultiValueFilterForm},function(module,exports,__webpack_require__){"use strict";function SequenceGroupingOperation(source,row,newLabel){this._source=source,this._row=row,this._oldLabel=row.getSequenceGroupingValue(),this._newLabel=newLabel}SequenceGroupingOperation.prototype.execute=function(){return Promise.resolve(this._source.setNewSequenceGroupingValue(this._row.entry,this._newLabel))},SequenceGroupingOperation.prototype.undo=function(){return Promise.resolve(this._source.setNewSequenceGroupingValue(this._row.entry,this._oldLabel))},module.exports=SequenceGroupingOperation},function(module,exports,__webpack_require__){"use strict";function nodeComparator(nodeMap={},compareFn,nodeA,nodeB){for(var lca,idA=nodeA.id,idB=nodeB.id,pathA=nodeA.path,pathB=nodeB.path,distanceA=pathA.length,distanceB=pathB.length,length=Math.min(distanceA,distanceB),i=0;i<length;){var ancestorA=pathA[i];if(ancestorA!==pathB[i])break;lca=ancestorA,i++}var lcaChildA=nodeMap[pathA[pathA.indexOf(lca)+1]||idA],lcaChildB=nodeMap[pathB[pathB.indexOf(lca)+1]||idB];return lcaChildA===lcaChildB?distanceA<distanceB?-1:distanceB<distanceA?1:0:compareFn?compareFn({nodeA:lcaChildA.source,nodeB:lcaChildB.source}):lcaChildA.sourceIndex-lcaChildB.sourceIndex}function Node(id,parentId,source,sourceIndex){this.id=id,this.parentId=parentId,this.source=source,this.ancestors=[],this.path=[],this.children=[],this.expanded=!0,this.visible=!0,this.sourceIndex=sourceIndex}Node.prototype.addAncestor=function(ancestor){this.ancestors.unshift(ancestor),this.path.unshift(ancestor.id)},Node.prototype.propagateExpansion=function(){this.expanded&&this.children.forEach(function(child){child.toggleVisibility(!0),child.propagateExpansion()})},Node.prototype.hideChildren=function(){this.children.forEach(function(child){child.toggleVisibility(!1),child.hideChildren()})},Node.prototype.toggleExpansion=function(force){this.expanded=force||!this.expanded,this.expanded?this.propagateExpansion():this.hideChildren()},Node.prototype.toggleVisibility=function(visible){this.visible=visible},Node.prototype.addChild=function(node){this.children.push(node)},module.exports={Node:Node,nodeComparator:nodeComparator,createNodeComparator:function(nodeMap,compareFn){return function(nodeA,nodeB){return nodeComparator(nodeMap,compareFn,nodeA,nodeB)}}}},function(module,exports,__webpack_require__){"use strict";function ArrayIteratorElem(array){this._array=array}function Sequencer(iterator){iterator instanceof Sequencer&&(iterator=iterator._iterator),this._iterator=iterator}function iter(iterator,initialSize,callback){if("function"!=typeof callback)throw new TypeError(callback+" is not a function");for(var v,values=iterator,i=0,result=new Array(initialSize||0);!(v=values.next()).done;)callback(v.value,i,result),++i;return result}module.exports=Sequencer,ArrayIteratorElem.prototype={_current:null,_array:null,get value(){return this._array[this._current]},get done(){return this._array.length<=this._current},next:function(){return this._current=null===this._current?0:this._current+1,this}},ArrayIteratorElem.prototype[Symbol.iterator]=function(){return this},Sequencer.prototype={_probableSize:null,set sizeHint(value){this._probableSize=value},map:function(callback,thisArg){var len=0,arr=iter(this._iterator,this.size,function(value,i,result){result[i]=callback.call(thisArg,value,i),len=i+1});return arr.length=len,new Sequencer(new ArrayIteratorElem(arr))},filter:function(callback,thisArg){return new Sequencer(new ArrayIteratorElem(iter(this._iterator,0,function(value,i,res){callback.call(thisArg,value,i)&&res.push(value)})))},forEach:function(callback,thisArg){iter(this._iterator,0,callback.bind(thisArg))},toArray:function(){return Array.from(this._iterator)}},Sequencer.prototype[Symbol.iterator]=function(){return this._iterator}},function(module,exports,__webpack_require__){"use strict";const TopologyTreeNode=__webpack_require__(392),graphUtil=__webpack_require__(165),util=__webpack_require__(39),{Graph:Graph,BfsVisitor:BfsVisitor,Edge:Edge,Node:Node}=graphUtil;class TopologyParser{static traverse(topology,nodeFilterFn,shouldSkipChildrenFn,processFn,accumulator){if("function"!=typeof processFn)throw new Error("processFn parameter is invalid");if(!topology)throw new Error("No topology data");if(!Array.isArray(topology))throw new Error("Invalid topology data");const _traverse=(treeNode,acc)=>{const node=treeNode.node;let skipChildren;nodeFilterFn&&!nodeFilterFn(treeNode)||processFn(treeNode,acc),(skipChildren="function"==typeof shouldSkipChildrenFn?shouldSkipChildrenFn(treeNode):!!shouldSkipChildrenFn)||node.children&&node.children.forEach(childNode=>{const childTreeNode=new TopologyTreeNode(childNode,(treeNode.depth||0)+1,node);_traverse(childTreeNode,acc)})};topology.forEach(node=>{const treeNode=new TopologyTreeNode(node,0,null);_traverse(treeNode,accumulator)})}static graphToSpanningTree(topology){if(!topology||!topology.nodes||!topology.edges)return[];const edges=topology.edges.map(e=>{const properties=e.properties,edge=new Edge(Object.keys(properties[0].nodeProperties));return Object.assign(edge,e),edge}),nodes=topology.nodes.map(nodeData=>new Node(nodeData.id,nodeData)),graph=new Graph(nodes,edges);let spanningTreeRoot=nodes.find(node=>node.data.spanningTreeRoot);if(!spanningTreeRoot)throw new Error("Expected .spanningTreeRoot in at least one node.");const tree=[],map={};return graph.breadthFirstSearch(spanningTreeRoot,new BfsVisitor(bfsState=>{const node=bfsState.node,parentId=bfsState.parent&&bfsState.parent.id,parentNode=parentId&&map[parentId];bfsState.edge&&bfsState.edge.properties.forEach(property=>{node.data.parentNodePort=property.nodeProperties[parentId].tableRowId,node.data.outgoingNodePort=node.data.outgoingNodePort||[];const port={id:property.nodeProperties[node.id].tableRowId,iconBadge:property.iconBadge,interactType:property.interactType,strokeWidth:property.strokeWidth,color:property.color};node.data.outgoingNodePort.push(port)});map[node.id]=node.data,parentNode?(parentNode.children=parentNode.children||[],parentNode.children.push(node.data)):tree.push(node.data)})),{tree:tree,map:map}}static sortAllChildrenInSpanningTree(spanningTree,interactTypeOrders){const map=spanningTree.map,sortAllChildren=TopologyParser._createSortHandlerByInteractTypeOrder(interactTypeOrders);Object.values(map).forEach(sortAllChildren)}static _createSortHandlerByInteractTypeOrder(interactTypeOrders){return node=>{if("branch"!==node.placement||!Array.isArray(node.children))return;const tableRowIds=(node.tableContent||[]).map(row=>row.id);node.children.sort((a,b)=>{const parentNodePortA=a.parentNodePort,parentNodePortB=b.parentNodePort;if(!parentNodePortA&&parentNodePortB)return-1;if(parentNodePortA&&!parentNodePortB)return 1;if(parentNodePortA&&parentNodePortB){const portIndexA=tableRowIds.indexOf(parentNodePortA),portIndexB=tableRowIds.indexOf(parentNodePortB);if(-1===portIndexA&&-1!==portIndexB)return-1;if(-1!==portIndexA&&-1===portIndexB)return 1;if(portIndexA>-1&&portIndexB>-1){const diff=portIndexA-portIndexB;if(diff)return diff}}const interactTypeA=a.interactType,interactTypeB=b.interactType;if(interactTypeA===interactTypeB)return util.fastLocaleCompare(a.label,b.label);const typeIndexA=interactTypeOrders.indexOf(interactTypeA),typeIndexB=interactTypeOrders.indexOf(interactTypeB);return-1===typeIndexA&&-1!==typeIndexB?1:-1!==typeIndexA&&-1===typeIndexB?-1:typeIndexA-typeIndexB})}}}module.exports=TopologyParser},function(module,exports,__webpack_require__){"use strict";module.exports=class{constructor(node,depth,parent){this.node=node,this.depth=depth,this.parent=parent}}},function(module,exports,__webpack_require__){"use strict";const d3=__webpack_require__(48),chartUtil=__webpack_require__(60),TOPOLOGY=__webpack_require__(56).TOPOLOGY,iconCode=__webpack_require__(69),BaseTopologyNode=__webpack_require__(70);class IconBadge extends BaseTopologyNode{constructor(data){super(),this.validateAndSetRequiredKeys(data),this._preProcess(data)}_preProcess(data){data.main&&(this.mainIcon=iconCode.getIconCode(data.main)),data.effect&&(this.effectIcon=iconCode.getIconCode(data.effect))}get $PROPERTIES(){return IconBadge.PROPERTIES}static get d3SelectorClass(){return"icon-badge"}static d3KeyFn(d){return`${IconBadge.d3SelectorClass}::${d.mainIcon.name}::${d.iconNodeId}`}static createGAttrsFn(nodeMapping){return selection=>{selection.attr("class",`${IconBadge.d3SelectorClass}`).attr("transform",d=>{const offset={x:0,y:0},headRightMidpointOffset=nodeMapping[d.iconNodeId].headRightMidpointOffset;switch(d.position){case"topRight":offset.x=headRightMidpointOffset.x,offset.y=headRightMidpointOffset.y/2;break;case"bottomRight":offset.x=headRightMidpointOffset.x,offset.y=2*headRightMidpointOffset.y}return d.sameSpotIndex>0&&(offset.x+=d.sameSpotIndex*TOPOLOGY.BADGE_SIZE),chartUtil.transformD(offset)})}}static textAttrs(selection){selection.attr("font-family",d=>d.mainIcon.fontFamily).attr("font-size",chartUtil.toPx(TOPOLOGY.BADGE_SIZE)).attr("text-anchor","middle").attr("fill",d=>d.color).style("cursor","pointer").text(d=>d.mainIcon.unicode)}static onD3SelectionEnter(selectionEnter){selectionEnter.on("mouseover",function(){d3.select(this).style("opacity",.9)}).on("mouseout",function(){d3.select(this).style("opacity","unset")})}}IconBadge.PROPERTIES=[{name:"position",required:!0},{name:"color",required:!0},{name:"tooltip",required:!0},{name:"iconNodeId",required:!0},{name:"sameSpotIndex",required:!0}],module.exports=IconBadge},function(module,exports,__webpack_require__){"use strict";const d3=__webpack_require__(48),chartUtil=__webpack_require__(60),TOPOLOGY=__webpack_require__(56).TOPOLOGY,BaseTopologyNode=__webpack_require__(70);class NumberBubbleBadge extends BaseTopologyNode{constructor(data){super(),this.validateAndSetRequiredKeys(data)}get $PROPERTIES(){return NumberBubbleBadge.PROPERTIES}static get d3SelectorClass(){return"number-bubble-badge"}static d3KeyFn(d){return`${NumberBubbleBadge.d3SelectorClass}`+`::${d.bubbleNumber}::${d.color}::${d.iconNodeId}`}static createGAttrsFn(nodeMapping){return selection=>{selection.attr("class",`${NumberBubbleBadge.d3SelectorClass}`).attr("interact-type",d=>d.interactType).attr("transform",d=>{const offset={x:0,y:0},headRightMidpointOffset=nodeMapping[d.iconNodeId].headRightMidpointOffset;switch(d.position){case"topRight":offset.x=headRightMidpointOffset.x,offset.y=0;break;case"bottomRight":offset.x=headRightMidpointOffset.x,offset.y=1.5*headRightMidpointOffset.y}return d.sameSpotIndex>0&&(offset.x+=d.sameSpotIndex*TOPOLOGY.BADGE_SIZE),chartUtil.transformD(offset)})}}static textAttrs(selection){selection.attr("font-size",chartUtil.toPx(TOPOLOGY.BASE_FONT_SIZE)).attr("dy",chartUtil.toPx(TOPOLOGY.BASE_FONT_SIZE/3)).attr("text-anchor","middle").attr("fill","white").attr("pointer-events","none").style("cursor","pointer").text(d=>d.numberBubble)}static circleAttrs(selection){selection.attr("r",TOPOLOGY.NUMBER_BUBBLE.RADIUS).attr("fill",TOPOLOGY.NUMBER_BUBBLE.COLOR).attr("stroke",TOPOLOGY.NUMBER_BUBBLE.COLOR).attr("stroke-width",0).style("cursor","pointer")}static onD3SelectionEnter(selectionEnter){selectionEnter.on("mouseover",function(){d3.select(this).attr("stroke-width",2).style("opacity",.9)}).on("mouseout",function(){d3.select(this).attr("stroke-width",0).style("opacity","unset")})}}NumberBubbleBadge.PROPERTIES=[{name:"position",required:!0},{name:"color",required:!0},{name:"tooltip",required:!0},{name:"numberBubble",require:!0},{name:"interactType"},{name:"iconNodeId",required:!0},{name:"sameSpotIndex",required:!0}],module.exports=NumberBubbleBadge},function(module,exports,__webpack_require__){"use strict";const chartUtil=__webpack_require__(60),TOPOLOGY=__webpack_require__(56).TOPOLOGY,iconCode=__webpack_require__(69),BaseTopologyNode=__webpack_require__(70);class SubIcon extends BaseTopologyNode{constructor(data){super(),this.validateAndSetRequiredKeys(data),this._preProcess(data)}_preProcess(data){this.$mainIcon=iconCode.getIconCode(data.iconClass),this.$effectIcon=iconCode.getIconCode(`${data.iconClass}-o`)}get $PROPERTIES(){return SubIcon.PROPERTIES}static get d3SelectorClass(){return"sub-icon"}static d3KeyFn(d){return`${SubIcon.d3SelectorClass}::${d.$mainIcon.name}::${d.iconNodeId}`}static createGAttrsFn(nodeMapping){return selection=>{selection.attr("class",`${SubIcon.d3SelectorClass}`).attr("transform",d=>{const offset={x:0,y:0},headLeftMidpointOffset=nodeMapping[d.iconNodeId].headLeftMidpointOffset;return offset.x=headLeftMidpointOffset.x+TOPOLOGY.SUB_ICON.SIZE/2,offset.y=2*headLeftMidpointOffset.y-TOPOLOGY.SUB_ICON.SIZE/4,chartUtil.transformD(offset)})}}static mainTextAttrs(selection){selection.attr("font-family",d=>d.$mainIcon.fontFamily).attr("font-size",chartUtil.toPx(TOPOLOGY.SUB_ICON.SIZE)).attr("text-anchor","middle").attr("fill",d=>d.color).attr("class",d=>`main f-icon ftnt-icon ${d.$mainIcon.name||""}`).style("pointer-events","none").text(d=>d.$mainIcon.unicode)}static effectTextAttrs(selection){selection.attr("font-family",d=>d.$effectIcon.fontFamily).attr("font-size",chartUtil.toPx(TOPOLOGY.SUB_ICON.SIZE)).attr("text-anchor","middle").attr("fill","white").attr("class",d=>`effect ${d.$effectIcon.name||""}`).style("pointer-events","none").text(d=>d.$effectIcon.unicode)}}SubIcon.PROPERTIES=[{name:"iconNodeId",required:!0},{name:"iconClass",required:!0},{name:"color",required:!0}],module.exports=SubIcon},function(module,exports,__webpack_require__){"use strict";const TOPOLOGY=__webpack_require__(56).TOPOLOGY,NO_SEARCH_MATCH=TOPOLOGY.CLASS.NO_SEARCH_MATCH,chartUtil=__webpack_require__(60),iconCode=__webpack_require__(69),IconNode=__webpack_require__(218),BaseTopologyNode=__webpack_require__(70);class IconNodeWithTable extends IconNode{constructor(data,parentId){super(data,parentId),this.flattenedContents=this._getFlattenContents()}get $PROPERTIES(){return IconNodeWithTable.PROPERTIES}_getFlattenContents(){const result=[];return Array.isArray(this.tableContent)&&this.tableContent.forEach(content=>(function _add(entry,indentLevel){const flattenedEntry=Object.assign({indentLevel:indentLevel},entry);entry.iconClass&&(flattenedEntry.$iconCode=iconCode.getIconCode(entry.iconClass));delete flattenedEntry.tableContent;delete flattenedEntry.iconClass;result.push(flattenedEntry);Array.isArray(entry.tableContent)&&entry.tableContent.forEach(content=>_add(content,indentLevel+1))})(content,0)),result}get d3SelectorClass(){return"icon-node-detail-row"}get height(){return this.headHeight+this.contentTableHeight}get width(){return TOPOLOGY.FABRIC_DEVICE.ROW.WIDTH}get contentTableHeight(){return this.flattenedContents.length*TOPOLOGY.FABRIC_DEVICE.ROW.HEIGHT}static createRowGAttrsFn(searchState){return selection=>{selection.attr("transform",(d,i)=>{const h=d.parentFtnt.headHeight,offsetY=i*TOPOLOGY.FABRIC_DEVICE.ROW.HEIGHT;return chartUtil.transformXY(0,h+offsetY)}).attr("class",d=>{let className=`${IconNodeWithTable.d3SelectorClass} tr`;const id=BaseTopologyNode.d3KeyFn(d);return searchState&&!searchState.matches(id)&&(className=`${className} ${NO_SEARCH_MATCH}`),className}).attr("interact-type",d=>d.interactType)}}static rowLabelContent(selection){const ROW=TOPOLOGY.ICON_TABLE,textFontSize=chartUtil.toPx(TOPOLOGY.BASE_FONT_SIZE),rowHeight=TOPOLOGY.FABRIC_DEVICE.ROW.HEIGHT;selection.text(d=>d.label).attr("x",function(d){let margin=ROW.LABEL_MARGIN;return d.indentLevel&&(margin+=d.indentLevel*ROW.INDENTATION),margin}).attr("y",rowHeight/2).attr("dy",chartUtil.toPx(rowHeight/6)).attr("font-size",textFontSize).attr("class",d=>`name ${d.labelClass||""}`).style("pointer-events","none")}static rowIconContent(selection){const ROW=TOPOLOGY.ICON_TABLE,textFontSize=chartUtil.toPx(TOPOLOGY.BASE_FONT_SIZE),rowHeight=TOPOLOGY.FABRIC_DEVICE.ROW.HEIGHT;selection.text(d=>d.$iconCode&&d.$iconCode.unicode).attr("x",function(d){let margin=ROW.ICON_MARGIN;return d.indentLevel&&(margin+=d.indentLevel*ROW.INDENTATION),margin}).attr("y",rowHeight/2+1).attr("font-family",d=>d.$iconCode&&d.$iconCode.fontFamily||"").attr("text-anchor","middle").attr("alignment-baseline","central").attr("font-size",textFontSize).attr("class",d=>`icon ${d.labelClass||""}`).attr("fill",d=>d.$iconCode&&d.$iconCode.color||"black").style("pointer-events","none")}static rowRectContent(rectSelection){const rowHeight=TOPOLOGY.FABRIC_DEVICE.ROW.HEIGHT,rowWidth=TOPOLOGY.FABRIC_DEVICE.ROW.WIDTH;rectSelection.attr("width",rowWidth).attr("height",rowHeight).attr("fill",d=>`${d.fillColor||"white"}`).attr("class","td cursor-pointer")}static addTable(selection,rowGAttrsFn){const rows=selection.selectAll(`g.${IconNodeWithTable.d3SelectorClass}`).data(d=>(d.flattenedContents||[]).map(entry=>Object.assign({},entry,{parentFtnt:d})),BaseTopologyNode.d3KeyFn);rows.exit().remove();const rowEnter=rows.enter().append("g").call(rowGAttrsFn);rowEnter.append("rect").call(IconNodeWithTable.rowRectContent),rowEnter.append("text").call(IconNodeWithTable.rowIconContent),rowEnter.append("text").call(IconNodeWithTable.rowLabelContent);const merged=rows.merge(rowEnter);chartUtil.quickTransition(merged,rowGAttrsFn),chartUtil.quickTransition(merged.select("text.icon"),IconNodeWithTable.rowIconContent),chartUtil.quickTransition(merged.select("text.name"),IconNodeWithTable.rowLabelContent)}getRightMidpoint(tableRowId){if(!tableRowId)return this.headRightMidpoint;const pos=this.flattenedContents.findIndex(entry=>entry.id===tableRowId);if(pos<0)return this.headRightMidpoint;const midRowY=(pos+.5)*TOPOLOGY.FABRIC_DEVICE.ROW.HEIGHT,y=this.offset.y+this.headHeight+midRowY;return{x:this.offset.x+this.width,y:y}}getLeftMidpoint(tableRowId){if(!tableRowId)return this.headLeftMidpoint;const pos=this.flattenedContents.findIndex(entry=>entry.id===tableRowId);if(pos<0)return this.headLeftMidpoint;const midRowY=(pos+.5)*TOPOLOGY.FABRIC_DEVICE.ROW.HEIGHT,y=this.offset.y+this.headHeight+midRowY;return{x:this.offset.x,y:y}}get tableRightMidpointOffset(){const midRowY=(this.flattenedContents.length/2+.5)*TOPOLOGY.FABRIC_DEVICE.ROW.HEIGHT,y=this.headHeight+midRowY;return{x:this.width,y:y}}get tableLeftMidpointOffset(){const midRowY=(this.flattenedContents.length/2+.5)*TOPOLOGY.FABRIC_DEVICE.ROW.HEIGHT;return{x:0,y:this.headHeight+midRowY}}}IconNodeWithTable.PROPERTIES=[...IconNode.PROPERTIES,{name:"tableContent",required:!0}],module.exports=IconNodeWithTable},function(module,exports,__webpack_require__){"use strict";const TOPOLOGY=__webpack_require__(56).TOPOLOGY,chartUtil=__webpack_require__(60),iconCode=__webpack_require__(69),BaseTopologyNode=__webpack_require__(70);class GroupNode extends BaseTopologyNode{constructor(data,parentId,maxSiblingCount){super(),this.validateAndSetRequiredKeys(data);let mainIconName=chartUtil.getIconNameFromClass(this.iconClass);mainIconName||(mainIconName="fa-genderless"),this.$iconCode=iconCode.getIconCode(mainIconName),this.$id=`${parentId}::${this.label}::${this.count}`,this.$maxSiblingCount=maxSiblingCount}get $PROPERTIES(){return GroupNode.PROPERTIES}get width(){return TOPOLOGY.GROUP_NODE.ROW.WIDTH}get height(){return TOPOLOGY.GROUP_NODE.ROW.HEIGHT}static get d3SelectorClass(){return"group-node"}static d3KeyFn(d){return d.$id}static nodeGAttrs(selection){selection.attr("transform",(d,i)=>chartUtil.transformXY(0,i*TOPOLOGY.GROUP_NODE.ROW.HEIGHT)).attr("class",GroupNode.d3SelectorClass)}static leftRectAttrs(selection){const height=TOPOLOGY.GROUP_NODE.ROW.HEIGHT,roundedR=height/8,iconX=TOPOLOGY.GROUP_NODE.ICON_MARGIN,fontSize=TOPOLOGY.BASE_FONT_SIZE,maskWidth=TOPOLOGY.GROUP_NODE.MASK,baseWidth=fontSize+2*iconX+maskWidth;selection.attr("width",d=>baseWidth+`${d.$maxSiblingCount}`.length*fontSize/2).attr("height",height).attr("rx",roundedR).attr("ry",roundedR).attr("class","left-part")}static rightRectAttrs(selection){const height=TOPOLOGY.GROUP_NODE.ROW.HEIGHT,width=TOPOLOGY.GROUP_NODE.ROW.WIDTH,roundedR=height/8,iconX=TOPOLOGY.GROUP_NODE.ICON_MARGIN,fontSize=TOPOLOGY.BASE_FONT_SIZE,maskWidth=TOPOLOGY.GROUP_NODE.MASK,baseWidth=fontSize+2*iconX+maskWidth,leftWidth=d=>baseWidth+`${d.$maxSiblingCount}`.length*fontSize/2;selection.attr("width",d=>width-leftWidth(d)).attr("height",height).attr("x",leftWidth).attr("rx",roundedR).attr("ry",roundedR).attr("class","right-part")}static maskRectAttrs(selection){const height=TOPOLOGY.GROUP_NODE.ROW.HEIGHT,iconX=TOPOLOGY.GROUP_NODE.ICON_MARGIN,fontSize=TOPOLOGY.BASE_FONT_SIZE,maskWidth=TOPOLOGY.GROUP_NODE.MASK,baseWidth=fontSize+2*iconX+maskWidth;selection.attr("width",maskWidth).attr("height",height).attr("x",d=>(d=>baseWidth+`${d.$maxSiblingCount}`.length*fontSize/2)(d)-maskWidth/2).attr("class","mask").style("stroke-dasharray",`${maskWidth},${height},${maskWidth+height}`)}static iconAttrs(selection){const height=TOPOLOGY.GROUP_NODE.ROW.HEIGHT,iconX=TOPOLOGY.GROUP_NODE.ICON_MARGIN,fontSize=TOPOLOGY.BASE_FONT_SIZE;selection.attr("class",d=>`icon f-icon ${d.iconClass}`).attr("font-family",d=>d.$iconCode&&d.$iconCode.fontFamily||"").attr("font-size",chartUtil.toPx(fontSize)).attr("x",iconX).attr("y",(height+fontSize)/2).style("pointer-events","none").text(d=>d.$iconCode&&d.$iconCode.unicode||"")}static countAttrs(selection){const height=TOPOLOGY.GROUP_NODE.ROW.HEIGHT,iconX=TOPOLOGY.GROUP_NODE.ICON_MARGIN,fontSize=TOPOLOGY.BASE_FONT_SIZE,countTextX=fontSize+2*iconX;selection.attr("x",countTextX).attr("y",height/2).attr("dy",chartUtil.toPx(height/6)).attr("font-size",chartUtil.toPx(fontSize)).attr("class","count").style("pointer-events","none").text(d=>d.count)}static nameAttrs(selection){const height=TOPOLOGY.GROUP_NODE.ROW.HEIGHT,iconX=TOPOLOGY.GROUP_NODE.ICON_MARGIN,fontSize=TOPOLOGY.BASE_FONT_SIZE,maskWidth=TOPOLOGY.GROUP_NODE.MASK,baseWidth=fontSize+2*iconX+maskWidth;selection.attr("x",d=>baseWidth+`${d.$maxSiblingCount}`.length*fontSize/2).attr("y",height/2).attr("dy",chartUtil.toPx(height/6)).attr("font-size",chartUtil.toPx(fontSize)).attr("class","type-text right-part").text(d=>d.label)}static onD3SelectionEnter(selectionEnter){selectionEnter.append("rect").call(GroupNode.leftRectAttrs),selectionEnter.append("rect").call(GroupNode.rightRectAttrs),selectionEnter.append("rect").call(GroupNode.maskRectAttrs),selectionEnter.append("text").call(GroupNode.iconAttrs),selectionEnter.append("text").call(GroupNode.countAttrs),selectionEnter.append("text").call(GroupNode.nameAttrs)}static onD3SelectionUpdate(selection){chartUtil.quickTransition(selection.select("rect.left-part"),GroupNode.leftRectAttrs),chartUtil.quickTransition(selection.select("rect.right-part"),GroupNode.rightRectAttrs),chartUtil.quickTransition(selection.select("rect.mask"),GroupNode.maskRectAttrs),chartUtil.quickTransition(selection.select("text.icon"),GroupNode.iconAttrs),chartUtil.quickTransition(selection.select("text.count"),GroupNode.countAttrs),chartUtil.quickTransition(selection.select("text.name"),GroupNode.nameAttrs),chartUtil.quickTransition(selection,GroupNode.nodeGAttrs)}}GroupNode.PROPERTIES=[{name:"interactType",required:!0},{name:"label",required:!0},{name:"iconClass",required:!0},{name:"count",required:!0}],module.exports=GroupNode},function(module,exports,__webpack_require__){"use strict";const d3=__webpack_require__(48),chartUtil=__webpack_require__(60),TOPOLOGY=__webpack_require__(56).TOPOLOGY,NO_SEARCH_MATCH=TOPOLOGY.CLASS.NO_SEARCH_MATCH,iconCode=__webpack_require__(69);class LinkBadge{constructor(data){this._preProcess(data)}_preProcess(data){data.main&&(this.mainIcon=iconCode.getIconCode(data.main)),data.effect&&(this.effectIcon=iconCode.getIconCode(data.effect))}static get d3SelectorClass(){return"link-badge"}static get d3MainTextClass(){return"link-badge-main"}static get d3EffectTextClass(){return"link-badge-effect"}static d3KeyFn(d){return`link-badge-${d.source.linkId}`}static get SIZE(){return TOPOLOGY.BASE_FONT_SIZE*TOPOLOGY.LINK.ICON.SCALE}static diagonalMidPoint(d){const result={},src=d.source,dst=d.target;if(result.y=dst.y+(src.y-dst.y)/2,src.y===dst.y)result.x=dst.x+(src.x-dst.x)/2;else{const minX=(src.divisionHMargin||{}).minX,maxX=(dst.divisionHMargin||{}).maxX,srcX=minX||src.x,dstX=maxX||dst.x;result.x=dstX+(srcX-dstX)/2}return result}static createGAttrsFn(searchState,linkPathFn){return selection=>{selection.attr("class",d=>{let className=LinkBadge.d3SelectorClass;const id=d.source&&d.source.linkId;return searchState&&!searchState.matches(id)&&(className=`${className} ${NO_SEARCH_MATCH}`),className}).attr("transform",function(d){const src=d.source,dst=d.target;if(src.verticalPlacement)return chartUtil.transformXY(src.x,(src.y-dst.y)/2+dst.y);if(src.y===dst.y)return chartUtil.transformXY((src.x-dst.x)/2+dst.x,src.y);const cDivisionMinX=(src.divisionHMargin||{}).minX;if(src.x>cDivisionMinX&&src.x-cDivisionMinX>LinkBadge.SIZE)return chartUtil.transformXY(cDivisionMinX,src.y);const path=document.createElementNS("http://www.w3.org/2000/svg","path");if(path.setAttributeNS(null,"d",linkPathFn(d)),path&&path.getTotalLength&&path.getPointAtLength){const l=path.getTotalLength(),midPoint=path.getPointAtLength(.2*l);return chartUtil.transformXY(midPoint.x,midPoint.y)}const fallbackMidPoint=LinkBadge.diagonalMidPoint(d);return chartUtil.transformXY(fallbackMidPoint.x,fallbackMidPoint.y)})}}static mainIconAttrs(selection){selection.attr("font-family",d=>d.linkBadge.mainIcon.fontFamily).attr("fill",TOPOLOGY.LINK.ICON.COLOR).attr("class",LinkBadge.d3MainTextClass).text(d=>d.linkBadge.mainIcon.unicode),selection.call(LinkBadge.commonAttrs)}static effectIconAttrs(selection){selection.attr("font-family",d=>d.linkBadge.effectIcon.fontFamily).attr("fill","white").attr("class",LinkBadge.d3EffectTextClass).text(d=>d.linkBadge.effectIcon.unicode),selection.call(LinkBadge.commonAttrs)}static commonAttrs(selection){selection.attr("font-size",chartUtil.toPx(LinkBadge.SIZE)).attr("text-anchor","middle").style("cursor","pointer")}static onD3SelectionEnter(selectionEnter){selectionEnter.append("text").call(LinkBadge.mainIconAttrs),selectionEnter.append("text").call(LinkBadge.effectIconAttrs),selectionEnter.on("mouseover",function(){d3.select(this).style("opacity",.9)}).on("mouseout",function(){d3.select(this).style("opacity","unset")})}}module.exports=LinkBadge},,,function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-block-resizer.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'\n<div class="blocks">\n    <div class="column-block" ng-repeat="x in $ctrl.range($ctrl.maxWidth)">\n        <div class="row-block" ng-repeat="y in $ctrl.range($ctrl.maxHeight)"\n            ng-class="{\n                \'selected\': x < $ctrl.width && y < $ctrl.height,\n                \'hover\': x <= $ctrl.includedX && y <= $ctrl.includedY\n            }"\n            ng-click="$ctrl.clickBlock(x, y)"\n            ng-mouseenter="$ctrl.mouseOver(x, y)">\n        </div>\n    </div>\n</div>\n\n<div class="size-label">\n    {{$ctrl.widthLabel()}} x {{$ctrl.heightLabel()}}\n</div>\n')}]),module.exports=path},function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-dashboard.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<div class="f-menu-bar">\n    <div f-menu-bar>\n        <div class="menu-bar-component" ng-transclude>\n        </div>\n    </div>\n</div>\n<div class="dashboard-body-container">\n    <div class="flex-centered loading-indication"\n        ng-class="{\'dashboard-invisible\': !$ctrl.loading, masking: $ctrl.loading && $ctrl._initialized}">\n        <f-icon class="fa-loading icon-xxl"></f-icon>\n    </div>\n    <div class="flex-centered no-widgets" ng-if="!$ctrl.loading && $ctrl._initialized && $ctrl._numWidgets === 0">\n        {{::\'No widgets\' | lang}}\n    </div>\n    <div class="module-container dashboard-invisible"\n        ng-class="{\'dashboard-invisible\': !$ctrl._initialized, loading: $ctrl.loading}">\n        <ul class="module-list" ng-class="{\'dragging\': $ctrl.currentDraggingID}">\n            <li class="position-highlight">\n                <div class="widget-drop-target"></div>\n            </li>\n        </ul>\n    </div>\n</div>\n')}]),module.exports=path},function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-dashboard-widget.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<div class="widget-header">\n    <div class="widget-before-title" ng-transclude="beforeTitle"></div>\n    <div class="widget-title" ng-transclude="title" ng-class="{disabled: $ctrl.disabled}"></div>\n    <div class="widget-header-positioner"></div>\n    <div class="widget-controls">\n        <div ng-transclude="extra"></div>\n        <button type="button" class="button bare expansion-pinned-control" f-tip-target\n            ng-class="{primary: $ctrl._expansionPinned}"\n            ng-disabled="$ctrl.isZoomed"\n            ng-click="$ctrl.pinExpansion()">\n            <f-icon class="fa-thumb-tack"></f-icon>\n            <div f-tip>\n                {{::\'Expand & pin hidden content\' | lang}}\n            </div>\n        </button>\n        <button type="button" class="button bare" ng-if="$ctrl.supportsZoom"\n            ng-disabled="$ctrl._zoomToggled && $ctrl.zoomLocked" f-tip-target\n            ng-class="{primary: $ctrl._zoomToggled}" ng-click="$ctrl.toggleZoom()">\n            <f-icon class="ftnt-full-screen"></f-icon>\n            <div f-tip>\n                {{::\'Expand to full screen\' | lang}}\n            </div>\n        </button>\n        <button type="button" class="button bare" ng-disabled="$ctrl._zoomToggled"\n            f-pop-up-menu-toggle="$ctrl.controlMenu">\n            <f-icon class="fa-ellipsis-v"></f-icon>\n        </button>\n        <div f-pop-up-menu="$ctrl.controlMenu">\n            <div f-menu-item-submenu="$ctrl.sizeMenu">\n                <f-icon class="fa-arrows"></f-icon>\n                <span>{{::\'Resize\' | lang}}</span>\n            </div>\n            <div f-pop-up-menu="$ctrl.sizeMenu">\n                <f-block-resizer max-width="$ctrl.maxWidth"\n                    max-height="$ctrl.dashboardController.fixed ? $ctrl.maxHeight : 1"\n                    width="$ctrl.realizedWidth"\n                    height="$ctrl.realizedHeight"\n                    on-click="$ctrl.updateSize(width, height)">\n                </f-block-resizer>\n            </div>\n\n            <div f-menu-item-button ng-show="$ctrl.hasSettings" ng-click="$ctrl.onSettings({widget: $ctrl.widgetModel})">\n                <f-icon class="fa-cog"></f-icon>\n                <span>{{::\'Settings\' | lang}}</span>\n            </div>\n\n            <div class="separator" ng-show="$ctrl.columnSpanOptions.length > 1 || $ctrl.hasSettings">\n            </div>\n\n            <div f-menu-item-button ng-if="!$ctrl.permanent" click="$ctrl.remove()">\n                <f-icon class="fa-times"></f-icon>\n                <span>{{::\'Remove\' | lang}}</span>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class="widget-content-container" ng-class="{\'widget-loading\': $ctrl.loading,\n    disabled: $ctrl.disabled, \'no-content-margin\': $ctrl.noContentMargin}">\n    <div class="widget-loading-indication flex-centered">\n        <f-icon class="fa-loading icon-xxl"></f-icon>\n    </div>\n    <div class="widget-content" ng-transclude="content"></div>\n    <div class="overflow-indication">\n        <f-icon class="fa-angle-down"></f-icon>\n    </div>\n</div>\n<div class="widget-absolute" ng-class="{\'widget-loading\': $ctrl.loading}"\n    ng-transclude="absolute">\n</div>\n')}]),module.exports=path},function(module,exports,__webpack_require__){"use strict";__webpack_require__(35).factory("DebouncedLayoutTracker",function($$rAF,$rootScope){function DebouncedLayoutTracker(measure,$scope){this._waiting=!1,this._measure=measure,this.latest=this.latest.bind(this),this.$scope=$scope}return DebouncedLayoutTracker.prototype={latest:function(){return this._waiting||(this._waiting=!0,$$rAF(this._doMeasure.bind(this))),this._cachedLatest},_doMeasure:function(){var latest=this._cachedLatest;this._cachedLatest=this._measure(),latest!==this._cachedLatest&&(this.$scope||$rootScope).$apply(),this._waiting=!1}},DebouncedLayoutTracker})},function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-field.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<label ng-transclude="label" for="{{ $ctrl.labelFor || $ctrl._innerId }}"></label>\n<div ng-transclude="value" ng-show="!$ctrl.showReadView"></div>\n<div ng-if="$ctrl.showReadView">\n    <div ng-transclude="readView" class="flex-grow"></div>\n    <button type="button"\n            f-lang="Change"\n            ng-click="$ctrl.showReadView = false">\n    </button>\n</div>\n<label class="error"\n    ng-if="!$ctrl._showValidationMessage && !$ctrl.hideValidation"\n    ng-repeat="m in $ctrl._validationMessages track by $index">\n    {{ m }}\n</label>\n')}]),module.exports=path},function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-password-input.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<div class="input-container" ng-if="$ctrl.editing">\n    <input type="text" placeholder="{{$ctrl.placeholder}}" ng-model="$ctrl.syncHost.model"\n        id="{{$ctrl.pwId}}" f-ng-model-sync="$ctrl.syncHost"\n        name="{{$ctrl.modelName(\'-show\')}}"\n        ng-model-options="$ctrl.ngModelOptions" ng-if="$ctrl.showPassword">\n    <input type="password" placeholder="{{$ctrl.placeholder}}" ng-model="$ctrl.syncHost.model"\n        name="{{$ctrl.modelName()}}"\n        id="{{$ctrl.pwId}}" f-ng-model-sync="$ctrl.syncHost"\n        ng-model-options="$ctrl.ngModelOptions"\n        ng-if="!$ctrl.showPassword">\n</div>\n<input type="checkbox" class="visual-toggle password" ng-model="$ctrl.showPassword"\n    id="f-password-input_show_{{$ctrl.$id}}"\n    ng-if="$ctrl.editing  && $ctrl.plainTextToggle">\n<label for="f-password-input_show_{{$ctrl.$id}}"\n    ng-if="$ctrl.editing && $ctrl.plainTextToggle"></label>\n<span class="static-password" ng-if="!$ctrl.editing || $ctrl.disabled">â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢</span>\n<button ng-if="!$ctrl.editing && !$ctrl.disabled" type="button" f-lang="Change"\n    ng-click="$ctrl.editing = true" id="{{$ctrl.pwId}}"></button>')}]),module.exports=path},function(module,exports,__webpack_require__){"use strict";var ngModule=__webpack_require__(35),SetSequence=__webpack_require__(8).SetSequence;function NgModelSync($attrs){this._di={$attrs:$attrs}}NgModelSync.prototype={$onInit:function(){this.host._addTarget(this),this.field&&(this.field._add(this.ngModel,this._di.$attrs).ignoreValidation=!0)},$onDestroy:function(){this.host._removeTarget(this)},getValidationStatus:function(){return this.field&&this.field.getValidationStatus(this.ngModel)}},ngModule.directive("fNgModelSync",function(){return{require:{ngModel:"ngModel",field:"?^fField"},controllerAs:"$fNgModelSync",bindToController:{host:"<fNgModelSync"},controller:NgModelSync}}),ngModule.factory("NgModelSyncHost",function($rootScope,$parse){function NgModelSyncHost(){this.targets=new SetSequence,this._deregistrationFns=[]}return NgModelSyncHost.prototype={model:null,_validationStatus:null,targets:null,init:function(ngModel,validationStatus){if(this._validationStatus=validationStatus,this._deregistrationFns.push($rootScope.$watch(function(){return this.model}.bind(this),function(value,oldValue){value!==oldValue&&ngModel.$setViewValue(value)})),ngModel.$render!==angular.noop)throw new Error("Not Implemented. Don't set ngModel.$render,  or implement this with proxy pattern if you actually need it");ngModel.$render=function(){this.model=ngModel.$modelValue}.bind(this);var expr=["error","pending","untouched","touched","pristine","dirty","valid","invalid"].map(function(property){return property+":$"+property}).join(","),parsedExpr=$parse("{"+expr+"}");this._deregistrationFns.push($rootScope.$watch(function(){return parsedExpr(ngModel)},this._updateTargets.bind(this),!0)),validationStatus&&this._deregistrationFns.push($rootScope.$watch(this._targetValidationStatuses.bind(this),this._updateValidationStatus.bind(this),!0))},destroy:function(){this._deregistrationFns.forEach(function(fn){fn()}),this._deregistrationFns.length=0},_addTarget:function(passwordInput){this.targets.add(passwordInput),this._updateTargets()},_removeTarget:function(passwordInput){this.targets.delete(passwordInput)},_targetValidationStatuses:function(){return this.targets.map(function(t){return t.getValidationStatus()}).toArray()},_updateValidationStatus:function(statuses){statuses.length&&(this._validationStatus.showMessage=statuses.some(function(vs){return vs.showMessage}))},_updateTargets:function(properties,oldProperties){var actions={$valid:"$validate",$dirty:"$setDirty",$pristine:"$setPristine",$touched:"$setTouched",$untouched:"$setUntouched"};if(properties=properties||this._currentModelProperties){this._currentModelProperties=properties;for(var i,property,ngModel,errorKeys,targets=this.targets.values(),$properties=Object.keys(properties).reduce(add$(properties),{}),$oldProperties=Object.keys(oldProperties||{}).reduce(add$(oldProperties),{$error:{}});!(i=targets.next()).done;)for(property in ngModel=i.value.ngModel,errorKeys=new Set(Object.keys(ngModel.$error).concat(Object.keys($properties.$error)).concat(Object.keys($oldProperties.$error))),Object.assign(ngModel,$properties),errorKeys.forEach(setModelValidity(ngModel,$properties.$error)),actions)$properties[property]&&ngModel[actions[property]]()}function add$(obj){return function(result,prop){return result["$"+prop]=obj[prop],result}}function setModelValidity(ngModelContoller,validityMap){return function(validationErrorKey){ngModelContoller.$setValidity(validationErrorKey,!validityMap[validationErrorKey])}}}},NgModelSyncHost})},function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-hero-radio.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'\x3c!-- <label>\n    <span ng-transclude class="hero"\n        ng-class="{\'checked\': $ctrl.isChecked(), \'disabled\': $ctrl.isDisabled() }"></span>\n    <label for="{{ $ctrl.for }}">\n        <div class="hero-circle">\n            <f-icon class="{{ $ctrl.icon }} icon-xl"></f-icon>\n        </div>\n        <label for="{{ $ctrl.for }}">{{ $ctrl.label }}</label>\n    </label>\n</label> --\x3e\n<label f-tip-target>\n    <input type="radio"\n        ng-attr-id="{{$ctrl.id}}"\n        ng-attr-name="{{$ctrl.name}}"\n        ng-attr-value="{{$ctrl.value}}"\n        ng-model="$ctrl.radioGroup.model"\n        ng-disabled="$ctrl.disabled"\n        ng-required="$ctrl.required">\n    <div class="hero-label" ng-transclude ng-click="$ctrl.toggleIfSelected($event)">\n    </div>\n</label>')}]),module.exports=path},function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-select.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<button type="button" class="bare" ng-if="$ctrl.showInlineEditShortcut()"\n    ng-disabled="$ctrl.inlineEditDisabled || $ctrl.ngModel.$isEmpty($ctrl.ngModel.$modelValue)"\n    ng-click="$ctrl.inlineEdit()" title="{{::$ctrl.editText}}">\n    <f-icon class="fa-pencil"></f-icon>\n</button>\n')}]),module.exports=path},function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-tree-view.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<ul>\n    <li ng-repeat="node in treeView.nodeList | limitTo:treeView._toggledLimit track by node.id"\n        ng-if="node.visible"\n        ng-class="{\n            \'has-children\': node.children.length > 0,\n            \'has-expansion-control\': treeView.expansionControls\n        }">\n        <div class="edges-container">\n            <div class="edges" ng-repeat="ancestorId in node.path">\n                <div class="edge to-self" ng-if="$last">\n                </div>\n                <div class="edge last-child" ng-if="$last && treeView.isLast(ancestorId, $parent.$index)">\n                </div>\n                <div class="edge to-sibling" ng-if="!treeView.isLast(ancestorId, $parent.$index)">\n                </div>\n            </div>\n            <div class="edges expansion-control" ng-if="treeView.expansionControls">\n                <button type="button"\n                    class="compact-visual-toggle"\n                    ng-if="node.children.length > 0"\n                    ng-class="{\n                        \'active\': node.expanded\n                    }"\n                    ng-click="node.toggleExpansion()">\n                </button>\n                <div class="edge to-child" ng-if="node.children.length > 0 && node.expanded">\n                </div>\n                <div class="edge to-self" ng-if="node.path.length > 0 && node.children.length === 0">\n                </div>\n            </div>\n        </div>\n        <div class="tree-node-container">\n            <div class="indent" ng-repeat="ancestorId in node.path"></div>\n            <div class="indent" ng-if="treeView.expansionControls"></div>\n            <f-tree-node source="node.source">\n                <div class="edge to-child" ng-if="node.children.length > 0 && !treeView.expansionControls">\n                </div>\n            </f-tree-node>\n        </div>\n    </li>\n    <li ng-if="treeView.limit && (treeView.nodeList.length > treeView.limit)">\n        <a href="#" ng-click="treeView.toggleLimit($event)">\n            <button type="button"\n                class="compact-visual-toggle"\n                ng-class="{\n                    \'active\': !treeView._toggledLimit\n                }">\n            </button>\n            <span ng-if="treeView._toggledLimit">\n                {{ \'{0} more\' | lang:[treeView.nodeList.length - treeView._toggledLimit] }}\n            </span>\n            <span ng-if="!treeView._toggledLimit">\n                {{:: \'Collapse\' | lang }}\n            </span>\n        </a>\n    </li>\n</ul>\n')}]),module.exports=path},function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-mutable-edit-sequence-grouping.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<f-dialog hide-title="::true" form="$ctrl.form" submit="$ctrl.submit()" cancel="$ctrl.cancel()">\n    <section>\n        <div class="field">\n            <label for="name">\n                {{::\'Sequence Grouping Name\' | lang}}\n            </label>\n            <div>\n                <input type="text" name="name" ng-model="$ctrl.label" required\n                    ng-pattern="::$ctrl.XSS_REGEX" mutable-unique-sequence-group>\n            </div>\n            <label class="error" ng-if="$ctrl.form.name.$error.pattern">\n                {{::\'Invalid characters < > ( ) # \\\' "\' | lang}}\n            </label>\n            <label class="error" ng-if="$ctrl.form.name.$error.mutableUniqueSequenceGroup">\n                {{::\'Duplicate Entry Found\' | lang}}\n            </label>\n        </div>\n    </section>\n</f-dialog>\n')}]),module.exports=path},function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-mutable-filter.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<div f-menu-item-submenu="$ctrl.filterMenu" ng-if="$ctrl.isVisible()">\n    <f-icon class="fa-filter"></f-icon>\n    <span>{{\'Filter by {0}\' | lang: [$ctrl.columnLabel]}}</span>\n</div>\n<div class="mutable-filter-menu" f-pop-up-menu="$ctrl.filterMenu">\n    <div class="flex-centered" ng-if="!$ctrl.valueResolved">\n        <f-icon class="fa-loading"></f-icon>\n    </div>\n    <div ng-if="$ctrl.valueResolved && !$ctrl.valueIsEmpty">\n        <div ng-if="$ctrl.column.type === \'standard\' || $ctrl.isCollectionFallback">\n            <div class="heading">\n                {{::\'Contains\' | lang}}\n            </div>\n            <div f-menu-item-button click="$ctrl.applyStandardFilter()">\n                <f-mutable-value-formatted value="$ctrl.value">\n                </f-mutable-value-formatted>\n            </div>\n            <div class="heading">\n                {{::\'Does not contain\' | lang}}\n            </div>\n            <div f-menu-item-button click="$ctrl.applyStandardFilter($ctrl.COMMON_TYPE.NOT)">\n                <f-mutable-value-formatted value="$ctrl.value">\n                </f-mutable-value-formatted>\n            </div>\n        </div>\n        <div ng-if="$ctrl.isCollection && !$ctrl.isCollectionFallback">\n            <div class="heading">\n                {{::\'Contains\' | lang}}\n            </div>\n            <div f-menu-item-button ng-repeat="entry in $ctrl.collectionEntries track by $index"\n                click="$ctrl.applyCollectionFilter(entry)">\n                <f-mutable-value-formatted value="$ctrl.value" collection-entry="entry">\n                </f-mutable-value-formatted>\n            </div>\n            <div class="heading">\n                {{::\'Does not contain\' | lang}}\n            </div>\n            <div f-menu-item-button ng-repeat="entry in $ctrl.collectionEntries track by $index"\n                click="$ctrl.applyCollectionFilter(entry, $ctrl.COMMON_TYPE.NOT)">\n                <f-mutable-value-formatted value="$ctrl.value" collection-entry="entry">\n                </f-mutable-value-formatted>\n            </div>\n        </div>\n        <div ng-if="$ctrl.column.type === \'number\'">\n            <div f-menu-item-button click="$ctrl.applyNumberFilter($ctrl.NUMBER_TYPE.EQUAL_TO)">\n                =&nbsp;\n                <f-mutable-value-formatted value="$ctrl.value"></f-mutable-value-formatted>\n            </div>\n            <div f-menu-item-button click="$ctrl.applyNumberFilter($ctrl.NUMBER_TYPE.LESS_THAN_EQUAL_TO)">\n                &lt;=&nbsp;\n                <f-mutable-value-formatted value="$ctrl.value"></f-mutable-value-formatted>\n            </div>\n            <div f-menu-item-button click="$ctrl.applyNumberFilter($ctrl.NUMBER_TYPE.GREATER_THAN_EQUAL_TO)">\n                &gt;=&nbsp;\n                <f-mutable-value-formatted value="$ctrl.value"></f-mutable-value-formatted>\n            </div>\n        </div>\n        <div ng-if="$ctrl.column.type === \'date\'">\n            <div class="heading">\n                <f-mutable-value-formatted value="$ctrl.value"></f-mutable-value-formatted>\n            </div>\n            <div f-menu-item-button click="$ctrl.applyDateFilter($ctrl.DATE_TYPE.EQUAL_TO)">\n                {{::\'Same date & time\' | lang}}\n            </div>\n            <div f-menu-item-button click="$ctrl.applyDateFilter($ctrl.DATE_TYPE.LESS_THAN_EQUAL_TO)">\n                {{::\'Same date & time or before\' | lang}}\n            </div>\n            <div f-menu-item-button click="$ctrl.applyDateFilter($ctrl.DATE_TYPE.GREATER_THAN_EQUAL_TO)">\n                {{::\'Same date & time or after\' | lang}}\n            </div>\n            <div class="separator"></div>\n            <div f-menu-item-button\n                click="$ctrl.applyDateFilter($ctrl.DATE_TYPE.WITHIN, $ctrl.DATE_PERIOD.FIVE_MINUTES)">\n                {{::\'+/- 5 minutes of date & time\' | lang}}\n            </div>\n            <div f-menu-item-button\n                click="$ctrl.applyDateFilter($ctrl.DATE_TYPE.WITHIN, $ctrl.DATE_PERIOD.ONE_HOUR)">\n                {{::\'+/- 1 hour of date & time\' | lang}}\n            </div>\n            <div f-menu-item-button\n                click="$ctrl.applyDateFilter($ctrl.DATE_TYPE.WITHIN, $ctrl.DATE_PERIOD.TWENTY_FOUR_HOURS)">\n                {{::\'+/- 24 hours of date & time\' | lang}}\n            </div>\n        </div>\n    </div>\n    <div ng-if="$ctrl.valueResolved && $ctrl.valueIsEmpty">\n        <div class="info-text">\n            {{::\'No value\' | lang}}\n        </div>\n    </div>\n</div>\n')}]),module.exports=path},function(module,exports,__webpack_require__){"use strict";module.exports={COLLECTED:Symbol("Collected"),COLLECTABLE_MIXIN:Symbol("CollectableMixin"),COLLECTABLE_INJECT_WRAP:Symbol("CollectableInjectWrap"),Q_ASYNC_SYMBOL:Symbol("QAsyncMembers")}},function(module,exports,__webpack_require__){"use strict";var ngModule=__webpack_require__(35),inject=__webpack_require__(131);const TEMPLATE_URL=__webpack_require__(717);__webpack_require__(407);ngModule.component("fDateTime",{bindings:{min:"<",max:"<",step:"<?"},require:{ngModel:"ngModel",field:"?^fField"},controller:class extends inject.Collectable{constructor(NgModelSyncHost,$attrs,$scope){super(),this._di={$scope:$scope,$attrs:$attrs},this.syncHost=new NgModelSyncHost}$onInit(){this.syncHost.init(this.ngModel,this.field&&this.field._add(this.ngModel,this._di.$attrs)),this.setupWatch()}$onDestroy(){this.field&&this.field._remove(this._ngModel,this._di.$attrs),this.syncHost.destroy()}setDateExternal(){this.lastSetValue=this.date,this.ngModel.$setViewValue(this.date)}setTimeExternal(){if(!this.time)return this.ngModel.$setViewValue(this.time);let newDateTime=new Date(this.time);newDateTime.setHours(this.time.getHours()),newDateTime.setMinutes(this.time.getMinutes()),this.step&&newDateTime.setSeconds(this.time.getSeconds()),newDateTime.setDate(this.date.getDate()),newDateTime.setMonth(this.date.getMonth()),newDateTime.setFullYear(this.date.getFullYear()),this.lastSetValue=newDateTime,this.ngModel.$setViewValue(newDateTime)}setupWatch($INJECTABLE$,$scope){return()=>{$scope.$watch("$ctrl.ngModel.$viewValue",value=>{this.ngModel.$viewValue instanceof Date&&value instanceof Date?this.lastSetValue&&value.getTime()===this.lastSetValue.getTime()||(this.date=this.trimDate(value),this.time=this.trimDate(value),this.lastSetValue=value):this.ngModel.$setViewValue(value)})}}trimDate(date){return date=new Date(date),this.step||date.setSeconds(0),date.setMilliseconds(0),date}},templateUrl:TEMPLATE_URL}),ngModule.directive("fDateTimeMin",function(){return{require:{ngModel:"ngModel",fField:"?^fField"},link:function(scope,elem,attrs,ctrl){ctrl.ngModel.$validators.fDateTimeMin=(value=>{if(ctrl.ngModel.$isEmpty(value))return!0;return value>=scope.$eval(attrs.fDateTimeMin)}),ctrl.fField&&attrs.$observe("fDateTimeMin",value=>{(ctrl.date=scope.$eval(value))instanceof Date&&ctrl.fField.setValidationData("fDateTimeMin",`${ctrl.date.toLocaleDateString()} ${ctrl.date.toLocaleTimeString()}`)})}}}),ngModule.directive("fDateTimeMax",function(){return{require:{ngModel:"ngModel",fField:"?^fField"},link:function(scope,elem,attrs,ctrl){ctrl.ngModel.$validators.fDateTimeMax=(value=>{if(ctrl.ngModel.$isEmpty(value))return!0;return value<scope.$eval(attrs.fDateTimeMax)}),ctrl.fField&&attrs.$observe("fDateTimeMax",value=>{(ctrl.date=scope.$eval(value))instanceof Date&&ctrl.fField.setValidationData("fDateTimeMax",`${ctrl.date.toLocaleDateString()} ${ctrl.date.toLocaleTimeString()}`)})}}})},function(module,exports){var path="/.build/gui_shared_export/ng/directives/menu/partials/radio_options.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<div class="radio-buttons">\n    <div f-menu-item-button ng-repeat="option in options"\n        extra-class="radio-button"\n        click="setSelected(option.value)"\n        selected="selected === option.value">\n        {{option.label | lang}}\n        <span ng-if="option.count" class="number-bubble">{{ option.count }}</span>\n    </div>\n</div>\n')}]),module.exports=path},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";var util=__webpack_require__(39),Tooltip=__webpack_require__(59);window.Chart=function($){var COLOR_RE=/rgb\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)/,LOADING_ICON='<f-icon class="fa-loading icon-xxl chart-loading-icon"></f-icon>',EMPTY_CHART_PLACEHOLDER='<div class="empty-placeholder"></div>',CLASSES={CHART_EMPTY:"chart-empty",CHART_LOADING:"chart-loading",CHART_LOADING_RESIZING:"chart-loading-resizing",CHART_HIDE:"chart-hide"},id_index=1;function FlotChart(params){this.id=id_index++,this.$graph=$('<div class="chart"></div>'),this.$element=params.element.addClass("chart-container "+CLASSES.CHART_LOADING).empty().append(this.$graph).append('<div class="chart-mask">'+LOADING_ICON+EMPTY_CHART_PLACEHOLDER+"</div>"),this.dimensions={},this.update(params)}return FlotChart.prototype.COLORS={BLUE:"rgb(33, 150, 243)",AMBER:"rgb(255, 193, 7)",PINK:"rgb(233, 30, 99)",GREEN:"rgb(76, 175, 80)",RED:"rgb(244, 67, 54)",PURPLE:"rgb(156, 39, 176)",DEEP_PURPLE:"rgb(103, 58, 183)",INDIGO:"rgb(63, 81, 181)",LIGHT_BLUE:"rgb(3, 169, 244)",CYAN:"rgb(0, 188, 212)",TEAL:"rgb(0, 150, 136)",LIGHT_GREEN:"rgb(139, 195, 74)",LIME:"rgb(205, 220, 57)",YELLOW:"rgb(255, 235, 59)",ORANGE:"rgb(255, 152, 0)",DEEP_ORANGE:"rgb(255, 87, 34)",BROWN:"rgb(121, 85, 72)",GREY:"rgb(158, 158, 158)",BLUE_GREY:"rgb(96, 125, 139)"},FlotChart.prototype.DEFAULT_COLORS=Object.keys(FlotChart.prototype.COLORS).map(function(key){return FlotChart.prototype.COLORS[key]}),FlotChart.prototype.update=function(params,render){util.objectIsThenable(params)&&(render&&(this.is_loading=!0,this.$element.addClass(CLASSES.CHART_LOADING).removeClass(CLASSES.CHART_EMPTY)),Promise.resolve(params).then(resolvedParams=>{this.update(resolvedParams,render)}));var OPTIONS={data:void 0,options:{},tooltips:!1,tooltip_formatter:function(label,x,y){return label+": "+y},events:{},legend_container:void 0,empty_chart_text:"No data"};if(Object.keys(OPTIONS).forEach(function(key){this[key]=null!=params[key]?params[key]:OPTIONS[key]}.bind(this)),params.options&&!this.options.colors&&(this.options.colors=this.DEFAULT_COLORS),this.plot=$.Deferred(),params.legend_container){var $legend_container=$(params.legend_container);$legend_container.addClass("flot-legend").empty(),this.options.legend={show:!1},$.when(this.plot).then(function(plot){plot.getData().forEach(function(series){var $seriesColor=$("<span>").addClass("legend-series-color").css("background-color",series.color),$series=$("<div>").addClass("legend-series").text(series.label);$series.prepend($seriesColor),$legend_container.append($series)})})}render&&!this._resizing&&this.render()},FlotChart.prototype.render=function(){var draw=function(data){var dimensions=this._get_dimensions(),valid=this._check_dimensions_validity(dimensions);if(valid){this.$graph.off(),this.is_loading=!1,this.$element.removeClass([CLASSES.CHART_EMPTY,CLASSES.CHART_LOADING,CLASSES.CHART_LOADING_RESIZING,CLASSES.CHART_HIDE].join(" ")),this.tooltips&&!this.events.plothover&&this._setup_tooltips();var previousRender=this._previousRender||(this._previousRender={}),plot=previousRender.plot;!plot||previousRender.placeholder!==this.$graph||previousRender.options!==this.options?(plot=$.plot(this.$graph,data,this.options),previousRender.placeholder=this.$graph,previousRender.options=this.options,previousRender.plot=plot):(dimensions.width===this.dimensions.width&&dimensions.height===this.dimensions.height||plot.resize(),plot.setData(data),plot.setupGrid(),plot.draw()),this.plot.resolve(plot),Object.keys(this.events).forEach(function(key){this.$graph.on(key,this.events[key])}.bind(this)),this.dimensions=dimensions,this._dimensionsChanged=!1,this._resizing=!1;var grid=this.options.grid;grid&&grid.clickable&&this.$graph.on("plothover",function(event,pos,item){this.$graph.toggleClass("clickable",!!item)}.bind(this)),function(checkPlot){var data=checkPlot.getData();return!Array.isArray(data)||!data.length||Number.isNaN(data[0].percent)||data[0].label&&!data[0].data}(plot)&&(this.$element.addClass(CLASSES.CHART_EMPTY).addClass(CLASSES.CHART_HIDE),this.$element.find(".empty-placeholder").html(this.empty_chart_text))}return valid}.bind(this);this.data&&(this.is_loading=!0,this.$element.addClass(CLASSES.CHART_LOADING).removeClass(CLASSES.CHART_EMPTY),(util.objectIsThenable(this.data)?this.data:$.when(this.data)).then(function(data){draw(data)||this.check_needs_redraw()}.bind(this)))},FlotChart.prototype._debounced_redraw=util.debounce(500,function(){var dimensions=this._get_dimensions();this._dimensionsChanged&&this._check_dimensions_validity(dimensions)&&this.render()}),FlotChart.prototype.check_needs_redraw=function(){if(!this._resizing){if(!this._dimensionsChanged){var dimensions=this._get_dimensions(),width_changed=dimensions.width!==this.dimensions.width,height_changed=dimensions.height!==this.dimensions.height;this._dimensionsChanged=width_changed||height_changed}this._debounced_redraw()}},FlotChart.prototype.toggle_resizing=function(resizing){var wasResizing=this._resizing;this._resizing=resizing,resizing?this.$element.addClass(CLASSES.CHART_LOADING_RESIZING):wasResizing&&this.render()},FlotChart.prototype.redraw_on_window_resize=function(enable){var event="resize.flot_chart"+this.id;enable?$(window).on(event,function(){this.check_needs_redraw()}.bind(this)):$(window).off(event)},FlotChart.prototype._get_dimensions=function(){return{width:this.$element.width(),height:this.$element.height(),visible:this.$element.is(":visible")}},FlotChart.prototype._check_dimensions_validity=function(dimensions){return dimensions.visible&&dimensions.width&&dimensions.height>25},FlotChart.prototype._get_tooltip=function(){return this.tooltip||(this.tooltip=new Tooltip({class:"chart-tooltip",followCursor:!1,padContent:!1,transition:!1})),this.tooltip},FlotChart.prototype._setup_tooltips=function(){var tooltip=this._get_tooltip();this.options.grid=this.options.grid||{},this.options.grid.hoverable=!0,this.$graph.on("plothover",function(event,pos,item){var text,color,div=$("<div></div>");if(item){if(text=this.tooltip_formatter(item.series.label,item.datapoint[0],item.series.data[item.dataIndex][1],item),!COLOR_RE.test(item.series.color))throw new Error("Series colors must be in rgb form");color=item.series.color.slice(0,-1).replace("rgb","rgba")+",0.7)",div.css("background-color",color).html(text),tooltip.show(div[0],pos.pageX,pos.pageY)}else tooltip.hide()}.bind(this))},FlotChart}(jQuery)},function(module,exports,__webpack_require__){"use strict";const util=__webpack_require__(39),browser=__webpack_require__(74),Mask=__webpack_require__(205),Destroyable=__webpack_require__(206),TooltipTarget=__webpack_require__(567),TooltipPlacement=__webpack_require__(364);function Tooltip(options,targetWindow,container){this._window=targetWindow||Tooltip.DEFAULT_TARGET_WINDOW,this._document=this._window.document,this._container=container||Tooltip.DEFAULT_CONTAINER||this._document.body,this._element=this._document.createElement("div"),this._element.classList.add("base-tooltip"),this._contentElement=this._document.createElement("div"),this._contentElement.classList.add("base-tooltip-content"),this._element.appendChild(this._contentElement),this._innerContentElement=this._document.createElement("div"),this._contentElement.appendChild(this._innerContentElement),this._footerElement=this._document.createElement("div"),this._footerElement.classList.add("base-tooltip-footer"),this._footerElement.innerHTML="<span>"+Tooltip.FOOTER_CLOSE_TEXT+"</span>",this._contentElement.appendChild(this._footerElement),this._addedToDOM=!1,this._id=util.uniqueID(),this.visible=!1,this._showPending=!1,this._visibleSince=null,this._content=null,this._contentRendered=!1,this._showTimeout=null,this._hideTimeout=null,this._triggerElement=null,this._triggerElementMoveListener=null,this._triggerElementLeaveListener=null,this._triggerElementClickListener=null,this._triggerMouseDownListener=null,this._containerScrollListener=null,this._onShowCallback=null,this._onHideCallback=null,this._onDestroyCallback=null,this._transitionInProgress=!1,this._listeningOnScroll=!1,this._lastPlacementLocation=null,this._lastLeft=null,this._lastTop=null,this._target=null,this._cursorInsideContent=!1,this._maskInstance=null,this._showDelay=null,this._showDelayPeriod=null,this._transition=null,this._placementLocation=null,this._fixed=null,this._fixedPeriod=null,this._maxWidth=null,this._hideOnScroll=null,this._mask=null,this.setDisplayOptions(options),this._hide(),this._startContentHoverListener(),this._startContentClickListener(),this._startContentTapListener(),this._startTransitionListener()}Tooltip.DEFAULT_TARGET_WINDOW=window,Tooltip.DEFAULT_CONTAINER=null,Tooltip.FOOTER_CLOSE_TEXT="Tap to close",Tooltip.CLOSE_ON_CLICK_ATTRIBUTE="tooltip-close-on-click",Tooltip.prototype=Object.create(Destroyable.prototype),Tooltip.prototype.constructor=Tooltip,Tooltip.PLACEMENT_TYPE=TooltipTarget.TYPE,Tooltip.PLACEMENT_LOCATION=TooltipPlacement.LOCATION,Tooltip.DEFAULT_DISPLAY_OPTIONS={allowVerticalAdjustment:!0,autoPositionUpdate:!0,class:null,fixed:!1,fixedPeriod:500,hideOnScroll:!0,mask:!1,maxWidth:600,padContent:!0,placementLocation:browser.isMobile()?Tooltip.PLACEMENT_LOCATION.BOTTOM_RIGHT:Tooltip.PLACEMENT_LOCATION.TOP_RIGHT,placementLocationChangeOnceVisible:!0,placementType:Tooltip.PLACEMENT_TYPE.CURSOR,showDelay:!1,showDelayPeriod:500,stopContentClickPropagation:!1,transition:!0},Tooltip._ELEMENT_BASED_INSTANCES={},Tooltip.addToElement=function(element,content,options,manualCleanup,targetWindow){var existingID,existingTooltip,tooltip=new Tooltip(options,targetWindow);return tooltip.setContent(content),manualCleanup||((existingID=element.getAttribute("tooltip-id"))&&(existingTooltip=Tooltip._ELEMENT_BASED_INSTANCES[existingID])&&existingTooltip.destroy(),Tooltip._ELEMENT_BASED_INSTANCES[tooltip._id]=tooltip),tooltip.showOnElementHover(element),tooltip},Tooltip.cleanupElementTooltips=function(){Object.keys(Tooltip._ELEMENT_BASED_INSTANCES).forEach(function(id){Tooltip._ELEMENT_BASED_INSTANCES[id].destroy()}),Tooltip._ELEMENT_BASED_INSTANCES={}},Tooltip.prototype.setDisplayOptions=function(options){options=Object.assign({},Tooltip.DEFAULT_DISPLAY_OPTIONS,options);var placementType=browser.isMobile()?Tooltip.PLACEMENT_TYPE.ELEMENT:options.placementType,className="base-tooltip-inner-content ";options.padContent&&(className+="padded "),options.class&&(className+=options.class),this._targetElement=options.targetElement,this._innerContentElement.className=className,this._showDelay=options.showDelay,this._showDelayPeriod=options.showDelayPeriod,this._transition=options.transition,this._placementLocation=options.placementLocation,this._fixed=options.fixed,this._fixedPeriod=options.fixedPeriod,this._maxWidth=options.maxWidth,this._hideOnScroll=options.hideOnScroll,this._allowVerticalAdjustment=options.allowVerticalAdjustment,this._autoPositionUpdate=options.autoPositionUpdate,this._placementLocationChangeOnceVisible=options.placementLocationChangeOnceVisible,this._mask=options.mask,this._maskClass=options.maskClass,this._stopContentClickPropagation=options.stopContentClickPropagation,this._target?this._target.updateOptions(placementType,this._fixed):this._target=new TooltipTarget(placementType,this._fixed,this._document,this._container),this._targetElement&&this._target.setElement(this._targetElement),this._setupAutoPositionUpdate()},Tooltip.prototype.resetDisplayOptions=function(){this.setDisplayOptions()},Tooltip.prototype.setContent=function(content){!content||this._content&&content===this._content||(this._content=content,this._contentRendered=!1,this.visible&&this._show())},Tooltip.prototype.showOnElementHover=function(element){var currentID=element.getAttribute("tooltip-id");if(currentID&&currentID!==this._id)throw new Error("Tooltip trigger element already referenced by another tooltip.");this._stopListeningOnTriggerElement(),this._triggerElement=element,this._targetElement||this._target.setElement(element),browser.isMobile()||(this._triggerElementMoveListener=function(event){this.visible||this._showPending||this._dragging||this.show(null,event.pageX,event.pageY)}.bind(this),this._triggerElement.addEventListener("mousemove",this._triggerElementMoveListener)),this._triggerElementLeaveListener=function(event){for(var toElement=event.relatedTarget,triggeredByOwnElement=!1;toElement;){if(toElement===this._element){triggeredByOwnElement=!0;break}toElement=toElement.parentElement}if(triggeredByOwnElement){var oneTimeHandler=function(){this.hide(),this._element.removeEventListener("mouseleave",oneTimeHandler)}.bind(this);this._element.addEventListener("mouseleave",oneTimeHandler)}else this.hide()}.bind(this),this._triggerElement.addEventListener("mouseleave",this._triggerElementLeaveListener),this._triggerElementClickListener=function(event){this._shouldIgnoreClickOnElement(element)||(this.visible?(new Date).getTime()-this._visibleSince>200&&this.hide(!0):this.show(null,event.pageX,event.pageY),event.preventDefault())}.bind(this),this._triggerElement.addEventListener("click",this._triggerElementClickListener),this._triggerElementMouseDownListener=function(){let currElement=element;do{if(currElement.getAttribute("draggable"))return this.hide(!0);currElement=currElement.parentElement}while(currElement)}.bind(this),this._triggerElement.addEventListener("mousedown",this._triggerElementMouseDownListener),browser.isiOS()&&(this._triggerElement.style.cursor="pointer"),this._triggerElement.setAttribute("tooltip-id",this._id)},Tooltip.prototype.onShow=function(callback){this._onShowCallback=callback},Tooltip.prototype.onHide=function(callback){this._onHideCallback=callback},Tooltip.prototype.onDestroy=function(callback){this._onDestroyCallback=callback},Tooltip.prototype.show=function(content,pageX,pageY,params={}){return new Promise(resolve=>{this.setContent(content),pageX&&pageY?this._target.setStartingCursorPosition(pageX,pageY):params.targetElement&&this._target.setElement(params.targetElement),this._showPending=!1,this._window.clearTimeout(this._showTimeout),this._window.clearTimeout(this._hideTimeout),this._target.startCursorTracking(function(){this.visible&&this._updatePosition()}.bind(this)),this._startContainerScrollListener(),!this._showDelay||this.visible&&!params.delayEvenWhenVisible?(this._show(),resolve()):(this._showPending=!0,this._showTimeout=this._window.setTimeout(function(){this._show(),resolve()}.bind(this),this._showDelayPeriod))})},Tooltip.prototype.hide=function(immediate){!immediate&&this._fixed&&this._fixedPeriod?(this._window.clearTimeout(this._showTimeout),this._hideTimeout=this._window.setTimeout(function(){this._fixed&&this._cursorInsideContent||this._hide()}.bind(this),this._fixedPeriod)):this._hide()},Tooltip.prototype.setDragging=function(dragging){this._dragging=dragging},Tooltip.prototype.destroy=function(){this._hide(!0),this._onDestroyCallback&&this._onDestroyCallback(),this._stopListeningOnTriggerElement(),this._stopAutoPositionUpdate()},Tooltip.prototype._shouldIgnoreClickOnElement=function(element){const IGNORE_CLASSES=["mutable"];if(util.elementMatchesSelector(element,util.FOCUSABLE_SELECTOR))return!0;do{if(element.getAttribute("ng-click")||IGNORE_CLASSES.some(className=>element.classList.contains(className)))return!0;element=element.parentElement}while(element);return!1},Tooltip.prototype._hide=function(){this._removeFromDOM(),this._showPending=!1,this._window.clearTimeout(this._showTimeout),this._window.clearTimeout(this._hideTimeout),this._target.stopCursorTracking(),this._stopContainerScrollListener(),this._hideMask(),this.visible&&"function"==typeof this._onHideCallback&&this._onHideCallback(),this._contentElement.classList.remove("with-transition"),this._transitionInProgress=!1,this._cursorInsideContent=!1,this.visible=!1},Tooltip.prototype._show=function(){var wasVisible=this.visible;if(!this._content)throw new Error("Content not set.");this._contentRendered||("string"==typeof this._content?this._innerContentElement.innerHTML=this._content:(this._innerContentElement.innerHTML="",this._innerContentElement.appendChild(this._content)),this._contentRendered=!0),this._addedToDOM||(this._container.appendChild(this._element),this._addedToDOM=!0),this._showPending=!1,this._updatePosition(),this._showMask(),wasVisible||"function"!=typeof this._onShowCallback||this._onShowCallback()},Tooltip.prototype._removeFromDOM=function(){this._element.parentElement&&this._element.parentElement.removeChild(this._element),this._addedToDOM=!1},Tooltip.prototype._removeTooltipReference=function(){this._triggerElement.getAttribute("tooltip-id")===this._id&&this._triggerElement.removeAttribute("tooltip-id"),delete Tooltip._ELEMENT_BASED_INSTANCES[this._id]},Tooltip.prototype._stopListeningOnTriggerElement=function(){this._triggerElement&&(this._triggerElement.removeEventListener("mousemove",this._triggerElementMoveListener),this._triggerElement.removeEventListener("mouseleave",this._triggerElementLeaveListener),this._triggerElement.removeEventListener("click",this._triggerElementClickListener),this._triggerElement.removeEventListener("mousedown",this._triggerElementMouseDownListener),this._removeTooltipReference()),this._triggerElement=null},Tooltip.prototype._applyTransition=function(placement){var margin=placement.getTransitionMargin();this._contentElement.classList.remove("with-transition"),this._contentElement.style.opacity=0,this._contentElement.style["margin-left"]=margin.left+"px",this._transitionInProgress=!0,this._window.setTimeout(function(){this._contentElement.classList.add("with-transition"),this._contentElement.style.opacity=1,this._contentElement.style["margin-left"]=null}.bind(this))},Tooltip.prototype._getPlacementLocationOrder=function(){var order;return this._placementLocation===TooltipPlacement.LOCATION.TOP_RIGHT?(order=[TooltipPlacement.LOCATION.TOP_RIGHT],this._allowVerticalAdjustment&&order.push(TooltipPlacement.LOCATION.BOTTOM_RIGHT),order.push(TooltipPlacement.LOCATION.TOP_LEFT),this._allowVerticalAdjustment&&order.push(TooltipPlacement.LOCATION.BOTTOM_LEFT)):this._placementLocation===TooltipPlacement.LOCATION.BOTTOM_RIGHT?(order=[TooltipPlacement.LOCATION.BOTTOM_RIGHT],this._allowVerticalAdjustment&&order.push(TooltipPlacement.LOCATION.TOP_RIGHT),order.push(TooltipPlacement.LOCATION.BOTTOM_LEFT),this._allowVerticalAdjustment&&order.push(TooltipPlacement.LOCATION.TOP_LEFT)):this._placementLocation===TooltipPlacement.LOCATION.TOP_LEFT?(order=[TooltipPlacement.LOCATION.TOP_LEFT],this._allowVerticalAdjustment&&order.push(TooltipPlacement.LOCATION.BOTTOM_LEFT),order.push(TooltipPlacement.LOCATION.TOP_RIGHT),this._allowVerticalAdjustment&&order.push(TooltipPlacement.LOCATION.BOTTOM_RIGHT)):(order=[TooltipPlacement.LOCATION.BOTTOM_LEFT],this._allowVerticalAdjustment&&order.push(TooltipPlacement.LOCATION.TOP_LEFT),order.push(TooltipPlacement.LOCATION.BOTTOM_RIGHT),this._allowVerticalAdjustment&&order.push(TooltipPlacement.LOCATION.TOP_RIGHT)),order},Tooltip.prototype._updatePosition=function(contentUpdateDetected){var i,width,height,placementLocation,placement,needsTransition,placementOrder,computedContentStyle=this._window.getComputedStyle(this._contentElement),currentMarginLeft=parseInt(computedContentStyle["margin-left"],10),currentMarginTop=parseInt(computedContentStyle["margin-top"],10),maxWidth=Math.min(this._container.clientWidth-2*TooltipPlacement.BUFFER,this._maxWidth),maxHeight=this._container.clientHeight-2*TooltipPlacement.BUFFER,limits={leftMin:TooltipPlacement.BUFFER,leftMax:this._container.clientWidth-TooltipPlacement.BUFFER,topMin:TooltipPlacement.BUFFER,topMax:this._container.clientHeight-TooltipPlacement.BUFFER},placementMap={};if(this._element.classList.add("invisible"),this._element.style.top="0px",this._element.style.left="0px",width=this._element.clientWidth-currentMarginLeft,height=this._element.clientHeight-currentMarginTop,this.visible&&!this._placementLocationChangeOnceVisible)placementLocation=this._lastPlacementLocation,(placement=new TooltipPlacement(placementLocation,this._lastLeft,this._lastTop,width,height,limits)).isValid()||placement.fallback(this._allowVerticalAdjustment);else{for(placementOrder=this._getPlacementLocationOrder(),i=0;i<placementOrder.length&&!(placement=placementMap[placementLocation=placementOrder[i]]=TooltipPlacement.createForLocation(placementLocation,this._target.getPosition(placementLocation),width,height,limits)).isValid();i++)placement=null;placement||(placement=placementMap[placementLocation=placementOrder[0]]).fallback(this._allowVerticalAdjustment)}needsTransition=!this.visible||placementLocation!==this._lastPlacementLocation||this._transitionInProgress&&contentUpdateDetected,this.visible||(this._visibleSince=(new Date).getTime()),this._element.style.left=placement.left+"px",this._element.style.top=placement.top+"px",this._element.classList.remove("invisible"),this._allowVerticalAdjustment?this._contentElement.style["max-height"]=maxHeight+"px":this._contentElement.style["max-height"]=maxHeight-placement.top+TooltipPlacement.BUFFER+"px",this._contentElement.style["max-width"]=maxWidth+"px",this.visible=!0,this._lastPlacementLocation=placementLocation,this._lastLeft=placement.left,this._lastTop=placement.top,this._transition&&needsTransition&&this._applyTransition(placement)},Tooltip.prototype.getMaxContentHeight=function(){return this._contentElement.style.maxHeight||0},Tooltip.prototype._startContentHoverListener=function(){this._contentElement.addEventListener("mouseenter",function(){this._fixed&&this._fixedPeriod&&(this._cursorInsideContent=!0,this._window.clearTimeout(this._hideTimeout))}.bind(this)),this._contentElement.addEventListener("mouseleave",function(){this._fixed&&this._fixedPeriod&&(this._cursorInsideContent=!1,this.hide())}.bind(this))},Tooltip.prototype._startContentClickListener=function(){this._contentElement.addEventListener("click",event=>{let shouldHide=!1,targetElement=event.target;for(;targetElement;){if(null!=targetElement.getAttribute(Tooltip.CLOSE_ON_CLICK_ATTRIBUTE)){shouldHide=!0;break}targetElement=targetElement.parentElement}shouldHide&&this.hide(!0),this._stopContentClickPropagation&&event.stopPropagation()})},Tooltip.prototype._startContentTapListener=function(){browser.isMobile()&&this._contentElement.addEventListener("touchstart",function(event){this.visible&&(event.preventDefault(),this.hide(!0))}.bind(this))},Tooltip.prototype._setupAutoPositionUpdate=function(){var contentChanged=function(mutationRecord){return mutationRecord.target!==this._contentElement||"childList"===mutationRecord.type}.bind(this);this._autoPositionUpdate?this._observer||(this._observer=new MutationObserver(function(mutationRecords){this.visible&&mutationRecords.some(contentChanged)&&this._updatePosition(!0)}.bind(this)),this._observer.observe(this._contentElement,{childList:!0,attributes:!0,subtree:!0})):this._stopAutoPositionUpdate()},Tooltip.prototype._stopAutoPositionUpdate=function(){this._observer&&this._observer.disconnect()},Tooltip.prototype._startTransitionListener=function(){this._contentElement.addEventListener("transitionend",function(){this._transitionInProgress=!1}.bind(this))},Tooltip.prototype._startContainerScrollListener=function(){!this._listeningOnScroll&&this._hideOnScroll&&(this._containerScrollListener=function(event){var targetElement=event.target,scrolledElementWithinTooltip=!1;if(this.visible||this._showPending){for(;targetElement;){if(targetElement===this._element){scrolledElementWithinTooltip=!0;break}targetElement=targetElement.parentElement}scrolledElementWithinTooltip||this.hide(!0)}}.bind(this),this._container.addEventListener("scroll",this._containerScrollListener,!0),this._listeningOnScroll=!0)},Tooltip.prototype._stopContainerScrollListener=function(){this._listeningOnScroll&&(this._container.removeEventListener("scroll",this._containerScrollListener,!0),this._listeningOnScroll=!1)},Tooltip.prototype._showMask=function(){var className;this._mask&&(this._maskInstance||(className="tooltip-mask","string"==typeof this._maskClass&&(className+=" "+this._maskClass),this._maskInstance=new Mask(className,this._container)),this._maskInstance.displayAndListen(this._id,function(){this.hide()}.bind(this)))},Tooltip.prototype._hideMask=function(){this._maskInstance&&this._maskInstance.hide(this._id)},module.exports=Tooltip,window.Tooltip=Tooltip},function(module){module.exports={screen:{mini:550,small:700,medium:1e3}}},function(module,exports,__webpack_require__){"use strict";var dom=__webpack_require__(40),LOCATION=__webpack_require__(364).LOCATION,RIGHT_LOCATIONS=[LOCATION.TOP_RIGHT,LOCATION.BOTTOM_RIGHT],BOTTOM_LOCATIONS=[LOCATION.BOTTOM_LEFT,LOCATION.BOTTOM_RIGHT];function TooltipTarget(type,fixed,document,container){this._type=type,this._fixed=fixed,this._document=document,this._container=container,this._trackingCursor=!1,this._cursorTrackingListener=null,this._pageX=null,this._pageY=null,this._element=null}TooltipTarget.TYPE={CURSOR:"cursor",ELEMENT:"element"},TooltipTarget.prototype.updateOptions=function(type,fixed){(type!==TooltipTarget.TYPE.CURSOR||fixed)&&this.stopCursorTracking(),this._type=type,this._fixed=fixed},TooltipTarget.prototype.setElement=function(element){this._element=element},TooltipTarget.prototype._getCursorPosition=function(placementLocation,containerOffset){var xOffset,yOffset;if(!this._pageX||!this._pageY)throw new Error('"pageX" or "pageY" not provided to show.');return xOffset=RIGHT_LOCATIONS.indexOf(placementLocation)>=0?10:-10,yOffset=BOTTOM_LOCATIONS.indexOf(placementLocation)>=0?10:-10,{left:this._pageX-containerOffset.left+xOffset,top:this._pageY-containerOffset.top+yOffset}},TooltipTarget.prototype._getElementPosition=function(placementLocation,containerOffset){var elementOffset=dom.getElementOffset(this._element);return{left:RIGHT_LOCATIONS.indexOf(placementLocation)>=0?elementOffset.left-containerOffset.left+this._element.offsetWidth+5:elementOffset.left-containerOffset.left-5,top:BOTTOM_LOCATIONS.indexOf(placementLocation)>=0?elementOffset.top-containerOffset.top+this._element.offsetHeight:elementOffset.top-containerOffset.top}},TooltipTarget.prototype.getPosition=function(placementLocation){var containerOffset=dom.getElementOffset(this._container);return this._type===TooltipTarget.TYPE.CURSOR?this._getCursorPosition(placementLocation,containerOffset):this._getElementPosition(placementLocation,containerOffset)},TooltipTarget.prototype.setStartingCursorPosition=function(pageX,pageY){this._pageX=pageX,this._pageY=pageY},TooltipTarget.prototype.startCursorTracking=function(callback){this._type!==TooltipTarget.TYPE.CURSOR||this._fixed||this._trackingCursor||(this._trackingCursor=!0,this._cursorTrackingListener=function(event){this._pageX=event.pageX,this._pageY=event.pageY,callback()}.bind(this),this._container.addEventListener("mousemove",this._cursorTrackingListener))},TooltipTarget.prototype.stopCursorTracking=function(){this._trackingCursor&&(this._container.removeEventListener("mousemove",this._cursorTrackingListener),this._trackingCursor=!1)},module.exports=TooltipTarget},function(module,exports,__webpack_require__){"use strict";module.exports=function(tagName,properties,params){var element;return params=params||{},element=tagName instanceof HTMLElement?tagName:document.createElement(tagName),properties&&Object.keys(properties).forEach(function(key){var value=properties[key];value&&"object"==typeof value.valueOf()?Object.assign(element[key],value):element[key]=value}),params.attributes&&Object.keys(params.attributes).forEach(function(key){element.setAttribute(key,params.attributes[key])}),params.events&&Object.keys(params.events).forEach(function(key){element.addEventListener(key,params.events[key])}),Array.isArray(params.children)&&params.children.forEach(function(child){element.appendChild(child)}),element}},function(module,exports,__webpack_require__){"use strict";module.exports=function(children){return children&&children.reduce(function(fragment,element){null!=element&&(element instanceof HTMLElement||element instanceof DocumentFragment?fragment.appendChild(element):fragment.appendChild(document.createTextNode(element)));return fragment},document.createDocumentFragment())}},function(module,exports,__webpack_require__){"use strict";window.fixAllPlaceholders=function(){function fixAll(){function fix(elements){for(var i=0;i<elements.length;++i)elements[i].getAttribute("placeholder")||elements[i].setAttribute("placeholder"," ")}window.removeEventListener("load",fixAll),document.removeEventListener("DOMContentLoaded",fixAll),fix(document.getElementsByTagName("input")),fix(document.getElementsByTagName("textarea"))}return window.addEventListener("load",fixAll),document.addEventListener("DOMContentLoaded",fixAll),fixAll}()},function(module,exports,__webpack_require__){"use strict";__webpack_require__(572),__webpack_require__(574),__webpack_require__(575),__webpack_require__(579),__webpack_require__(580),__webpack_require__(581),__webpack_require__(582)},function(module,exports,__webpack_require__){"use strict";var pinnedElements,$=jQuery,PINNED_CLASS="pinned",PINNED_OUT_CLASS="pinned-out",PINNED_CLASSES="pinned-out pinned",PIN_MEASURE="pin-measure",PLACEHOLDER_CLASS="pinned-placeholder",ui_shims=__webpack_require__(573),scrollContainers=[];function updateHandler(event){var pinnedTop=[];function reMeasureTop(elem){var $elem=$(elem.elem);measure($elem,function(){elem.top=$elem.offset().top})}function measure($elem,cb){$elem.removeClass(PINNED_CLASSES).addClass(PIN_MEASURE),$elem.css({width:"",top:""}),cb(),$elem.removeClass(PIN_MEASURE)}function hasPinClass(pinClass){return function(elem){return elem.pinClass===pinClass}}function byTop(a,b){return a.top-b.top}scrollContainers.forEach(function(sc,i){if(sc.nodeType!==Node.DOCUMENT_NODE){"tab-selected"===event.type&&pinnedElements[i].forEach(reMeasureTop);var $sc=$(sc),scOffset=$sc.offset(),scTop=scOffset?scOffset.top:0;pinnedElements[i].slice().sort(byTop).forEach(function(elem){var $elem=$(elem.elem);if(measure($elem,function(){elem.top=$elem.offset().top,elem.fullHeight=$elem.outerHeight(!0),elem.height=$elem.outerHeight(),elem.bottom=elem.top+elem.height,elem.width=$elem.width()}),$elem.is(":visible")&&!$elem.closest(".tab-hidden").length){var fn,pinDistance=elem.top-scTop,classPinned=pinnedTop.filter(hasPinClass(elem.pinClass)).filter(function(elem){return function(other){return elem!==other}}(elem)),otherHeight=function(otherPinned){var otherHeights={};return otherPinned.forEach(function(other){otherHeights[other.pinClass]=other.fullHeight}),Object.keys(otherHeights).reduce(function(result,key){return otherHeights[key]+result},0)}(pinnedTop.filter((fn=hasPinClass(elem.pinClass),function(v){return!fn(v)})));pinDistance<otherHeight?($elem.css({width:elem.width,top:$sc.offset().top+otherHeight}),elem.$placeholder=elem.$placeholder||$("<div>",{addClass:PLACEHOLDER_CLASS}),elem.$placeholder.height(elem.fullHeight),$elem.after(elem.$placeholder),$elem.addClass(PINNED_CLASS),pinnedTop.push(elem)):elem.$placeholder&&elem.$placeholder.remove();var classNeighbour=classPinned[classPinned.length-1];if(classNeighbour&&pinDistance<classNeighbour.height+otherHeight){var top=elem.top-scTop+sc.scrollTop;classPinned.slice().reverse().forEach(function(other){var absTop=sc.scrollTop+other.$absParent.offset().top;$(other.elem).addClass(PINNED_OUT_CLASS).css("top",top-absTop),top-=other.fullHeight})}}})}})}function absParent(elem){return $(elem).parents().filter(function(){return/(relative|absolute|fixed)/.test($.css(this,"position"))}).first()}module.exports=$.fn.pinTop=function(pinClass){return this.each(function(i,elem){var $elem=$(elem);if($elem.hasClass("pin-top"))return!0;$elem.addClass("pin-top"),pinnedElements||(pinnedElements=[],$(window).resize(updateHandler));var $scrollContainer=ui_shims.scrollParent($elem),containerIndex=scrollContainers.indexOf($scrollContainer[0]);if(-1===containerIndex&&(containerIndex=scrollContainers.length,pinnedElements[containerIndex]=[],scrollContainers.push($scrollContainer[0]),$scrollContainer.scroll(updateHandler),$scrollContainer.on("pin-top tab-selected",updateHandler)),-1===pinnedElements[containerIndex].indexOf(elem)){var overrideClass=elem.getAttribute("data-pin-class");pinnedElements[containerIndex].push({elem:elem,pinClass:overrideClass||pinClass,$absParent:absParent(elem)})}}),this}},function(module,exports,__webpack_require__){"use strict";module.exports={scrollParent:function($elem){var result;result=/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())&&/(static|relative)/.test($elem.css("position"))||/absolute/.test($elem.css("position"))?$elem.parents().filter(function(){return/(relative|absolute|fixed)/.test($.css(this,"position"))&&/(auto|scroll)/.test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"))}).eq(0):$elem.parents().filter(function(){return/(auto|scroll)/.test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"))}).eq(0);return/fixed/.test($elem.css("position"))||!result.length?$(document):result}};var $=jQuery},function(module,exports,__webpack_require__){"use strict";var $=jQuery,debounce_retry=[],debouncing_sections=[];function memo(arr,section,forget){var index=arr.indexOf(section),present=index>-1;return present&&forget?arr.splice(index,1):present||forget||arr.push(section),present}module.exports=$.fn.fixDialogLabelWidth=function(debounce){var sections=[],fields={};function swapAll(elements,options,callback){var ret,old=elements.map(function(e){var name,result={};for(name in options)result[name]=e.style[name],e.style[name]=options[name];return{old:result,element:e}});return ret=callback(),old.forEach(function(pair){var name;for(name in options)pair.element.style[name]=pair.old[name]}),ret}void 0!==debounce&&!0!==debounce||(debounce=0),this.each(function(i,elem){var section=$(this).closest("section")[0],found=sections.indexOf(section);-1===found&&(found=sections.length,sections.push(section)),fields[found]=fields[found]||[],fields[found].push(elem)}),sections.forEach(function(section){var $section=$(section);if(!1!==debounce){if(memo(debouncing_sections,section))return void memo(debounce_retry,section);setTimeout(function(){memo(debouncing_sections,section,!0),memo(debounce_retry,section,!0)&&$section.fixDialogLabelWidth(debounce)},debounce)}var height=$section.outerHeight();swapAll([section],{"min-height":height+"px"},function(){var $labels=$section.addClass("specify-label-width").find(".field").filter(":visible").addClass("specify-label-width").children("label:first-child").filter(":visible"),labels=$labels.toArray(),maxWidth=swapAll(labels,{"min-width":"",position:"absolute"},function(){return labels.reduce(function(max,elem){return Math.max(max,elem.offsetWidth)},0)});$labels.css("min-width",maxWidth)})})}},function(module,exports,__webpack_require__){"use strict";var $=jQuery,Omniselect=__webpack_require__(158),COMMANDS_ENABLE="enable",COMMANDS_DISABLE="disable",COMMANDS_RELOAD="reload",COMMANDS_REPROCESS="reprocess",COMMANDS_GET_INSTANCE="getInstance";$.fn.omniselect=function(argument){if("string"==typeof argument&&0===this.length)throw new Error("Cannot send omniselect commands to an empty jQuery collection");var result;return this.each(function(i,elem){var selected,settings,$elem=$(elem),selectedString=$elem.val(),selectInstance=$elem.data("select-instance");if(selectInstance&&"string"==typeof argument){if(argument===COMMANDS_ENABLE)selectInstance.disable(!1);else if(argument===COMMANDS_DISABLE)selectInstance.disable(!0);else if(argument===COMMANDS_RELOAD)selectInstance.update({reload:!0});else if(argument===COMMANDS_REPROCESS)selectInstance.update({reProcess:!0});else if(argument===COMMANDS_GET_INSTANCE){if(i>0)throw new Error(COMMANDS_GET_INSTANCE+" command is not valid when the jQuery collection contains more than one element");result=selectInstance}}else settings=argument,selectedString||(selectedString=settings.singleSelect?"null":"[]",$elem.val(selectedString)),selected=JSON.parse(selectedString),selectInstance?selectInstance.update({settings:settings,selected:selected}):($elem.removeAttr("maxLength"),selectInstance=new Omniselect({includeInput:!0,settings:settings,selected:selected,changeCallback:function(updated){var validator;selectedString=JSON.stringify(updated),$elem.val(selectedString).change(),$.fn.validate&&(validator=$elem.closest("form").data("validator"))&&validator.element($elem[0])}}),$elem.prop("disabled")&&selectInstance.disable(!0),$elem.data("select-instance",selectInstance).attr("data-select-widget","true").addClass("hidden"),selectInstance.$element.insertBefore($elem))}),result||this}},function(module,exports,__webpack_require__){"use strict";const $=jQuery,sort=__webpack_require__(207),log=__webpack_require__(45),TooltipKey=__webpack_require__(208),util=__webpack_require__(39),highlightHTML=__webpack_require__(125).highlightMatchesInHTML,dom=__webpack_require__(40),TooltipFooterAction=__webpack_require__(366),SearchMatch=__webpack_require__(209);function Sources(select){var sources,copyObject=function(source){return $.extend(!0,{},source)};if(this._select=select,this._settings=select._settings,!(sources=this._settings.sources))throw new Error('Settings object does not specify "sources"');sources=Array.isArray(sources)?{DUMMY_GROUP:sources}:"string"==typeof sources?{DUMMY_GROUP:[sources]}:copyObject(sources),this.preProcessSelected=!1,this._sourceMap={},this._sourceLifeCycleData={},this._sourceGroupMap={},this._sourceIndexMap={},this._limitedSourcesSet=new Set,Object.keys(sources).forEach(function(groupName,groupIndex){var sourceIndex,key,source,aliases,lifeCycleData,groupSources=[];for(groupSources.createNewSupported=[],Array.isArray(sources[groupName])||(sources[groupName]=[sources[groupName]]),sourceIndex=0;sourceIndex<sources[groupName].length;sourceIndex++){if(!((key=sources[groupName][sourceIndex])in this._select.SOURCES))throw new Error('Source "'+key+"\" doesn't exist");(source=copyObject(this._select.SOURCES[key])).id=key,this._normalizeSource(source),this._sourceMap[key]=source,this._sourceGroupMap[key]=groupName,this._sourceIndexMap[key]=groupIndex+"-"+sourceIndex,source.aliasFor&&(aliases=source.aliasFor,Array.isArray(aliases)||(aliases=[aliases]),source.aliases=aliases,aliases.forEach(function(alias){this._sourceMap[alias]=source,this._sourceIndexMap[alias]=groupIndex+"-"+sourceIndex}.bind(this))),this._settings.createNew&&source.createNew&&groupSources.createNewSupported.push(source),source.preProcessSelected&&(this.preProcessSelected=!0),groupSources.push(source),lifeCycleData=this._sourceLifeCycleData[source.id]={},"function"==typeof source.onSourceInitialization&&source.onSourceInitialization(lifeCycleData)}sources[groupName]=groupSources,this._settings.sortCreateNew&&groupSources.createNewSupported.sort(function(sourceA,sourceB){return util.fastLocaleCompare(sourceA.name,sourceB.name)})}.bind(this)),this._sources=sources}Sources._CACHE={},Sources._METADATA_CACHE={},Sources._EXTRA_TOOLTIP_DATA_CACHE={},Sources.invalidateCache=function(){Sources._CACHE={},Sources._METADATA_CACHE={},Sources._EXTRA_TOOLTIP_DATA_CACHE={}},Sources.invalidateCacheForSource=function(sourceID){delete Sources._CACHE[sourceID],delete Sources._METADATA_CACHE[sourceID],delete Sources._EXTRA_TOOLTIP_DATA_CACHE[sourceID]},Sources.prototype._normalizeSource=function(source){["name","createNew","inlineEdit"].forEach(function(key){"function"==typeof source[key]&&(source[key]=source[key]())})},Sources.prototype.getSource=function(sourceID){return this._sourceMap[sourceID]},Sources.prototype.getGrouping=function(){return this._sources},Sources.prototype.load=function(hardLoad){var allSourcePromises=[],metaDataQueue=[],loadedSources=[],sourcesPromise=this._sourcesPromise,settings=this._select._settings;return sourcesPromise&&!hardLoad||(this.sourceMetaData={},this.sourceTooltipData={},Object.keys(this._sources).forEach(function(groupName){this._sources[groupName].forEach(function(source){const promise=this._loadSource(source,hardLoad).then(results=>{source.results=results});allSourcePromises.push(promise),"function"==typeof source.metaData&&metaDataQueue.push(source),loadedSources.push(source)}.bind(this))}.bind(this)),sourcesPromise=this._sourcesPromise=Promise.all(allSourcePromises).then(function(){var promises=[];return metaDataQueue.forEach(function(source){var promise;this._limitedSourcesSet.has(source.id)||(Sources._METADATA_CACHE[source.id]&&!hardLoad?promise=Sources._METADATA_CACHE[source.id]:(promise=source.metaData.call(this._select,settings.meta,source.id),source.dontCache||(Sources._METADATA_CACHE[source.id]=promise)),promise.then(function(results){this.sourceMetaData[source.id]=results}.bind(this)),promises.push(promise))}.bind(this)),this._limitedSourcesSet.size||"function"!=typeof settings.extraData||promises.push(settings.extraData(settings.meta).then(function(data){this.extraData=data}.bind(this))),Promise.all(promises)}.bind(this)).then(function(){var Select,sharedInstancePromises;if(!this._select._sharedInstance)return Select=__webpack_require__(365),sharedInstancePromises=loadedSources.filter(function(source){return!source.dontCache}).map(function(source){return Select.getSourceData(source.id)}),Promise.all(sharedInstancePromises)}.bind(this))),sourcesPromise},Sources.prototype.loadAndProcess=function(callback,processingCallback,hardLoad){var settings=this._select._settings,entryWrapperMap={},wrapEntry=function(entryID,entry){var wrapper={id:entryID,entry:entry};return entryWrapperMap[entryID]=wrapper,wrapper},processSource=function(processedGroup,source,cb){var sortFunction,valueFunction,filterFunction=this.getFilterFunction(source.id),synchronousProcessingLength=this._select.MAX_SYNCHRONOUS_PROCESSING_LENGTH,index=0,sourceLength=source.results.length,results=[],chunkedProcessing=function(done){var processChunk=function(start,stop,chunkDone){var i,entry,entryID,valid;for(i=start;i<=stop;i++)entry=source.results[i],entryID=this.uniqueEntryID(entry),(valid=filterFunction(entry,settings.meta,this.extraData))&&(results.push(wrapEntry(entryID,entry)),index++),this._loadCount>1&&!this._previousEntries[entryID]&&(this.newEntryIndexMap[entryID]=valid?index:-1),this._previousEntries[entryID]=!0;stop===sourceLength-1?chunkDone():setTimeout(function(){processChunk(stop+1,Math.min(stop+synchronousProcessingLength,sourceLength-1),chunkDone)})}.bind(this);processChunk(0,Math.min(synchronousProcessingLength-1,sourceLength-1),done)}.bind(this),process=function(){chunkedProcessing(function(){processedGroup[source.id]=results,this._sourceData[source.id]=source.results,source.aliases&&source.aliases.forEach(function(alias){this._sourceData[alias]=source.results}.bind(this)),cb()}.bind(this))}.bind(this);settings.sortResults?(sortFunction=this.getSourceSortFunction(source.id),valueFunction=this.getValueFunction(source.id),sort(source.results,function(entryA,entryB){var sortResult=0;try{var valueA=valueFunction(entryA),valueB=valueFunction(entryB);sortResult=sortFunction(valueA,valueB,entryA,entryB)}catch(e){}return sortResult},process)):process()}.bind(this);this._loadCount=this._loadCount?this._loadCount+1:1,this._previousEntries=this._previousEntries||{},this.load(hardLoad).then(function(){var i=-1,processed={},groupNames=Object.keys(this._sources),processNextGroup=function(){var groupName;++i===groupNames.length?callback(processed,entryWrapperMap):(groupName=groupNames[i],function(processed,name,group,cb){var i=-1,processedGroup=processed[name]={},processNextSource=function(){++i===group.length?cb():processSource(processedGroup,group[i],processNextSource)};processNextSource()}(processed,groupName,this._sources[groupName],processNextGroup))}.bind(this);"function"==typeof processingCallback&&processingCallback(),this.newEntryIndexMap={},this._sourceData={},processNextGroup()}.bind(this))},Sources.prototype.getSourceData=function(sourceID){return this._sourceData[sourceID]},Sources.prototype.isSourceLimited=function(sourceID){return this._limitedSourcesSet.has(this.getSource(sourceID).id)},Sources.prototype.destroy=function(){Object.keys(this._sources).forEach(function(groupName){this._sources[groupName].forEach(function(source){var lifeCycleData=this._sourceLifeCycleData[source.id];"function"==typeof source.onSourceDestroy&&source.onSourceDestroy(lifeCycleData)}.bind(this))}.bind(this))},Sources.prototype.getEntryValue=function(entry){var sourceID=this.getSourceID(entry);return this.getValueFunction(sourceID)(entry)},Sources.prototype.formatEntry=function(entry,searchValue,searchMatch,includeControls){var valueFunction,sourceID,html;if("object"==typeof entry&&(sourceID=this.getSourceID(entry)),valueFunction=this.getValueFunction(sourceID),html='<span class="select-formatted-content">'+this.getFormatFunction(sourceID).call(this._select,entry,valueFunction(entry),this._select._settings.meta,sourceID)+"</span>",searchValue&&searchMatch&&searchMatch.isValueMatch()){const searchRegex=searchMatch.getSearchRegex();html=highlightHTML(html,searchRegex||searchValue,!0)}return searchMatch&&searchMatch.isKeyMatch(!0)&&(html+='<f-icon class="fa-help-info"></f-icon>'),includeControls&&this.doesEntrySupportInlineEdit(entry)&&(html+='<f-icon class="fa-pencil inline-edit-icon" title="'+this._select.EDIT_TEXT+'"></f-icon>'),html},Sources.prototype.formatCategory=function(name,count){return(0,this._select.DEFAULT_CATEGORY_FORMAT_FUNCTION)(name,count)},Sources.prototype.formatSubcategory=function(value,count,sourceID){return this.getSubcategoryFormatFunction(sourceID)(value,count)},Sources.prototype.getValueFunction=function(sourceID){return this._getSpecifiedFunction("valueFunction","DEFAULT_VALUE_FUNCTION",sourceID)},Sources.prototype.getFormatFunction=function(sourceID){return this._getSpecifiedFunction("formatFunction","DEFAULT_FORMAT_FUNCTION",sourceID)},Sources.prototype.getCreateNewFunction=function(sourceID){return this._getSpecifiedFunction("createNewFunction","DEFAULT_CREATE_NEW_FUNCTION",sourceID)},Sources.prototype.getInlineEditFunction=function(sourceID){return this._getSpecifiedFunction("inlineEditFunction","DEFAULT_INLINE_EDIT_FUNCTION",sourceID)},Sources.prototype.getSourceSortFunction=function(sourceID){return this._getSpecifiedFunction("sortFunction","DEFAULT_SOURCE_SORT_FUNCTION",sourceID)},Sources.prototype.getSubcategoryValueFunction=function(sourceID){return this._getSpecifiedFunction("subcategoryValueFunction","DEFAULT_SUBCATEGORY_VALUE_FUNCTION",sourceID)},Sources.prototype.getSubcategoryFormatFunction=function(sourceID){return this._getSpecifiedFunction("subcategoryFormatFunction","DEFAULT_SUBCATEGORY_FORMAT_FUNCTION",sourceID)},Sources.prototype.getSubcategorySortFunction=function(sourceID){return this._getSpecifiedFunction("subcategorySortFunction","DEFAULT_SUBCATEGORY_SORT_FUNCTION",sourceID)},Sources.prototype.getTooltipHeaderFormatFunction=function(sourceID){return this._getSpecifiedFunction("tooltipHeaderFormatFunction",null,sourceID)},Sources.prototype.getTooltipDetailFormatFunction=function(sourceID){return this._getSpecifiedFunction("tooltipDetailFormatFunction",null,sourceID)},Sources.prototype.getLimitedPermissionCheckFunction=function(sourceID){return this._getSpecifiedFunction("limitedPermissionCheckFunction","LIMITED_PERMISSION_CHECK_FUNCTION",sourceID,!0)},Sources.prototype.getDisableEntryFunction=function(sourceID){return this._getSpecifiedFunction("disableEntryFunction",null,sourceID)},Sources.prototype.getFilterFunction=function(sourceID){if(this.isSourceLimited(sourceID)){let fallbackFilterFunction=function(){return!0};const limitedPermissionFallbackFunctions=this.getSource(sourceID).limitedPermissionFallbackFunctions;return limitedPermissionFallbackFunctions&&"function"==typeof limitedPermissionFallbackFunctions.filterFunction&&(fallbackFilterFunction=limitedPermissionFallbackFunctions.filterFunction),fallbackFilterFunction}var sourceFilter,extraFilter,settings=this._select._settings,fns=[];return(sourceFilter=this.getSource(sourceID).filterFunction)&&fns.push(sourceFilter),"function"==typeof(extraFilter=settings.filterFunction)?fns.push(extraFilter):null!=extraFilter&&"function"==typeof extraFilter[sourceID]&&fns.push(extraFilter[sourceID]),function(entry){try{return fns.every(function(fn){return fn.apply(this._select,[entry,settings.meta,this.extraData])}.bind(this))}catch(e){return log.error(e),!0}}.bind(this)},Sources.prototype._getSpecifiedFunction=function(key,defaultKey,sourceID,limitedSupport){var settings=this._select._settings,defaultFn=defaultKey?this._select[defaultKey]:null,fn=defaultFn;if(limitedSupport||!this.isSourceLimited(sourceID))"function"==typeof settings[key]?fn=settings[key]:sourceID&&(fn=(settings[key]||{})[sourceID]||this.getSource(sourceID)[key]||defaultFn);else if(this.isSourceLimited(sourceID)){const limitedPermissionFallbackFunctions=this.getSource(sourceID).limitedPermissionFallbackFunctions;limitedPermissionFallbackFunctions&&"function"==typeof limitedPermissionFallbackFunctions[key]&&(fn=limitedPermissionFallbackFunctions[key])}return fn},Sources.prototype.getCreateNewLabel=function(groupName){return this._getSpecifiedCreateNewProperty("createNewLabel","CREATE_NEW_LABEL",groupName)},Sources.prototype.getCreateNewTitle=function(groupName){return this._getSpecifiedCreateNewProperty("createNewTitle","CREATE_NEW_TITLE",groupName)},Sources.prototype.getCreateNewLabelHidden=function(groupName){return!!this._getSpecifiedCreateNewProperty("createNewLabelHidden",null,groupName)},Sources.prototype._getSpecifiedCreateNewProperty=function(key,defaultKey,groupName){var result=this._select._settings[key];if(result)return result;var createNewSources=this.getGrouping()[groupName].createNewSupported;return 1===createNewSources.length&&(result=createNewSources[0][key]),result||this._select[defaultKey]},Sources.prototype.globalSort=function(entryA,entryB){var valueA,valueB,valueFunction,sourceIDA=this.getSourceID(entryA),sourceIDB=this.getSourceID(entryB),sourceA=this.getSource(sourceIDA),sourceB=this.getSource(sourceIDB);return sourceA?sourceB?sourceIDA===sourceIDB?(valueFunction=this.getValueFunction(sourceIDA),this.getSourceSortFunction(sourceIDA)(valueA=valueFunction(entryA),valueB=valueFunction(entryB),entryA,entryB)):this._settings.sortCategories?(valueA=this.getSource(sourceIDA).name,valueA=this.getSource(sourceIDB).name,util.fastLocaleCompare(valueA,valueB)):(valueA=this.getSourceIndexString(sourceIDA),valueB=this.getSourceIndexString(sourceIDB),util.fastLocaleCompare(valueA,valueB)):1:-1},Sources.prototype.getSearchMatchChecker=function(sourceID){var searchMapping=this.getSource(sourceID).searchKeys||{},valueFunction=this.getValueFunction(sourceID),searchKeys=this.isSourceLimited(sourceID)?[]:Object.keys(searchMapping),matches=function(value,searchRegex){return null!=value&&(Array.isArray(value)?value.some(function(v){return matches(v,searchRegex)}):"object"==typeof value?Object.keys(value).some(function(key){return matches(value[key],searchRegex)}):searchRegex.test(value))};return function(entry,searchRegex,searchString){var matchedValue,value=valueFunction(entry),matchedSearchKeys={};return matches(value,searchRegex)&&(matchedValue=value),searchKeys.forEach(function(key){("function"==typeof searchMapping[key]?searchMapping[key].call(this._select,entry,searchString,searchRegex):matches(entry[key],searchRegex))&&(matchedSearchKeys[key]=!0)}.bind(this)),new SearchMatch({searchString:searchString,searchRegex:searchRegex,matchingValue:matchedValue,matchingSearchKeys:matchedSearchKeys})}.bind(this)},Sources.prototype.getEntryIdKey=function(sourceID){let entryIdKey;const entryIdKeyFunction=this.getSource(sourceID).entryIdKeyFunction;return entryIdKeyFunction&&(entryIdKey=entryIdKeyFunction.call(this,sourceID)),entryIdKey||this._select.ENTRY_ID_KEY},Sources.prototype.formatEntryTooltip=function(entry,searchValue,searchMatch){var div=document.createElement("div"),sourceID=this.getSourceID(entry),ID_KEY=this.getEntryIdKey(sourceID),entryID=entry[ID_KEY],source=this.getSource(sourceID),nameLabel=source.tooltipNameLabel||source.name,searchResultIncluded=searchValue&&searchMatch,limitedSource=this.isSourceLimited(source.id);let headerNode;limitedSource&&(headerNode=dom.elem("div",{className:"select-tooltip-header"},{children:[dom.elem("div",{className:"select-entry-tooltip-warning"},{children:[dom.elem("f-icon",{className:"fa-warning"}),dom.elem("span",{textContent:this._select.LIMITED_PERMISSION_ENTRY_WARNING})]})]}),div.appendChild(headerNode));var table=document.createElement("table");table.className="table slightly-condensed key-value select-tooltip-table",div.appendChild(table);var tbody=document.createElement("tbody");table.appendChild(tbody);var tooltipDataPromise=Promise.resolve();if(!limitedSource&&"function"==typeof source.tooltipData){var cachedSource=Sources._EXTRA_TOOLTIP_DATA_CACHE[source.id];cachedSource&&cachedSource[entryID]?tooltipDataPromise=Sources._EXTRA_TOOLTIP_DATA_CACHE[source.id][entryID]:(tooltipDataPromise=source.tooltipData.call(this._select,entry,source.id,this._settings.meta),!source.dontCache&&source.cacheTooltipData&&(Sources._EXTRA_TOOLTIP_DATA_CACHE[source.id]||(Sources._EXTRA_TOOLTIP_DATA_CACHE[source.id]={}),Sources._EXTRA_TOOLTIP_DATA_CACHE[source.id][entryID]=tooltipDataPromise)),tooltipDataPromise.then(function(results){this.sourceTooltipData[source.id]||(this.sourceTooltipData[source.id]={}),this.sourceTooltipData[source.id][entryID]=results}.bind(this))}return tooltipDataPromise.then(function(){if(!limitedSource){let formatHeaderFunction=this.getTooltipHeaderFormatFunction(sourceID),header=formatHeaderFunction&&formatHeaderFunction.call(this._select,entry,source.id,this._settings.meta);if(header){if(searchResultIncluded&&source.headerSearchKeys&&source.headerSearchKeys.some(k=>searchMatch.matchesKey(k))){const searchRegex=searchMatch.getSearchRegex();header=highlightHTML(header,searchValue,searchRegex,!0)}(headerNode=document.createElement("div")).className="select-tooltip-header",header instanceof Node?headerNode.appendChild(header):headerNode.innerHTML=header,div.insertBefore(headerNode,table)}}var tooltipMapping,tooltipKeys=limitedSource?{}:source.tooltipKeys;let lastExtraKey;if(!0!==this._settings.suppressIdValueTooltip&&!0!==source.suppressIdValueTooltip?((tooltipMapping={})[ID_KEY]=!0,(tooltipMapping=$.extend(tooltipMapping,tooltipKeys||{}))[ID_KEY]=new TooltipKey(nameLabel,function(tooltipEntry){return this.formatEntry(tooltipEntry)}.bind(this))):tooltipMapping=tooltipKeys||{},Object.keys(tooltipMapping).forEach(function(key){var label,value,extraKey,tooltipKey=tooltipMapping[key];if((!tooltipKey.present||tooltipKey.present.call(this._select,entry))&&(label=tooltipKey.label,value=tooltipKey.formatter?tooltipKey.formatter.call(this._select,entry,key,this._settings.meta,source.id):entry[key],extraKey=tooltipKey.extraKey,value)){if(searchResultIncluded&&(key===ID_KEY&&searchMatch.isValueMatch()||searchMatch.matchesKey(key)&&searchMatch.isKeyMatch())&&"string"==typeof value){const searchRegex=searchMatch.getSearchRegex();value=highlightHTML(value,searchValue,searchRegex,!0)}var tr=document.createElement("tr");extraKey!==lastExtraKey&&null!=lastExtraKey&&(tr.className="divider");var labelTd=document.createElement("td");labelTd.innerHTML=label,tr.appendChild(labelTd);var valueTd=document.createElement("td");value instanceof Node?valueTd.appendChild(value):valueTd.innerHTML=value,tr.appendChild(valueTd),tbody.appendChild(tr),lastExtraKey=extraKey}}.bind(this)),!limitedSource){let formatDetailFunction=this.getTooltipDetailFormatFunction(sourceID),detail=formatDetailFunction&&formatDetailFunction.call(this._select,entry,source.id,this._settings.meta);if(detail){const detailNode=document.createElement("div");detailNode.className="select-tooltip-detail",detail instanceof Node?detailNode.appendChild(detail):detailNode.innerHTML=detail,div.appendChild(detailNode)}}const footerActions=source.tooltipFooterActions;if(Array.isArray(footerActions)&&footerActions.length){const footerElement=dom.elem("div",{className:"select-tooltip-footer"});let visibleCount=0;for(let action of footerActions){if(!(action instanceof TooltipFooterAction))throw new Error("Actions must be instances of TooltipFooterAction");action.isVisible(entry,sourceID,this._select)&&(footerElement.appendChild(action.format(entry,sourceID,this._select)),visibleCount++)}if(visibleCount){if(visibleCount>3)throw new Error("Can't add more than 3 footer actions");div.appendChild(footerElement)}}return source.cacheTooltipData||(this.sourceTooltipData[source.id]={}),div}.bind(this))},Sources.prototype.getSourceID=function(entry){var sourceID,isObject="object"==typeof entry;return isObject&&(sourceID=this._select.ENTRY_SOURCE_ID_FUNCTION(entry)),isObject&&sourceID||(sourceID=this._sources[Object.keys(this._sources)[0]][0].id),sourceID},Sources.prototype.getSourceIndexString=function(sourceID){return this._sourceIndexMap[sourceID]},Sources.prototype.getSourceGroup=function(sourceID){return this._sourceGroupMap[sourceID]},Sources.prototype.uniqueEntryID=function(entry){var sourceID=this.getSourceID(entry);return("object"==typeof entry?entry[this.getEntryIdKey(sourceID)]:entry)+"#"+sourceID},Sources.prototype.isSameEntry=function(entry1,entry2){return this.uniqueEntryID(entry1)===this.uniqueEntryID(entry2)},Sources.prototype.isSolitaryEntry=function(entry){var entryID,settings=this._select._settings,sourceID=this.getSourceID(entry),solitaryMap=settings.solitaryEntries||this.getSource(sourceID).solitaryEntries||[];return!settings.singleSelect&&(!!settings.allSolitary||(entryID="object"==typeof entry?entry[this.getEntryIdKey(sourceID)]:entry,entry[this._select.SOLITARY_KEY]||solitaryMap[entryID]))},Sources.prototype.supportedEntry=function(entry){var sourceID=this.getSourceID(entry),sourceIndexString=this.getSourceIndexString(sourceID),filterFn=sourceIndexString?this.getFilterFunction(sourceID):null;return sourceIndexString&&filterFn(entry,this._select._settings.meta,this.extraData)},Sources.prototype.isEntryDisabled=function(entry){const sourceID=this.getSourceID(entry),disableFn=this.getDisableEntryFunction(sourceID);return disableFn&&disableFn(entry,this._settings.meta,this._select.getSelected())},Sources.prototype.doesEntrySupportInlineEdit=function(entry){var sourceID=this.getSourceID(entry),source=this.getSource(sourceID);return this._select._settings.inlineEdit&&source.inlineEdit},Sources.prototype._loadSource=function(source,hardLoad){const settings=this._select._settings,dontCache=source.dontCache||settings.extraEntries&&settings.extraEntries[source.id],getData=()=>source.data.call(this._select,settings.meta,source.id).then(results=>{const list=[],map={},alternativeMaps={},extraEntries=settings.extraEntries&&settings.extraEntries[source.id],limitedPermissionCheckFn=this.getLimitedPermissionCheckFunction(source.id);return extraEntries&&(results=results.concat(extraEntries)),limitedPermissionCheckFn(source.id,results)&&this._limitedSourcesSet.add(source.id),results.forEach(entry=>{const ID_KEY=this.getEntryIdKey(source.id);dontCache||"object"!=typeof entry||util.deepFreeze(entry),list.push(entry),map[entry[ID_KEY]]=entry,(source.alternativeEntryIDs||[]).forEach(function(altID){let altMap=alternativeMaps[altID];altMap?altMap[entry[altID]]=entry:(altMap={})[entry[altID]]=entry,alternativeMaps[altID]=altMap})}),list.mapping=map,list.alternativeMappings=alternativeMaps,list.getEntry=function(entryID){let _entry=list.mapping[entryID];return _entry||Object.keys(list.alternativeMappings).forEach(function(altID){list.alternativeMappings[altID][entryID]&&(_entry=list.alternativeMappings[altID][entryID])}),_entry},list});let promise;return!Sources._CACHE[source.id]||hardLoad||dontCache?(promise=getData(),dontCache||(Sources._CACHE[source.id]=promise)):promise=Sources._CACHE[source.id],promise},module.exports=Sources},function(module,exports,__webpack_require__){"use strict";const $=jQuery,anim=__webpack_require__(159),util=__webpack_require__(39),selectUtil=__webpack_require__(210),VirtualResults=__webpack_require__(367),SearchInput=__webpack_require__(369),Sliderin=__webpack_require__(126),dom=__webpack_require__(40),Tooltip=__webpack_require__(59),lang=__webpack_require__(47),log=__webpack_require__(45);function SelectionPane(select,sources,selected){VirtualResults.call(this,select,sources,selected),this._id=util.uniqueID(),this._searchInput=new SearchInput(select),this._closingPromise=null,this._create(),this.isOpen=!1}SelectionPane.prototype=Object.create(VirtualResults.prototype),SelectionPane.prototype.constructor=SelectionPane,SelectionPane.prototype.open=function(closeCallback){var $attachTarget,slide,$viewContainer=$(".view-container"),chooseContainer=this._select._settings.getSelectionPaneContainerFunction;if(chooseContainer&&"function"==typeof chooseContainer&&($attachTarget=chooseContainer($viewContainer,this._$element)),this._select._settings.insideSlide){if(!(slide=Sliderin.getLast()))throw new Error('"insideSlide" specified but no slide could be found');$attachTarget=this._$clickTarget=slide._$element,slide.addDestructible(this._select)}else $viewContainer.length||$attachTarget?($attachTarget=$attachTarget||$viewContainer,this._$clickTarget=$("body")):$attachTarget=this._$clickTarget=$("body");this._closeCallback=closeCallback,this._select._chooserTakenFocus(),this.clearResults(),$attachTarget.append(this._$element),this._$element.removeClass("slide-out").one(anim.CROSS_BROWSER_ANIMATION_END,function(event){event.target===this._$element[0]&&(this._sourcesLoaded?(this._entries?this.renderResults():this.updateResults(),this.updateLimitedWarning()):this.loadAndProcessSources(function(){this.updateResults(),this.updateLimitedWarning()}.bind(this)))}.bind(this)),this.isOpen=!0,this._select._includeInput&&this._$clickTarget.on("click.selectionPane"+this._id,function(event){var selectID=(event.originalEvent||{}).selectID;selectID&&selectID===this._select._id||selectUtil.eventInsideElement(event,this._$element[0])||(this._shouldUpdate=!0,this.close())}.bind(this)),$(window).on("resize.selectionPane"+this._id,util.debounce(300,function(){this._sourcesLoaded&&this.resizeResults()}.bind(this)))},SelectionPane.prototype.close=async function(focusInput){const shouldUpdate=this._shouldUpdate;let result;if("function"==typeof this._closeCallback){if(shouldUpdate){if(!await this.validateSelected())return Promise.reject()}result=this._close(focusInput),this._closeCallback(shouldUpdate),shouldUpdate||this._removeError()}else result=this._close(focusInput);return result},SelectionPane.prototype.validateSelected=async function(){const validateFunction=this._select._settings.validateFunction;let result=!0;if("function"==typeof validateFunction)try{const error=await validateFunction.call(this._select,this._select._selected,this._select._settings.meta);error&&(this._showError(error),result=!1)}catch(e){log.error(e)}return result},SelectionPane.prototype._close=function(focusInput){return this._closingPromise=new Promise(resolve=>{this._$clickTarget&&this._$clickTarget.off("click.selectionPane"+this._id),$(window).off("resize.selectionPane"+this._id),this._select._chooserRestoredFocus(focusInput),this.isOpen=!1,this._$element.addClass("slide-out").on(anim.CROSS_BROWSER_ANIMATION_END,function(){this.isOpen||this._$element.off(anim.CROSS_BROWSER_ANIMATION_END).removeClass("slide-out").detach(),this._closingPromise=null,resolve()}.bind(this)),this._shouldUpdate=!1})},SelectionPane.prototype.toggleInputs=function(enable,focus){this._$createNew.attr("disabled",!enable),this._$sourceSelection&&this._$sourceSelection.find("input").attr("disabled",!enable),enable?focus?this._searchInput.enableAndFocus():this._searchInput.enable():this._searchInput.disable()},SelectionPane.prototype.updateLimitedWarning=function(){this._removeWarning();let warning=this._select._getWarning();warning&&(this._warningElement=dom.elem("div",{className:"select-widget-warning"},{children:[dom.elem("f-icon",{className:"fa-warning"}),dom.elem("span",{className:"tooltip-hint",textContent:warning.label})]}),this._warningTooltip=Tooltip.addToElement(this._warningElement,warning.tooltip,null,!0),$(this._warningElement).insertBefore(this.resultsElement))},SelectionPane.prototype.destroy=function(){let promise=Promise.resolve();this.isOpen?promise=this.close():this._closingPromise&&(promise=this._closingPromise),promise.then(()=>{VirtualResults.prototype.destroy.call(this),this._removeWarning(),this._$element.empty().remove()})},SelectionPane.prototype._removeWarning=function(){this._warningElement&&(this._warningElement.parentElement&&this._warningElement.parentElement.removeChild(this._warningElement),this._warningElement=null),this._warningTooltip&&(this._warningTooltip.destroy(),this._warningTooltip=null)},SelectionPane.prototype._showError=function(error){this._removeError(),this._$error=$('<div class="error-message">'+error+"</div>"),this._$error.insertBefore(this.resultsElement)},SelectionPane.prototype._removeError=function(){this._$error&&(this._$error.remove(),this._$error=null)},SelectionPane.prototype._afterAdd=function(){this._removeError()},SelectionPane.prototype._afterChunkRendered=function(noEntries){this._$createNew.toggleClass("primary",noEntries)},SelectionPane.prototype._create=function(){var noConfirm=this._select._settings.noConfirm||this._select._includeInput,sourcesGrouping=this._sources.getGrouping(),sourceGroups=Object.keys(sourcesGrouping),$titleBar=$('<div class="title-bar"></div>'),$closeIconButton=$('<button class="bare" type="button"><f-icon class="fa-dismiss"></f-icon></button>'),$searchContainer=$('<div class="select-widget-search-container"></div>'),$footer=$('<div class="footer"></div>'),$okButton=$('<button type="button">'+lang.translate(noConfirm?"Close":"Apply")+"</button>");if(this._$element=$('<div class="selection-pane"></div>'),this._element=this._$element,this.setGroup(sourceGroups[0]),this._$createNew=$('<button type="button" class="create-new hidden" title="'+this._sources.getCreateNewTitle(this.getGroup())+'"><f-icon class="fa-plus"></f-icon><span class="create-new-label hidden">'+this._sources.getCreateNewLabel(this.getGroup())+"</span></button>"),this._$dialog=$('<div class="dialog"></div>').appendTo(this._$element).append($titleBar),this._sources.getCreateNewLabelHidden(this.getGroup())||this._$createNew.find(".create-new-label").removeClass("hidden"),$titleBar.append("<h1>"+this._select.PANE_TITLE+"</h1>").append($closeIconButton),$closeIconButton.on("click",function(){this._shouldUpdate=!1,this.close(!0)}.bind(this)),this._$sourceSelection=null,sourceGroups.length>1){this._$sourceSelection=$('<div class="radio-group"></div>'),sourceGroups.forEach(function(groupName,index){var id=groupName+this._id,name="selectionPane"+this._id,$input=$('<input type="radio" id="'+id+'" name="'+name+'" value="'+groupName+'">').attr("disabled","disabled");0===index&&$input.prop("checked",!0),this._$sourceSelection.append($input),this._$sourceSelection.append('<label for="'+id+'">'+groupName+"</label>")}.bind(this)),this._$sourceSelection.appendTo(this._$dialog);var that=this;this._$sourceSelection.find("input").on("change",function(){that.setGroup(this.value),that._$createNew.toggleClass("hidden",0===sourcesGrouping[this.value].createNewSupported.length),that._$createNew.prop("title",that._sources.getCreateNewTitle(that.getGroup())),that._$createNew.find(".create-new-label").text(that._sources.getCreateNewLabel(that.getGroup())).toggleClass("hidden",that._sources.getCreateNewLabelHidden(that.getGroup())),that.updateResults()})}$searchContainer.append(this._searchInput.$element).append(this._$createNew),this._$dialog.append($searchContainer),sourcesGrouping[sourceGroups[0]].createNewSupported.length&&this._$createNew.removeClass("hidden"),this._$createNew.on("click",function(){this._$createNew.attr("disabled",!0),this.createNew().catch(function(){this._$createNew.attr("disabled",!1)}.bind(this))}.bind(this)),this._searchInput.onChange(function(){this.setSearchValue(this._searchInput.getValue()),this.updateResults()}.bind(this)),this._searchInput.onTabbedOut(function(){this._shouldUpdate=!0,this.close(!0)}.bind(this)),this._$dialog.append(this.resultsElement),$okButton.on("click",function(){this._shouldUpdate=!0,this.close(!0)}.bind(this)),$footer.append($okButton),noConfirm||($okButton.addClass("primary"),$('<button type="button">'+lang.translate("Cancel")+"</button>").on("click",function(){this._shouldUpdate=!1,this.close(!0)}.bind(this)).appendTo($footer)),this._$dialog.append($footer),this.setupKeyboardShortcuts(this._$element[0])},SelectionPane.prototype._clearSearchInput=function(){var cleared=!1;return this._searchInput.getValue()&&(this._searchInput.clear(),cleared=!0),cleared},module.exports=SelectionPane},function(module,exports,__webpack_require__){"use strict";var $=jQuery,util=__webpack_require__(39),selectUtil=__webpack_require__(210),Mask=__webpack_require__(205),VirtualResults=__webpack_require__(367),SearchInput=__webpack_require__(369),Sliderin=__webpack_require__(126),dom=__webpack_require__(40),Tooltip=__webpack_require__(59),SCROLL_EVENT="scroll.selectionDropdown",IS_FIREFOX=/firefox/i.test(navigator.userAgent);function Dropdown(select,sources,selected){VirtualResults.call(this,select,sources,selected),this._id=util.uniqueID(),this._searchInput=new SearchInput(select),this._create(),this.isOpen=!1}Dropdown.prototype=Object.create(VirtualResults.prototype),Dropdown.prototype.constructor=Dropdown,Dropdown.prototype.open=function(){var target,targetElementOffset,mask,slide,$selectElement=this._select.$element,selectElementOffset=$selectElement.offset(),borderAdjust=IS_FIREFOX?2:1;if(this._select._settings.insideSlide){if(!(slide=Sliderin.getLast()))throw new Error('"insideSlide" specified but no slide could be found');target=slide._$element,slide.addDestructible(this._select)}else target=this._select.TARGET_CONTAINER;targetElementOffset=$(target).offset(),mask=this._getMask(target),this._$element.width($selectElement[0].clientWidth),this._$element.css({top:selectElementOffset.top-targetElementOffset.top+$selectElement[0].offsetHeight-borderAdjust,left:selectElementOffset.left-targetElementOffset.left}),this._select._chooserTakenFocus(),this._$element.appendTo(target),this._sourcesLoaded?(this._entries?this.renderResults():this.updateResults(),this.updateLimitedWarning()):(this._calculateScrollingDimensions(),this.loadAndProcessSources(function(){this.updateResults(),this.updateLimitedWarning()}.bind(this))),this.isOpen=!0,mask.displayAndListen(this._id,function(){this.close(!0)}.bind(this)),$(window).on("resize.selectionDropdown"+this._id,util.debounce(300,function(){this._sourcesLoaded&&this.resizeResults(),this._updateScrollableParent()}.bind(this))),this._updateScrollableParent()},Dropdown.prototype.close=function(focusInput){var mask=this._getMask();mask&&mask.hide(this._id),$(window).off("resize.selectionDropdown"+this._id),this._$firstScrollableParent&&(this._$firstScrollableParent.off(SCROLL_EVENT+this._id),this._$firstScrollableParent=null),this._select._chooserRestoredFocus(focusInput),this.isOpen=!1,this._overflowAdjusted=!1,this._removeWarning(),this._$element.detach()},Dropdown.prototype.toggleInputs=function(enable){this._$createNew.attr("disabled",!enable),this._$sourceSelection&&this._$sourceSelection.find("input").attr("disabled",!enable),enable?focus?this._searchInput.enableAndFocus():this._searchInput.enable():this._searchInput.disable()},Dropdown.prototype.updateLimitedWarning=function(){this._removeWarning();let warning=this._select._getWarning();warning&&(this._warningElement=dom.elem("div",{className:"select-widget-warning"},{children:[dom.elem("f-icon",{className:"fa-warning"}),dom.elem("span",{className:"tooltip-hint",textContent:warning.label})]}),this._warningTooltip=Tooltip.addToElement(this._warningElement,warning.tooltip,null,!0),$(this._warningElement).insertBefore(this.resultsElement))},Dropdown.prototype.destroy=function(){VirtualResults.prototype.destroy.call(this),this.close(),this._$element.empty().remove()},Dropdown.prototype._removeWarning=function(){this._warningElement&&(this._warningElement.parentElement&&this._warningElement.parentElement.removeChild(this._warningElement),this._warningElement=null),this._warningTooltip&&(this._warningTooltip.destroy(),this._warningTooltip=null)},Dropdown.prototype._updateScrollableParent=function(){var firstScrollableParent;this._$firstScrollableParent&&(this._$firstScrollableParent.off(SCROLL_EVENT+this._id),this._$firstScrollableParent=null),(firstScrollableParent=selectUtil.firstScrollableParent(this._select.$element[0],this._select.TARGET_CONTAINER))&&(this._$firstScrollableParent=$(firstScrollableParent),setTimeout(function(){this._$firstScrollableParent.on(SCROLL_EVENT+this._id,function(){this.close(!0)}.bind(this))}.bind(this),0))},Dropdown.prototype._getMask=function(target){var mask=this._mask;return mask||(this._mask=mask=new Mask("selection-dropdown-mask",target)),mask},Dropdown.prototype._create=function(){var sourcesGrouping=this._sources.getGrouping(),sourceGroups=Object.keys(sourcesGrouping),$searchContainer=$('<div class="select-widget-search-container"></div>');if(this._$element=$('<div class="selection-dropdown"></div>'),this._select._settings.insideSlide&&this._$element.addClass("inside-slide"),this.setGroup(sourceGroups[0]),this._$createNew=$('<button type="button" class="create-new hidden" title="'+this._sources.getCreateNewTitle(this.getGroup())+'"><f-icon class="fa-plus"></f-icon><span class="create-new-label hidden">'+this._sources.getCreateNewLabel(this.getGroup())+"</span></button>"),this._sources.getCreateNewLabelHidden(this.getGroup())||this._$createNew.find(".create-new-label").removeClass("hidden"),this._$sourceSelection=null,sourceGroups.length>1){this._$sourceSelection=$('<div class="radio-group"></div>'),sourceGroups.forEach(function(groupName,index){var id=groupName+this._id,name="selectionDropdown"+this._id,$input=$('<input type="radio" id="'+id+'" name="'+name+'" value="'+groupName+'">').attr("disabled","disabled");0===index&&$input.prop("checked",!0),this._$sourceSelection.append($input),this._$sourceSelection.append('<label for="'+id+'">'+groupName+"</label>")}.bind(this)),this._$sourceSelection.appendTo(this._$element);var that=this;this._$sourceSelection.find("input").on("change",function(){that.setGroup(this.value),that._$createNew.toggleClass("hidden",0===sourcesGrouping[this.value].createNewSupported.length),that._$createNew.prop("title",that._sources.getCreateNewTitle(that.getGroup())),that._$createNew.find(".create-new-label").text(that._sources.getCreateNewLabel(that.getGroup())).toggleClass("hidden",that._sources.getCreateNewLabelHidden(that.getGroup())),that.updateResults()})}$searchContainer.append(this._searchInput.$element).append(this._$createNew),this._$element.append($searchContainer),sourcesGrouping[sourceGroups[0]].createNewSupported.length&&this._$createNew.removeClass("hidden"),this._$createNew.on("click",function(){this._$createNew.attr("disabled",!0),this.createNew().catch(function(){this._$createNew.attr("disabled",!1)}.bind(this))}.bind(this)),this._searchInput.onChange(function(value){this.setSearchValue(value),this.updateResults()}.bind(this)),this._searchInput.onTabbedOut(function(){this.close(!0)}.bind(this)),this._element=this._$element[0],this._$element.append(this.resultsElement),this.setupKeyboardShortcuts(this._$element[0])},Dropdown.prototype._afterAdd=function(){this._tooltip&&this._tooltip.hide(),this.close(!0)},Dropdown.prototype._clearSearchInput=function(){var cleared=!1;return this._searchInput.getValue()&&(this._searchInput.clear(),cleared=!0),cleared},Dropdown.prototype._afterChunkRendered=function(noEntries){this._$createNew.toggleClass("primary",noEntries)},module.exports=Dropdown},function(module,exports,__webpack_require__){"use strict";var $=jQuery;module.exports=$.fn.fTabs=function(){var $tabs=this.find("[data-tab-content]").click(update);return $tabs.filter(".selected").length||$tabs.first().addClass("selected"),update(),{valid:function(){$tabs.removeClass("error")}};function update(){var offSelectors,$triggerSelected=null;if(this){var $this=$(this);$triggerSelected=$this,$this.addClass("selected");var $otherSelected=$tabs.not(this).filter(".selected");$otherSelected.removeClass("selected"),offSelectors=$otherSelected.toArray().map(getSelectors).join(",")}var onSelectors=$tabs.filter(".selected").toArray().map(getSelectors).join(",");offSelectors=offSelectors||$tabs.not(".selected").toArray().map(getSelectors).join(",");function getSelectors(e){return e.getAttribute("data-tab-content")}$(offSelectors).toggleClass("tab-hidden",!0).off(".tab-content").on("focus.tab-content invalid.tab-content","input, select, button",function(event,data){for(var i=0;i<$tabs.length;++i){var tab=$tabs[i];if($(this).parents(getSelectors(tab)).length){if("invalid"===event.type&&($(tab).toggleClass("error",!1!==data),!1===data))continue;update.call(tab);break}}}),$(onSelectors).toggleClass("tab-hidden",!1).off(".tab-content"),$triggerSelected&&$triggerSelected.trigger("tab-selected")}}},function(module,exports,__webpack_require__){"use strict";var $=jQuery,COMMANDS={DISPOSE:"dispose"},enhanceFileInput=__webpack_require__(370);module.exports=$.fn.fEnhanceFileInput=function(command){command!==COMMANDS.DISPOSE?this.each(function(i,elem){if("input"===elem.tagName.toLowerCase()&&"file"===elem.type){var dispose=enhanceFileInput(elem);$(elem).data("fEnhanceFileInputDispose",dispose)}}):this.each(function(i,elem){var dispose=$(elem).data("fEnhanceFileInputDispose");dispose&&"function"==typeof dispose&&dispose()})},$.fn.fEnhanceFileInput.COMMANDS=COMMANDS},function(module,exports,__webpack_require__){"use strict";var $=jQuery;module.exports=$.fn.highlight=function(duration){this.each(function(i,elem){var $elem=$(elem),$content=$elem.closest(".content"),offset=$elem.position();duration=isNaN(duration)?3e3:+duration,offset.top-=10,offset.left-=10,$content.animate({scrollTop:offset.top,scrollLeft:offset.left}),$elem.addClass("background-highlight").addClass("swing-extra-subtle");setTimeout(function(){$elem.removeClass("swing-extra-subtle"),$elem.removeClass("background-highlight",{duration:500})},duration-500)})}},function(module,exports,__webpack_require__){"use strict";var $=jQuery,DEFAULT_DISPLAY_OPTIONS={},COMMANDS_HIDE="hide",COMMANDS_GET_INSTANCE="getInstance";$.fn.ftip=function(argument){var result=this,getContent=function(element){var title,content=argument&&argument.content;return content||(title=element.getAttribute("title"))&&(content=title,element.removeAttribute("title"),element.setAttribute("original-title",title)),content&&content instanceof jQuery&&(content=content[0]),content},getOptions=function(){return Object.assign({},DEFAULT_DISPLAY_OPTIONS,argument&&argument.options)};if("string"==typeof argument&&0===this.length)throw new Error("Cannot send tooltip commands to an empty jQuery collection.");return this.each(function(index,element){var $element=$(element),tooltip=$element.data("tooltip-instance");if("string"==typeof argument){if(tooltip)if(argument===COMMANDS_HIDE)tooltip.hide(!0);else{if(argument!==COMMANDS_GET_INSTANCE)throw new Error('Unknown tooltip command: "'+argument+'".');if(index>0)throw new Error('Tooltip "'+COMMANDS_GET_INSTANCE+'" command is not valid when the jQuery collection contains more than one element');result=tooltip}}else tooltip?(tooltip.setContent(getContent(element)),argument&&argument.options&&tooltip.setDisplayOptions(getOptions())):(tooltip=Tooltip.addToElement(element,getContent(element),getOptions(),argument&&argument.manualCleanup,argument&&argument.targetWindow),$element.data("tooltip-instance",tooltip),tooltip.onDestroy(()=>$element.data("tooltip-instance",null))),argument&&("function"==typeof argument.onShow&&tooltip.onShow(argument.onShow),"function"==typeof argument.onHide&&tooltip.onHide(argument.onHide))}),result}},function(module,exports,__webpack_require__){"use strict";var ANTIALIASING={SUBPIXEL:{toString:function(){return"cleartype"}},GRAYSCALE:{toString:function(){return"greyscale"}}},TEXT_ANTIALIASING_DISABLED_CLASSNAME="text-antialiasing-disabled";function detectTextAntialiasing(){if(document){var canvas=document.createElement("canvas"),size=100;canvas.width=.2*size,canvas.height=.3*size;var ctxt=canvas.getContext("2d",{alpha:!1});(drawCtxt=ctxt).textBaseline="top",drawCtxt.fillStyle="white",drawCtxt.fillRect(0,0,canvas.width,canvas.height),drawCtxt.fillStyle="black",drawCtxt.font=size+"px Arial, monospace",drawCtxt.fillText(".",-5.5,Math.round(-.65*size)+.5);var pixels=ctxt.getImageData(0,0,canvas.width,canvas.height),max=0;return function(data){for(var i=0;i<data.length;i+=4){if(data[i]<255&&data[i]>0){var pixel={r:data[i],g:data[i+1],b:data[i+2]};return pixel.r!==pixel.g||pixel.r!==pixel.b||pixel.b!==pixel.g?ANTIALIASING.SUBPIXEL:ANTIALIASING.GRAYSCALE}max=data[i]>max?data[i]:max}if(0===max)return null;return!1}(pixels.data)}var drawCtxt;return null}module.exports={detectTextAntialiasing:detectTextAntialiasing,ANTIALIASING:ANTIALIASING,TEXT_ANTIALIASING_DISABLED_CLASSNAME:TEXT_ANTIALIASING_DISABLED_CLASSNAME},/\bWindows\b/.test(navigator.userAgent)&&function check(){if(!document.body)return void setTimeout(check);var aa=detectTextAntialiasing();!1===aa&&(document.body.className+=(document.body.className?" ":"")+TEXT_ANTIALIASING_DISABLED_CLASSNAME)}()},function(module,exports,__webpack_require__){"use strict";var queryCommandExists="queryCommandSupported"in document;function copyContent(element){if("function"==typeof element.select)return element.select(),document.execCommand("copy");throw new Error("Copy not implemented for "+element.tagName)}module.exports={canCopy:queryCommandExists&&document.queryCommandSupported("copy"),canCut:queryCommandExists&&document.queryCommandSupported("cut"),copyContent:copyContent,cutContent:function(element){if("INPUT"===element.tagName)return element.select(),document.execCommand("cut");throw new Error("Cut not implemented for "+element.tagName)},copyText:function(text){var result,textArea=document.createElement("textarea");return textArea.value=text,document.body.appendChild(textArea),result=copyContent(textArea),textArea.parentNode.removeChild(textArea),result}}},function(module,exports,__webpack_require__){"use strict";function MultiInput(config,source){var multiInput=document.querySelector(config.selector),multiInputFragment=document.createDocumentFragment(),multiInputAddEl=function(){var multiInputAdd=document.createElement("div");multiInputAdd.className="field multi-input-add";var multiInputAddLabel=document.createElement("label"),multiInputAddContainer=document.createElement("div");multiInputAddContainer.className="multi-input-add-button";var multiInputAddButton=document.createElement("button");multiInputAddButton.type="button",multiInputAddButton.addEventListener("click",function(event){if(config.addFn&&"function"==typeof config.addFn){var addFnResult=config.addFn(event);void 0!==addFnResult&&"function"==typeof addFnResult.then?addFnResult.then(function(items){void 0!==items&&(addInputElement(items),update())}):(addInputElement(addFnResult),update())}else addInputElement(),update()});var multiInputAddIcon=document.createElement("f-icon");multiInputAddIcon.className="fa-plus-circle";var multiInputAddButtonLabel=document.createElement("span");return multiInputAddButtonLabel.innerText=config.addButtonLabel||"",multiInputAddButton.appendChild(multiInputAddIcon),multiInputAddButton.appendChild(multiInputAddButtonLabel),multiInputAddContainer.appendChild(multiInputAddButton),multiInputAdd.appendChild(multiInputAddLabel),multiInputAdd.appendChild(multiInputAddContainer),multiInputAdd}();if(config&&multiInput){var mostRecentlyAdded=new Set,mostRecentlyRemoved=new Set;multiInputFragment.appendChild(multiInputAddEl),multiInput.appendChild(multiInputFragment),source&&source.length?source.forEach(addInputElement):config.allowEmpty||addInputElement(),update(),this.multiInput=multiInput}else console.error("multiInput config was not provided or a an invalid CSS selector was provided.");function update(){var multiInputFields,addDisabled;multiInputFields=multiInput.querySelectorAll(".multi-input-field"),addDisabled=multiInputFields.length===config.max,multiInputAddEl.querySelector(".multi-input-add-button").getElementsByTagName("button")[0].disabled=addDisabled,config.labelFn&&"function"==typeof config.labelFn||(multiInputFields[0].getElementsByTagName("label")[0].innerText=config.label||""),config.callbackFn&&"function"==typeof config.callbackFn&&config.callbackFn()}function addInputElement(items){Array.isArray(items)||(items=[items]),items.forEach(function(item){var value,label;value=void 0!==item&&config.valueFn&&"function"==typeof config.valueFn?config.valueFn(item):item;config.labelFn&&"function"==typeof config.labelFn&&(label=config.labelFn(item));var newElement=function(value,label){var multiInputField=document.createElement("div");multiInputField.className="field multi-input-field";var multiInputFieldLabel=document.createElement("label"),labelText=document.createElement("span");labelText.innerText=label||"",multiInputFieldLabel.appendChild(labelText);var multiInputFieldContainer=document.createElement("div");multiInputFieldContainer.className="wrappable";var newID,multiInputFieldInput=document.createElement("input");multiInputFieldInput.value=value||null,multiInputFieldInput.className="multi-input-field-input "+(config.classList&&config.classList.join(" ")),multiInputFieldInput.placeholder=config.placeholder||"",multiInputFieldInput.required=!!config.required,mostRecentlyRemoved.size?(newID=mostRecentlyRemoved.values().next().value,mostRecentlyRemoved.delete(newID)):newID=mostRecentlyAdded.size+1,mostRecentlyAdded.add(newID),multiInputFieldInput.name=(config.name||"multi_input")+"."+newID,multiInputFieldInput.dataset.id=newID;var multiInputFieldRemoveButton=document.createElement("button");multiInputFieldRemoveButton.type="button",multiInputFieldRemoveButton.addEventListener("click",function(){var oldID=multiInputField.getElementsByTagName("input")[0].dataset.id;mostRecentlyAdded.delete(oldID),mostRecentlyRemoved.add(oldID),multiInput.removeChild(multiInputField),config.afterRemoveFn&&"function"==typeof config.afterRemoveFn&&config.afterRemoveFn(multiInputField),config.allowEmpty||multiInput.querySelectorAll(".multi-input-field").length||addInputElement(),update()});var multiInputFieldRemoveIcon=document.createElement("f-icon");return multiInputFieldRemoveIcon.className="fa-times",multiInputFieldRemoveButton.appendChild(multiInputFieldRemoveIcon),multiInputFieldContainer.appendChild(multiInputFieldInput),multiInputFieldContainer.appendChild(multiInputFieldRemoveButton),multiInputField.appendChild(multiInputFieldLabel),multiInputField.appendChild(multiInputFieldContainer),multiInputField}(value,label);multiInput.insertBefore(newElement,multiInputAddEl),config.afterAddFn&&"function"==typeof config.afterAddFn&&config.afterAddFn(newElement,item)})}}MultiInput.prototype.getValues=function(){var values=[];return Array.from(this.multiInput.querySelectorAll(".multi-input-field")).forEach(function(el){values.push(el.getElementsByTagName("input")[0].value)}),values},module.exports=MultiInput},function(module,exports,__webpack_require__){"use strict";var Sliderin=__webpack_require__(126),dom=__webpack_require__(40),lang=__webpack_require__(47),createSimpleSlide=function(params){var slide=new Sliderin(params);return slide.open(),slide.promise},formatMessageContent=function(message,level){return dom.elem("div",{className:level+"-message"},{children:[dom.elem("f-icon",{className:"fa-"+level}),dom.elem("div",{className:"message-content",innerHTML:message})]})},DEFAULT_MESSAGE_WIDTH=module.exports.DEFAULT_MESSAGE_WIDTH=500,LEVEL=module.exports.LEVEL={SUCCESS:"success",INFO:"info",WARNING:"warning",ERROR:"error"};module.exports.alert=function(message,level,params){return level=level||LEVEL.WARNING,params=Object.assign({content:formatMessageContent(message,level),buttons:!0,okButtonClass:null,cancelButton:!1,width:DEFAULT_MESSAGE_WIDTH},params||{}),createSimpleSlide(params)},module.exports.confirm=function(message,level,params){return level=level||LEVEL.WARNING,params=Object.assign({content:formatMessageContent(message,level),title:lang.translate("Confirm"),buttons:!0,width:DEFAULT_MESSAGE_WIDTH},params||{}),createSimpleSlide(params)}},function(module,exports,__webpack_require__){"use strict";const FixedStreamableSource=__webpack_require__(376),util=__webpack_require__(39);class ImplicitFixedStreamableSource extends FixedStreamableSource{constructor(entries){super(),util.objectIsThenable(entries)?this._promise=entries:this._promise=Promise.resolve(entries)}fetchEntries(){return this._promise.then(entries=>{if(Array.isArray(entries))return entries;throw new Error("Invalid source")})}}ImplicitFixedStreamableSource.prototype.REFRESHABLE=!1,module.exports=ImplicitFixedStreamableSource},function(module,exports,__webpack_require__){"use strict";const StandardValue=__webpack_require__(377),Row=__webpack_require__(211),Section=__webpack_require__(213),sort=__webpack_require__(207),util=__webpack_require__(39),log=__webpack_require__(45),lang=__webpack_require__(47),ROW_CACHE_CLEAR_LEVEL={NONE:"none",RENDERING_HEIGHT:"renderingHeight",ALL:"all"};function SourceManager(source,settings){this.id=util.uniqueID(),this.fixedSource=source._FIXED,this.lastUpdate=null,this._source=source,this._settings=settings,this._phasePromises=Object.create(null),this._rowsByHierarchyID=null,this._largestLoadedIndex=0,this._sourceRows=[],this._sourceRows.firstLoadedIndex=null,this._sourceRows.lastLoadedIndex=null,this._sourceRows.loadedCount=0,this._sourceRows.totalCount=0,this._sourceRows.runningTotalCount=0,this._sourceRows.sectionCount=0,this._sourceRows.hiddenRowCount=0,this._flattenedRows=[],this._flattenedRows.firstLoadedIndex=null,this._flattenedRows.lastLoadedIndex=null,this._flattenedRows.loadedCount=0,this._flattenedRows.totalCount=0,this._flattenedRows.runningTotalCount=0,this._sourceRows.sectionCount=0,this._sourceRows.hiddenRowCount=0,this._searchValue=null,this._mouseMoveRowCallback=null,this._mouseDownRowCallback=null,this._clickRowCallback=null,this._doubleClickRowCallback=null,this._rowContextMenuCallback=null,this._toggleSectionCallback=null,this._toggleParentRowCallback=null,this._rowReRenderCallback=null,this._rowDisabledCallback=null,this._editRowCellCallback=null,this._applyRowCellChangeCallback=null,this._cancelRowCellChangeCallback=null,this._sectionContextMenuCallback=null,this._sectionColumnSettingsCallback=null,this._rowCacheClearLevel=ROW_CACHE_CLEAR_LEVEL.NONE,this._locatedRow=null,this._rowLocateFunction=null,this._allSectionValues=null,this._showSections=!1,this._greatestVisibleChildDepth=null,this._topLevelVisibleDepthCount=new Map}var PHASES,result;SourceManager.prototype.FILE_TYPE={CSV:"csv",JSON:"json"},SourceManager.prototype.getRows=function(firstBufferIndex,lastBufferIndex){return this._getRows(firstBufferIndex,lastBufferIndex)},SourceManager.prototype.filterAndCreateSections=function(firstBufferIndex,lastBufferIndex){return this._getRows(firstBufferIndex,lastBufferIndex,this._PHASES.FILTER_AND_SECTION)},SourceManager.prototype._getRows=function(firstBufferIndex,lastBufferIndex,upUntil){upUntil=upUntil||this._PHASES.FLATTEN;var phases=Object.keys(this._PHASES),startIndex=this._getStartIndexForBufferIndices(firstBufferIndex,lastBufferIndex);return this.fixedSource||(phases=phases.slice(0,1),startIndex!==this._sourceRows.firstLoadedIndex&&this._clearCacheForPhase(this._PHASES.RETRIEVE)),this._sourceRows&&this._rowCacheClearLevel!==ROW_CACHE_CLEAR_LEVEL.NONE&&(this._sourceRows.forEach(row=>{this._rowCacheClearLevel===ROW_CACHE_CLEAR_LEVEL.RENDERING_HEIGHT?(row.clearRenderingCache(),row.clearHeightCache()):row.clearAllCache()}),this._rowCacheClearLevel=ROW_CACHE_CLEAR_LEVEL.NONE),phases.reduce(function(previous,key){var phase=this._PHASES[key];return previous.then(function(){return!this._phasePromises[phase]&&phase<=upUntil&&(this._phasePromises[phase]=this._PHASE_FUNCTIONS[phase].apply(this,arguments)),this._phasePromises[phase]}.bind(this))}.bind(this),Promise.resolve(startIndex))},SourceManager.prototype.search=function(searchValue){this._searchValue=searchValue,this._clearCacheForPhase(this._PHASES.FILTER_AND_SECTION)},SourceManager.prototype.isSearchValueSet=function(){return!!this._searchValue},SourceManager.prototype.locate=function(locateFunction){this.unsetLocatedRow(),this._highlightLocatedRow=!0,this._rowLocateFunction=locateFunction,this._clearCacheForPhase(this._PHASES.FILTER_AND_SECTION)},SourceManager.prototype.addEntry=function(entry,params={}){return this.getRows().then(()=>{var sourceIndex=this._sourceRows.totalCount,row=this._createRow(entry,sourceIndex);return this._sourceRows[sourceIndex]=row,this._sourceRows.loadedCount++,this._sourceRows.totalCount++,this._sourceRows.runningTotalCount++,null==this._sourceRows.lastLoadedIndex?this._sourceRows.firstLoadedIndex=this._sourceRows.lastLoadedIndex=0:this._sourceRows.lastLoadedIndex++,this._source._addFixedEntry(entry),params.locateNextRender&&(this.unsetLocatedRow(),this._rowLocateFunction=function(potentialEntry){return potentialEntry===entry}),this._clearCacheForPhase(this._PHASES.FILTER_AND_SECTION),Promise.resolve(row.initialize()).then(()=>row)})},SourceManager.prototype.deleteRows=function(deleteRows){var rows=this._sourceRows,sourceIndices=[];if(deleteRows.forEach(function(row){if(!(row instanceof Row))throw new Error("Invalid row provided");sourceIndices.push(row.sourceIndex)}),sourceIndices.sort(function(a,b){return a-b}),sourceIndices.length){for(let i=sourceIndices.length-1;i>=0;i--){const deleteIndex=sourceIndices[i],row=rows[deleteIndex];row&&(rows.splice(deleteIndex,1),rows.loadedCount--,rows.totalCount--,rows.runningTotalCount--,rows.lastLoadedIndex--,this._source._deleteFixedEntry(row.entry,deleteIndex))}if(rows.totalCount)for(let i=rows.firstLoadedIndex;i<=rows.lastLoadedIndex;i++)rows[i].sourceIndex=i;else rows.firstLoadedIndex=null,rows.lastLoadedIndex=null}this._clearCacheForPhase(this._PHASES.FILTER_AND_SECTION)},SourceManager.prototype.filterAndSection=function(){this._clearCacheForPhase(this._PHASES.FILTER_AND_SECTION)},SourceManager.prototype.sort=function(){this._clearCacheForPhase(this._PHASES.SORT_ROWS)},SourceManager.prototype.retrieveNewRows=function(){this._sourceRows.firstLoadedIndex=null,this._sourceRows.lastLoadedIndex=null,this._clearCacheForPhase(this._PHASES.RETRIEVE)},SourceManager.prototype.moveRow=function(params){var i,originalEntries,entry,row=this._sourceRows[params.originalSourceIndex];if(this.fixedSource&&(entry=(originalEntries=this._source._getFixedEntriesSync())[params.originalSourceIndex]),params.originalSourceIndex<=params.newSourceIndex)for(i=row.sourceIndex+1;i<=params.newSourceIndex;i++)this._sourceRows[i].sourceIndex--,this._sourceRows[i-1]=this._sourceRows[i],this.fixedSource&&(originalEntries[i-1]=originalEntries[i]);else for(i=row.sourceIndex;i>params.newSourceIndex;i--)this._sourceRows[i]=this._sourceRows[i-1],this._sourceRows[i].sourceIndex++,this.fixedSource&&(originalEntries[i]=originalEntries[i-1]);this._sourceRows[params.newSourceIndex]=row,row.sourceIndex=params.newSourceIndex,this.fixedSource&&(originalEntries[params.newSourceIndex]=entry)},SourceManager.prototype.getLocatedRow=function(){return this._locatedRow},SourceManager.prototype.getSourceRows=function(){return this._sourceRows},SourceManager.prototype.getAllSectionValues=function(){return this._allSectionValues},SourceManager.prototype.getSourceInstance=function(){return this._source},SourceManager.prototype.getRowsForHierarchyID=function(id){let rows=[];return this._settings.parentChildRows&&this.fixedSource&&this._rowsByHierarchyID&&(rows=this._rowsByHierarchyID.get(id)||[]),rows},SourceManager.prototype.unsetLocatedRow=function(){this._locatedRow=null,this._highlightLocatedRow=!1,this._rowLocateFunction=null},SourceManager.prototype.getRowsWithinSameSequenceGrouping=function(section){var i,rowSequenceGroupingValue,sequenceGroupingValue=section.firstRow.getSequenceGroupingValue(),rows=[];for(i=section.firstRow.sourceIndex;i<this._sourceRows.length&&(!(rowSequenceGroupingValue=this._sourceRows[i].getSequenceGroupingValue())||rowSequenceGroupingValue===sequenceGroupingValue);i++)rows.push(this._sourceRows[i]);return rows},SourceManager.prototype.getRowsWithSameSequenceGroupingValue=function(section,fromIndex){var i,rowSequenceGroupingValue,sequenceGroupingValue=section.firstRow.getSequenceGroupingValue(),rows=[];for(i=fromIndex=null==fromIndex?section.firstRow.sourceIndex:fromIndex;i<this._sourceRows.length;i++)if(rowSequenceGroupingValue=this._sourceRows[i].getSequenceGroupingValue()){if(rowSequenceGroupingValue!==sequenceGroupingValue)break;rows.push(this._sourceRows[i])}return rows},SourceManager.prototype.clearRowRenderingAndHeightCache=function(){this._rowCacheClearLevel=ROW_CACHE_CLEAR_LEVEL.RENDERING_HEIGHT},SourceManager.prototype.clearAllRowCache=function(){this._rowCacheClearLevel=ROW_CACHE_CLEAR_LEVEL.ALL},SourceManager.prototype.expandAllSections=function(){this._toggleSections(!0)},SourceManager.prototype.collapseAllSections=function(){this._toggleSections(!1)},SourceManager.prototype.collectValueStatisticsForColumn=function(column){let rows=this._sourceRows;return column.resetValueStatistics(),this._resolveCellValues(rows,column).then(()=>(rows.forEach(row=>{row.isIncludedInCurrentResult()&&column.shouldRowBeCheckedForMatch(row)&&column.incrementValueCount(row,row.getCellValueSync(column))}),column.processValueStatistics(),column.getValueStatistics()))},SourceManager.prototype.exportToFile=async function(name,fileType){await this.getRows();const activeColumns=this._settings.getActiveColumnsInOrder().filter(column=>!column.internal),rows=this.getSourceRows();let file,extension;await this._resolveCellValues(rows,activeColumns),fileType===this.FILE_TYPE.CSV?file=`${activeColumns.map(column=>lang.translate(column.langKey)).join(",")}\n`:fileType===this.FILE_TYPE.JSON&&(file=[]);for(const row of rows)if(fileType===this.FILE_TYPE.CSV){file+=`${activeColumns.map(column=>{let value=row.getCellValueSync(column);return(value=null==value?"":value.toString()).includes(",")&&(value=`"${value.replace(/"/g,"'")}"`),value})}\n`}else if(fileType===this.FILE_TYPE.JSON){const rowObject=Object.create(null);for(const column of activeColumns)rowObject[lang.translate(column.langKey)]=row.getCellValueSync(column).toString();file.push(rowObject)}fileType===this.FILE_TYPE.JSON&&(file=JSON.stringify(file,null,2)),fileType===this.FILE_TYPE.CSV?extension="csv":fileType===this.FILE_TYPE.JSON&&(extension="json"),util.createTextFile({name:`${name}.${extension}`,content:file})},SourceManager.prototype.isRefreshable=function(){return this._source.REFRESHABLE},SourceManager.prototype.isAutoRefreshable=function(){return this._source.AUTO_REFRESH},SourceManager.prototype.getAutoRefreshOptions=function(){return this._source.AUTO_REFRESH_OPTIONS},SourceManager.prototype.onMouseMoveRow=function(callback){this._mouseMoveRowCallback=callback},SourceManager.prototype.onMouseDownInsideRow=function(callback){this._mouseDownRowCallback=callback},SourceManager.prototype.onClickRow=function(callback){this._clickRowCallback=callback},SourceManager.prototype.onDoubleClickRow=function(callback){this._doubleClickRowCallback=callback},SourceManager.prototype.onRowContextMenu=function(callback){this._rowContextMenuCallback=callback},SourceManager.prototype.onToggleSection=function(callback){this._toggleSectionCallback=callback},SourceManager.prototype.onToggleParentRow=function(callback){this._toggleParentRowCallback=callback},SourceManager.prototype.onRowReRender=function(callback){this._rowReRenderCallback=callback},SourceManager.prototype.onRowDisabled=function(callback){this._rowDisabledCallback=callback},SourceManager.prototype.onEditRowCell=function(callback){this._editRowCellCallback=callback},SourceManager.prototype.onApplyRowCellChange=function(callback){this._applyRowCellChangeCallback=callback},SourceManager.prototype.onCancelRowCellChange=function(callback){this._cancelRowCellChangeCallback=callback},SourceManager.prototype.onSectionContextMenu=function(callback){this._sectionContextMenuCallback=callback},SourceManager.prototype.onSectionColumnSettings=function(callback){this._sectionColumnSettingsCallback=callback},SourceManager.prototype._PHASES={RETRIEVE:0,COLLECT_CHILDREN:1,FILTER_AND_SECTION:2,SORT_SECTIONS:3,SORT_ROWS:4,FLATTEN:5},SourceManager.prototype._clearCacheForPhase=function(phase){Object.keys(this._phasePromises).forEach(function(key){Number(key)>=phase&&delete this._phasePromises[key]}.bind(this)),this.fixedSource||(this._sourceRows.firstLoadedIndex=null,this._sourceRows.lastLoadedIndex=null)},SourceManager.prototype._getStartIndexForBufferIndices=function(first,last){var middle=((last=last||0)-(first=first||0))/2+first;return Math.max(0,Math.floor(middle-this._source.FETCH_SIZE/2))},SourceManager.prototype._createRow=function(entry,sourceIndex,copyNumber=0){const mouseMove=function(){"function"==typeof this._mouseMoveRowCallback&&this._mouseMoveRowCallback.apply(null,arguments)}.bind(this),mouseDown=function(){"function"==typeof this._mouseDownRowCallback&&this._mouseDownRowCallback.apply(null,arguments)}.bind(this),click=function(){"function"==typeof this._clickRowCallback&&this._clickRowCallback.apply(null,arguments)}.bind(this),doubleClick=function(){"function"==typeof this._doubleClickRowCallback&&this._doubleClickRowCallback.apply(null,arguments)}.bind(this),contextMenu=function(){"function"==typeof this._rowContextMenuCallback&&this._rowContextMenuCallback.apply(null,arguments)}.bind(this),reRender=function(){"function"==typeof this._rowReRenderCallback&&this._rowReRenderCallback.apply(null,arguments)}.bind(this),disabled=function(){"function"==typeof this._rowDisabledCallback&&this._rowDisabledCallback.apply(null,arguments)}.bind(this),editCell=function(){"function"==typeof this._editRowCellCallback&&this._editRowCellCallback.apply(null,arguments)}.bind(this),applyCellChange=function(){"function"==typeof this._applyRowCellChangeCallback&&this._applyRowCellChangeCallback.apply(null,arguments)}.bind(this),cancelCellChange=function(){"function"==typeof this._cancelRowCellChangeCallback&&this._cancelRowCellChangeCallback.apply(null,arguments)}.bind(this),toggleParentRow=function(row){this._toggleParentRow(row),"function"==typeof this._toggleParentRowCallback&&this._toggleParentRowCallback.apply(null,arguments)}.bind(this),row=new Row(this.id+(sourceIndex+1)+copyNumber,entry,this._settings);return row.sourceIndex=row.insertedIndex=sourceIndex,row.onMouseMove(mouseMove),row.onMouseDown(mouseDown),row.onClick(click),row.onDoubleClick(doubleClick),row.onContextMenu(contextMenu),row.onReRender(reRender),row.onDisabled(disabled),row.onEditCell(editCell),row.onApplyCellChange(applyCellChange),row.onCancelCellChange(cancelCellChange),row.onToggleParentRow(toggleParentRow),row},SourceManager.prototype._retrieveRows=function(startIndex){var i,fetchParams={},sourceRows=[],trailingRowsRecycled=!1,endIndex=startIndex+this._source.FETCH_SIZE-1,fetchStartIndex=startIndex,fetchEndIndex=endIndex;if(!this.fixedSource&&null!=this._sourceRows.firstLoadedIndex&&null!=this._sourceRows.lastLoadedIndex)if(this._sourceRows.firstLoadedIndex<=fetchStartIndex&&this._sourceRows.lastLoadedIndex>fetchStartIndex)for(i=fetchStartIndex;i<=Math.min(this._sourceRows.lastLoadedIndex,fetchEndIndex);i++)sourceRows[i]=this._sourceRows[i],fetchStartIndex=i+1;else if(this._sourceRows.firstLoadedIndex<fetchEndIndex&&this._sourceRows.lastLoadedIndex>=fetchEndIndex)for(i=fetchEndIndex;i>=Math.max(this._sourceRows.firstLoadedIndex,fetchStartIndex);i--)sourceRows[i]=this._sourceRows[i],fetchEndIndex=i-1,trailingRowsRecycled=!0;return this._settings.activeColumns.forEach(column=>{column.resetMaxNumberValue(),!this.fixedSource&&column.isSorted()&&(fetchParams.sortColumn=column.id,fetchParams.sortDirection=column.getSortDirection())}),this._source.fetchEntries(fetchStartIndex,fetchEndIndex,fetchParams).then(function(entries){var j,sourceIndex,row,totalCount,initializeResult,previousTotalCount=this._sourceRows.totalCount,promises=[];if(this._settings._sourceFilterFunction)try{entries=this._settings._sourceFilterFunction(entries)}catch(e){log.error(e)}if(this.fixedSource&&this._source._setFixedEntries(entries||[]),entries&&entries.length){for(j=0;j<entries.length;j++)sourceIndex=fetchStartIndex+j,row=this._createRow(entries[j],sourceIndex),sourceRows[sourceIndex]=row,initializeResult=row.initialize(),util.objectIsThenable(initializeResult)&&promises.push(initializeResult);endIndex=sourceIndex}else endIndex=trailingRowsRecycled?startIndex:Math.max(startIndex,fetchStartIndex-1);return endIndex>=startIndex&&sourceRows[endIndex]?(this._largestLoadedIndex=endIndex<fetchEndIndex?endIndex:Math.max(endIndex,this._largestLoadedIndex),sourceRows.firstLoadedIndex=startIndex,sourceRows.lastLoadedIndex=endIndex,sourceRows.loadedCount=endIndex-startIndex+1,sourceRows.runningTotalCount=this._largestLoadedIndex+1,null==(totalCount=this.fixedSource?sourceRows.loadedCount:this._source.getCount()||null)?fetchEndIndex>endIndex?totalCount=sourceRows.runningTotalCount:previousTotalCount&&previousTotalCount>=sourceRows.runningTotalCount&&(totalCount=previousTotalCount):fetchEndIndex+1>=totalCount&&endIndex+1<totalCount&&(log.warn('Received less rows than specified in "setCount()" '+`(${sourceRows.runningTotalCount} vs ${totalCount})`),totalCount=sourceRows.runningTotalCount),sourceRows.totalCount=totalCount):(sourceRows.firstLoadedIndex=null,sourceRows.lastLoadedIndex=null,sourceRows.loadedCount=0,sourceRows.totalCount=sourceRows.runningTotalCount=this._largestLoadedIndex=0),sourceRows.sectionCount=sourceRows.hiddenRowCount=0,this._sourceRows=sourceRows,this.lastUpdate=Date.now(),Promise.all(promises).then(function(){return this._sourceRows}.bind(this))}.bind(this))},SourceManager.prototype._preloadColumns=function(rows,activeColumns,filterColumns){const sequenceGroupingColumn=this._settings.getHiddenSequenceGroupingColumn(),statisticCollectColumns=this._settings.getStatisticCollectedColumns();let preloadPromise=Promise.resolve(),preloadColumns=new Set(filterColumns);if(this._settings.sectionColumn&&preloadColumns.add(this._settings.sectionColumn),this._searchValue)for(const column of activeColumns)column.isSearchable()&&preloadColumns.add(column);return sequenceGroupingColumn&&preloadColumns.add(sequenceGroupingColumn),statisticCollectColumns.length&&statisticCollectColumns.forEach(column=>preloadColumns.add(column)),preloadColumns.size&&(preloadPromise=this._resolveCellValues(rows,Array.from(preloadColumns))),preloadPromise},SourceManager.prototype._collectChildren=function(rows){if(!this._settings.parentChildRows||!this.fixedSource)return rows;const parentsByID=new Map,childrenByParentID=new Map,rootRows=[];for(const row of rows){const rowID=row.getHierarchyID(),parentRowIDs=row.getParentRowHierarchyIDs();if(row.resetDepthAsChild(),row.setChildrenExpanded(!1),rowID){const children=childrenByParentID.get(rowID),parents=parentsByID.get(rowID)||[];children&&(row.addChildren(children),childrenByParentID.delete(rowID)),parents.push(row),parentsByID.set(rowID,parents)}if(parentRowIDs){for(let i=0;i<parentRowIDs.length;i++){const parentRowID=parentRowIDs[i],parentRows=parentsByID.get(parentRowID);let copiedRow=0===i?row:this._createRow(row.entry,row.sourceIndex,i);if(i&&rowID){const parents=parentsByID.get(rowID)||[];parents.push(copiedRow),parentsByID.set(rowID,parents)}if(parentRows)for(let j=0;j<parentRows.length;j++){const parentRow=parentRows[j];copiedRow=0===j?copiedRow:this._createRow(row.entry,row.sourceIndex,i+parentRowIDs.length+j),parentRow.addChildren(copiedRow)}else{const children=childrenByParentID.get(parentRowID)||[];children.push(copiedRow),childrenByParentID.set(parentRowID,children)}}if(row.shouldIncludeStandalone()){const copiedRow=this._createRow(row.entry,row.sourceIndex,parentRowIDs.length),standaloneRowID=row.getStandaloneRowID();standaloneRowID&&parentsByID.set(standaloneRowID,copiedRow),rootRows.push(copiedRow)}}else rootRows.push(row)}return this._rowsByHierarchyID=parentsByID,rootRows},SourceManager.prototype._MATCH_TYPE={LOCATE:2,SEARCH:4,FILTER:8},SourceManager.prototype._shouldIncludeRow=function(row,activeColumns,filterColumns,section,includeByParent=!1){let includeByRow=!0,includeByChild=!1,matchType=0,visibleDepth=0;if(row.setSearchValue(this._searchValue),row.setIncludedInCurrentResult(!1),row.setVisibleDepth(0),row.setChildrenExpanded(!1),row.insertedIndex=null,section.incrementUnfilteredCount(),!this._locatedRow&&this._rowLocateFunction&&this._rowLocateFunction(row.entry))includeByRow=!0,matchType|=this._MATCH_TYPE.LOCATE,this._highlightLocatedRow&&row.setLocated(!0),this._locatedRow=row,this._rowLocateFunction=null;else{if(this._searchValue){includeByRow=!1;for(const column of activeColumns)!column.internal&&column.searchMatchesRow(this._searchValue,row)&&(row.setSearchMatchForColumn(column.id),includeByRow=!0)}(includeByRow=includeByRow&&filterColumns.every(column=>column.filterMatchesRow(row)))&&(this._searchValue&&(matchType|=this._MATCH_TYPE.SEARCH),filterColumns.length&&(matchType|=this._MATCH_TYPE.FILTER))}if(this._settings.parentChildRows){if(row.isParent()){let greatestChildDepth=0,childrenMatchType=0;for(const childRow of row.getChildRows()){const[include,childMatchType,childDepth]=this._shouldIncludeRow(childRow,activeColumns,filterColumns,section,includeByRow||includeByParent);include&&(includeByChild=!0),childDepth>greatestChildDepth&&(greatestChildDepth=childDepth),childMatchType&&(childrenMatchType|=childMatchType)}childrenMatchType&&(matchType|=childrenMatchType,row.setChildrenExpanded(!0),visibleDepth=greatestChildDepth,row.setVisibleDepth(visibleDepth)),childrenMatchType&this._MATCH_TYPE.SEARCH&&row.setChildMatchesSearchValue(!0)}row.isChild()&&visibleDepth++}return(matchType&this._MATCH_TYPE.LOCATE||matchType&this._MATCH_TYPE.SEARCH)&&section.setIncludesMatchedRow(!0),(includeByRow||includeByChild||includeByParent)&&(row.setIncludedInCurrentResult(!0),section.incrementRowCount()),[includeByRow||includeByChild,matchType,visibleDepth]},SourceManager.prototype._addRowToSection=function(row,section,statisticCollectColumns,add=!0){if(add&&section.rows.push(row),statisticCollectColumns.forEach(column=>{column.shouldRowBeCheckedForMatch(row)&&column.incrementValueCount(row,row.getCellValueSync(column))}),"function"==typeof this._settings.processEntryForSection)try{this._settings.processEntryForSection(row.entry,section)}catch(e){log.error(e)}if(this._settings.parentChildRows&&row.isParent())for(const childRow of row.getChildRows())childRow.isIncludedInCurrentResult()&&this._addRowToSection(childRow,section,statisticCollectColumns,!1)},SourceManager.prototype._filterAndCreateSections=async function(rows){const statisticCollectColumns=this._settings.getStatisticCollectedColumns(),statisticCollectColumnsSet=new Set(statisticCollectColumns),allColumns=this._settings.columns,sequenceGroupingColumn=this._settings.getHiddenSequenceGroupingColumn(),activeColumns=[...this._settings.activeColumns];this._settings.sectionColumn&&activeColumns.push(this._settings.sectionColumn);const activeColumnsSet=new Set(activeColumns),filterColumns=allColumns.filter(column=>column.isFiltered()&&(activeColumnsSet.has(column)||statisticCollectColumnsSet.has(column)));allColumns.forEach(column=>column.resetValueStatistics()),await this._preloadColumns(rows,activeColumns,filterColumns);const sections=[],sectionMap=new Map,sectioningColumn=sequenceGroupingColumn||this._settings.sectionColumn;let lastSection,showSections=!1;this._allSectionValues=new Set,this._topLevelVisibleDepthCount=new Map,this._greatestVisibleChildDepth=0;for(const row of rows){lastSection||(lastSection=new Section(new StandardValue(""),row,this._settings),sectioningColumn&&lastSection.setColumn(sectioningColumn));let section=lastSection,sectionValueInstance=sectioningColumn?row.getCellValueSync(sectioningColumn):lastSection.valueInstance,sectionValue=sectionValueInstance.getValue();sectionValue&&(showSections||row.isImplicitSequenceGrouping()||(showSections=!0),this._allSectionValues.add(sectionValue)),sequenceGroupingColumn?!sectionValue||sectionValue===lastSection.value&&lastSection.isImplicitSequenceGrouping()===row.isImplicitSequenceGrouping()||(section=new Section(sectionValueInstance,row,this._settings)).setColumn(sequenceGroupingColumn):sectionMap.has(sectionValue)?section=sectionMap.get(sectionValue):(section=new Section(sectionValueInstance,row,this._settings)).setColumn(sectioningColumn);const[include,,visibleDepth]=this._shouldIncludeRow(row,activeColumns,filterColumns,section);include&&(this._addRowToSection(row,section,statisticCollectColumns),this._settings.parentChildRows&&row.isParent()&&visibleDepth&&this._updateTopLevelCountForVisibleDepth(visibleDepth,1),sequenceGroupingColumn?sections.length&&sections[sections.length-1]===section||sections.push(section):sectionMap.has(sectionValue)||(sectionMap.set(sectionValue,section),sections.push(section))),sequenceGroupingColumn&&section!==lastSection&&(lastSection=section)}return statisticCollectColumns.length&&statisticCollectColumns.forEach(column=>column.processValueStatistics()),this._calculateGreatestVisibleDepth(),this._showSections=showSections,sections},SourceManager.prototype._getSortDirectionMultiplier=function(sortDirection){return sortDirection===this._settings.SORT_DIRECTION.ASCENDING?1:-1},SourceManager.prototype._sortSections=function(sections){let result=Promise.resolve(sections);if(this._settings.sortSections&&this._settings.sectionColumn){const multiplier=this._getSortDirectionMultiplier(this._settings.sectionSortDirection),comparator=this._settings.sectionColumn.getSortComparator();result=new Promise(function(resolve){sort(sections,function(sectionA,sectionB){const valueA=sectionA.valueInstance,valueB=sectionB.valueInstance,entryA=sectionA.rows[0].entry,entryB=sectionB.rows[0].entry;return multiplier*comparator(valueA,valueB,entryA,entryB)},function(){resolve(sections)})})}return result},SourceManager.prototype._sortRows=function(sections){let result=Promise.resolve(sections);if(this._settings.sorting){const sortColumn=this._settings.activeColumns.find(column=>column.isSorted());if(sortColumn){const multiplier=this._getSortDirectionMultiplier(sortColumn.getSortDirection()),comparator=sortColumn.getSortComparator();result=Promise.all(sections.map(section=>this._resolveCellValues(section.rows,sortColumn).then(()=>{const rowGroups=[section.rows],sortPromises=[];for(const rows of rowGroups){for(const row of rows){const childRows=row.getChildRows();childRows&&childRows.length>0&&rowGroups.push(childRows),row.resetChildType()}sortPromises.push(new Promise(resolve=>{setTimeout(()=>{sort(rows,(rowA,rowB)=>{const valueA=rowA.getCellValueSync(sortColumn),valueB=rowB.getCellValueSync(sortColumn);return multiplier*comparator(valueA,valueB,rowA.entry,rowB.entry)},resolve)})}))}return Promise.all(sortPromises)}))).then(()=>sections)}}return result},SourceManager.prototype._flattenSectionRow=function(section,row,flattened,index,add=!0){let addedCount=0,hiddenCount=0;if(row.section=section,add?(row.insertedIndex=index++,addedCount++,flattened.push(row)):(row.insertedIndex=null,hiddenCount++),this._settings.parentChildRows&&row.isParent()){const expanded=row.areChildrenExpanded();row.getChildRows().forEach(childRow=>{if(childRow.isIncludedInCurrentResult()){const[childAddedCount,childHiddenCount]=this._flattenSectionRow(section,childRow,flattened,index,expanded&&add);addedCount+=childAddedCount,index+=childAddedCount,hiddenCount+=childHiddenCount}})}return[addedCount,hiddenCount]},SourceManager.prototype._flatten=function(sections){const toggleSection=function(section){this._toggleSections(!this._settings.isSectionExpanded(section.id),section.id),"function"==typeof this._toggleSectionCallback&&this._toggleSectionCallback(section.insertedIndex)}.bind(this),contextMenu=function(){this._sectionContextMenuCallback&&this._sectionContextMenuCallback.apply(null,arguments)}.bind(this),columnSettings=function(){this._sectionColumnSettingsCallback&&this._sectionColumnSettingsCallback.apply(null,arguments)}.bind(this);let flattened=[],insertedIndex=0,sectionCount=0,hiddenRowCount=0;for(const section of sections)if(this._showSections){let expanded=this._settings.isSectionExpanded(section.id);section.setSearchValue(this._searchValue),section.onToggle(toggleSection),section.onContextMenu(contextMenu),section.onColumnSettings(columnSettings),flattened.push(section),section.insertedIndex=insertedIndex,insertedIndex++,sectionCount++,!expanded&&section.includesMatchedRow()&&(this._settings.expandSectionAndPersist(section.id,!0),expanded=!0);for(const row of section.rows){const[added,hidden]=this._flattenSectionRow(section,row,flattened,insertedIndex,expanded);insertedIndex+=added,hiddenRowCount+=hidden}}else for(const row of section.rows){const[added,hidden]=this._flattenSectionRow(null,row,flattened,insertedIndex);insertedIndex+=added,hiddenRowCount+=hidden}return this._sections=sections,this._flattenedRows=flattened,this._flattenedRows.firstLoadedIndex=flattened.length?0:null,this._flattenedRows.lastLoadedIndex=flattened.length?flattened.length-1:null,this._flattenedRows.loadedCount=this._flattenedRows.runningTotalCount=this._flattenedRows.totalCount=flattened.length,this._flattenedRows.sectionCount=sectionCount,this._flattenedRows.hiddenRowCount=hiddenRowCount,Promise.resolve(flattened)},SourceManager.prototype._PHASE_FUNCTIONS=(PHASES=SourceManager.prototype._PHASES,(result=Object.create(null))[PHASES.RETRIEVE]=SourceManager.prototype._retrieveRows,result[PHASES.COLLECT_CHILDREN]=SourceManager.prototype._collectChildren,result[PHASES.FILTER_AND_SECTION]=SourceManager.prototype._filterAndCreateSections,result[PHASES.SORT_SECTIONS]=SourceManager.prototype._sortSections,result[PHASES.SORT_ROWS]=SourceManager.prototype._sortRows,result[PHASES.FLATTEN]=SourceManager.prototype._flatten,result),SourceManager.prototype._resolveCellValues=async function(rows,columns){let index=0,promises=[];Array.isArray(columns)||(columns=[columns]);const collectValuePromises=row=>{this._settings.parentChildRows&&row.isParent()&&row.getChildRows().forEach(collectValuePromises);for(let column of columns){let cellValue=row.getCellValue(column);util.objectIsThenable(cellValue)&&promises.push(cellValue)}};for(let row of rows)collectValuePromises(row),promises.length&&index%100==0&&(await Promise.all(promises),promises=[]),index++;await Promise.all(promises)},SourceManager.prototype._updateRowsMeta=function(difference){this._flattenedRows.lastLoadedIndex+=difference,this._flattenedRows.loadedCount+=difference,this._flattenedRows.totalCount+=difference,this._flattenedRows.hiddenRowCount-=difference},SourceManager.prototype._toggleSections=function(expand,id){const changedSections=new Map,parentChildRows=this._settings.parentChildRows;let index=0,previousSectionHasChanged=!1;const addRow=row=>{if(this._flattenedRows.splice(index,0,row),row.insertedIndex=index++,this._updateRowsMeta(1),parentChildRows&&row.isParent()&&row.areChildrenExpanded())for(const child of row.getChildRows())child.isIncludedInCurrentResult()&&addRow(child)},removeRow=row=>{if(this._flattenedRows.splice(index,1),parentChildRows&&row.isParent()&&row.areChildrenExpanded())for(const child of row.getChildRows())child.isIncludedInCurrentResult()&&removeRow(child);row.insertedIndex=null,this._updateRowsMeta(-1)},incrementRowIndex=row=>{if(row.insertedIndex=index++,parentChildRows&&row.isParent()&&row.areChildrenExpanded())for(const child of row.getChildRows())child.isIncludedInCurrentResult()&&incrementRowIndex(child)};for(const section of this._sections){const matches=null==id||section.id===id,currentlyExpanded=this._settings.isSectionExpanded(section.id),needsChange=matches&&expand!==currentlyExpanded;if((previousSectionHasChanged||needsChange)&&(section.insertedIndex=index++),needsChange)section.updateVisualToggle(expand),expand?section.rows.forEach(addRow):section.rows.forEach(removeRow),changedSections.set(section.id,expand),previousSectionHasChanged=!0;else if(previousSectionHasChanged)(matches&&expand||!matches&&currentlyExpanded)&&section.rows.forEach(incrementRowIndex);else if(this._settings.isSectionExpanded(section.id)){let lastRowOfSection=section.rows[section.rows.length-1];if(parentChildRows)for(;lastRowOfSection.isParent()&&lastRowOfSection.areChildrenExpanded();){const children=lastRowOfSection.getChildRows().filter(child=>child.isIncludedInCurrentResult());lastRowOfSection=children[children.length-1]}index=lastRowOfSection.insertedIndex+1}else index=section.insertedIndex+1}changedSections.forEach((shouldExpand,sectionID)=>{this._settings.expandSectionAndPersist(sectionID,shouldExpand)})},SourceManager.prototype._toggleParentRow=function(row,depth=0){const children=row.getChildRows().filter(child=>child.isIncludedInCurrentResult());if(row.areChildrenExpanded())Array.prototype.splice.apply(this._flattenedRows,[row.insertedIndex+1,0].concat(children)),this._updateRowsMeta(children.length);else{for(let i=children.length-1;i>=0;i--){const childRow=children[i];childRow.isParent()&&childRow.areChildrenExpanded()&&(childRow.toggleChildrenExpansion({dontNotify:!0}),childRow.recalculateVisibleDepth(),this._toggleParentRow(childRow,depth+1))}this._flattenedRows.splice(row.insertedIndex+1,children.length),this._updateRowsMeta(-children.length)}if(!depth){this._updateLargestVisibleDepth(row);for(let index=row.insertedIndex+1;index<this._flattenedRows.length;index++)this._flattenedRows[index].insertedIndex=index}},SourceManager.prototype._updateLargestVisibleDepth=function(row){const currentLarget=this._greatestVisibleChildDepth;let oldDepth,oldCount,newDepth;for(;oldDepth=row.getVisibleDepth(),newDepth=row.recalculateVisibleDepth(),row.isChild();)row=row.getParentRow();oldDepth&&(oldCount=this._updateTopLevelCountForVisibleDepth(oldDepth,-1)),newDepth&&this._updateTopLevelCountForVisibleDepth(newDepth,1),(newDepth>currentLarget||oldDepth===currentLarget&&!oldCount)&&this._calculateGreatestVisibleDepth()},SourceManager.prototype._updateTopLevelCountForVisibleDepth=function(depth,change){let newCount=(this._topLevelVisibleDepthCount.get(depth)||0)+change;return newCount?this._topLevelVisibleDepthCount.set(depth,newCount):this._topLevelVisibleDepthCount.delete(depth),newCount},SourceManager.prototype._calculateGreatestVisibleDepth=function(){this._greatestVisibleChildDepth=Math.max(...[0,...this._topLevelVisibleDepthCount.keys()]),this._settings.setGreatestVisibleChildDepth(this._greatestVisibleChildDepth)},module.exports=SourceManager},function(module,exports,__webpack_require__){"use strict";const Value=__webpack_require__(161),dateTime=__webpack_require__(110);module.exports=class extends Value{constructor(input,row,column,settings){if(super(row,column),this._date=null,this._settings=settings,this._sortValue=null,"function"==typeof column.dateType?this._dateType=column.dateType.call(row,row.entry):this._dateType=column.dateType,input&&(input instanceof Date?this._date=input:"number"==typeof input&&(this._date=new Date(input)),this._date.setMilliseconds(0),this._dateType===column.DATE_TYPE.TIME)){const initializedTime=this._settings.getInitializedTime();this._date.setFullYear(initializedTime.getFullYear()),this._date.setMonth(initializedTime.getMonth(),initializedTime.getDate())}}getValue(){return this._date}toString(){let string="";return this._date&&(string=dateTime.formatDateTime(this._date)),string}format(){let formatted;if(this._date)switch(this._dateType){case this._column.DATE_TYPE.DATE_TIME:formatted=dateTime.formatDateTime(this._date);break;case this._column.DATE_TYPE.TIME:formatted=dateTime.formatTime(this._date);break;case this._column.DATE_TYPE.FROM_NOW:formatted=dateTime.formatDateFromNow(this._date,null,{fromBrowser:!0})}else formatted="";return formatted}getDateType(){return this._dateType}getTimeOfDayInMS(){let result=null;return this._date&&(result=this._date.getHours()*dateTime.MS_CONSTANTS.HOUR+this._date.getMinutes()*dateTime.MS_CONSTANTS.MINUTE+this._date.getSeconds()*dateTime.MS_CONSTANTS.SECOND),result}compareTo(otherValue){return this._getSortValue()-otherValue._getSortValue()}matchedBySearch(searchValue){return this._date&&this.format().indexOf(searchValue)>=0}_getSortValue(){return null==this._sortValue&&(this._sortValue=this._date?this._date.getTime():0),this._sortValue}}},function(module,exports,__webpack_require__){"use strict";const Omniselect=__webpack_require__(158),log=__webpack_require__(45),dom=__webpack_require__(40),util=__webpack_require__(39),lang=__webpack_require__(47),Tooltip=__webpack_require__(59),CollectionValue=__webpack_require__(162);module.exports=class extends CollectionValue{constructor(input,row,column,settings){super(input,row,column,settings),this._resolved=!1,this._resolveResult=null,this._resolvedEntries=null,this._entrySourceIDMap=new Map,this._entryFallbackSet=new Set,this._editedValue=null,this._editingInstance=null,this._selectSettings=null}resolve(){var entries,promises;return this._resolved||(promises=[],entries=[],CollectionValue.prototype.getEntries.call(this).forEach(function(entry,index){var processedEntry,entryID,sourceID,addEntry=function(resolvedEntry){resolvedEntry?(entries[index]=resolvedEntry,this._entrySourceIDMap.set(resolvedEntry,sourceID)):this._column.omniselectAllowFallback?(entries[index]=entry,this._entryFallbackSet.add(entry)):log.error(`Entry ID "${entryID}" does not exist within Omniselect `+`source "${sourceID}".`)}.bind(this);entry&&(entryID=this._getEntryID(entry),sourceID=this._getEntrySourceID(entry),null!=entryID&&sourceID?(processedEntry=this._getProcessedEntry(entryID,sourceID),util.objectIsThenable(processedEntry)?promises.push(processedEntry.then(addEntry)):addEntry(processedEntry)):this._column.omniselectAllowFallback?(entries[index]=entry,this._entryFallbackSet.add(entry)):log.error("Could not determine entry ID or source ID for table formatted Omniselect entry"))}.bind(this)),promises.length?this._resolveResult=Promise.all(promises).then(function(){this._setResolvedEntries(entries)}.bind(this)):this._setResolvedEntries(entries),this._resolved=!0),this._resolveResult}getEntries(){return this._resolvedEntries}getEntryValue(entry){var value,sourceID;return this._entryValuesMap.has(entry)?value=this._entryValuesMap.get(entry):this._entryFallbackSet.has(entry)?value=CollectionValue.prototype.getEntryValue.call(this,entry):(sourceID=this._getEntrySourceID(entry),value=Omniselect.processedGetEntryValueSync(entry,sourceID),this._entryValuesMap.set(entry,value)),value}formatEntry(entry){var formatted,sourceID;return this._entryFallbackSet.has(entry)?formatted=CollectionValue.prototype.formatEntry.call(this,entry):(sourceID=this._getEntrySourceID(entry),formatted=Omniselect.processedFormatEntrySync(entry,sourceID)),formatted}formatForEditing(){const column=this._column;if(column.editableTreatAsStandard)return super.formatForEditing();{const selectSettings=this.getEditingSettings(),currentSelection=this._editedValue=this.getEntries();return this._editingInstance||(this._editingInstance=new Omniselect({includeInput:!1,settings:Object.assign({},selectSettings,{validateFunction:function(selected){let errorMessage;const isEmpty=!selected.length;if(column.editableRequired&&isEmpty&&(errorMessage=lang.translate("One entry must be selected")),!errorMessage&&"function"==typeof column.editableValidateFunction)try{let result=column.editableValidateFunction(selected,this._row.entry);"string"==typeof result&&result&&(errorMessage=lang.translate(result))}catch(e){log.error(e)}return errorMessage||"function"!=typeof selectSettings.validateFunction||(errorMessage=selectSettings.validateFunction.apply(this._editingInstance,arguments)),errorMessage}.bind(this)}),selected:currentSelection,changeCallback:updated=>this._editedValue=updated})),this._editingInstance.openChooser().then(updated=>{this._editedValue=updated,this._row.completeEditingFromCell({validated:!0})},()=>{this._row.cancelEditingFromCell()}),this.formatForTable()}}handlesEditingValidation(){return!this._column.editableTreatAsStandard||super.handlesEditingValidation()}validateEditingValue(){return this._editingInstance.validateSelected()}getEditedValue(){return this._column.editableTreatAsStandard?super.getEditedValue():this._editedValue}stoppedEditing(){this._editingInstance&&this._editingInstance.destroy(),this._editingInstance=null,this._editedValue=null}getEditingSettings(){if(!this._selectSettings){let selectSettings=this._column.editableOmniselectSettings;if("function"==typeof selectSettings&&(selectSettings=selectSettings.call(this._row,this._row.entry,this._column)),!selectSettings)throw new Error('"editableOmniselectSettings" not specified');this._selectSettings=selectSettings}return this._selectSettings}entryMatchesSearchValue(entry,searchValue){var result,sourceID;return this._entryFallbackSet.has(entry)?result=CollectionValue.prototype.entryMatchesSearchValue.call(this,entry,searchValue):(sourceID=this._getEntrySourceID(entry),result=Omniselect.queryMatchesEntrySync(searchValue,entry,sourceID)),result}setupEntryTooltip(element,entry){var displayOptions,sourceID,content,tooltip;return this._column.omniselectDisableTooltips||this._entryFallbackSet.has(entry)?null:(displayOptions={fixed:!0,padContent:!0,showDelay:!0,stopContentClickPropagation:!0},sourceID=this._getEntrySourceID(entry),content=dom.elem("div",null,{children:[dom.elem("f-icon",{className:"fa-loading"})]}),(tooltip=new Tooltip(displayOptions)).setContent(content),tooltip.showOnElementHover(element),tooltip.onShow(()=>{const args=[entry,sourceID],searchValue=this._row.getSearchValue();searchValue&&args.push(searchValue),Omniselect.processedFormatEntryTooltip.apply(null,args).then(entryContent=>{content.innerHTML="",content.appendChild(entryContent),displayOptions.padContent=!1,tooltip.setDisplayOptions(displayOptions)})}),tooltip.onHide(()=>{content.innerHTML="",content.appendChild(dom.elem("f-icon",{className:"fa-loading"}))}),tooltip)}_getEntryID(entry){let result=entry[Omniselect.prototype.ENTRY_ID_KEY];const sourceID=this._getEntrySourceID(entry);if(sourceID){const source=Omniselect.prototype.SOURCES[sourceID];source&&source.entryIdKeyFunction&&(result=entry[source.entryIdKeyFunction(sourceID)])}return result}_getEntrySourceID(entry){return this._entrySourceIDMap.has(entry)?this._entrySourceIDMap.get(entry):Omniselect.prototype.ENTRY_SOURCE_ID_FUNCTION(entry)}_getProcessedEntry(entryID,sourceID){var entry,getEntry=function(data){return data.getEntry(entryID)};try{entry=getEntry(Omniselect.getSourceDataSync(sourceID))}catch(syncError){try{entry=Omniselect.getSourceData(sourceID).then(getEntry)}catch(asyncError){this._column.omniselectAllowFallback||log.error(asyncError)}}return entry}_setResolvedEntries(entries){this._resolvedEntries=[],entries.forEach(function(entry){entry&&this._resolvedEntries.push(entry)}.bind(this))}}},function(module,exports,__webpack_require__){"use strict";const ipParser=__webpack_require__(371),IpFilter=__webpack_require__(214),log=__webpack_require__(45),fastLocaleCompare=__webpack_require__(39).fastLocaleCompare,CollectionValue=__webpack_require__(162);class IPCollectionValue extends CollectionValue{constructor(input,row,column,settings){super(input,row,column,settings),this._parsedAddresses=new Map,this.getEntries().forEach(entry=>{const value=this.getEntryValue(entry);this._parsedAddresses.has(value)||this._parsedAddresses.set(value,ipParser.parse(entry))})}getParsedAddresses(){return this._parsedAddresses}_compareTo(entryValue,otherEntryValue,otherValue){if(otherValue instanceof IPCollectionValue){const addrA=this.getParsedAddresses().get(entryValue),addrB=otherValue.getParsedAddresses().get(otherEntryValue);if(addrA&&addrB)return addrA.equals(addrB)?0:addrA.lessThanOrEqual(addrB)?-1:1}return fastLocaleCompare(entryValue,otherEntryValue)}matchedBySearchValue(searchValue,option){return this.getEntryValues().some(entry=>this.singleEntryMatchesSearchValue(entry,searchValue,option))}entryMatchesSearchValue(entry,searchValue){let result=!1;if("function"==typeof this._column.collectionEntryMatchesSearch)try{result=this._column.collectionEntryMatchesSearch.call(this._row,entry,searchValue)}catch(e){log.error(e)}else result=this.singleEntryMatchesSearchValue(entry,searchValue);return result}singleEntryMatchesSearchValue(entryValue,searchValue,option){const searchAddr=ipParser.parse(searchValue),parsedAddr=this._parsedAddresses.get(entryValue);if(searchAddr&&parsedAddr)switch(option){case IpFilter.OPTIONS.CONTAINED_BY:return searchAddr.contains(parsedAddr);case IpFilter.OPTIONS.CONTAINS:return parsedAddr.contains(searchAddr);case IpFilter.OPTIONS.OVERLAPS:default:return parsedAddr.overlaps(searchAddr)}return(entryValue||"").toLowerCase().includes(searchValue.toLowerCase()||"")}}module.exports=IPCollectionValue},function(module,exports,__webpack_require__){"use strict";const Column=__webpack_require__(383),dom=__webpack_require__(40),createHierarchyBlock=padding=>dom.elem("div",{className:"hierarchy-block",style:{width:`${16+2*padding}px`}}),createHorizontalTreeLine=(side,padding,params={})=>{const line=dom.elem("div",{className:`horizontal-tree-line ${side}`,style:{height:`${8+padding}px`}});return params.withVerticalConnection&&line.classList.add("with-vertical-connection"),line};module.exports.HIERARCHY_COLUMN_CONFIG={id:"internalHierarchy",internal:!0,langKey:null,type:Column.prototype.TYPE.STANDARD,fixed:!0,sorting:!1,filtering:!1,cellWidth:function(){const settings=this.getTableSettings(),padding=settings.cellPadding;return(settings.getGreatestVisibleChildDepth()+1)*(16+2*padding)},cellFormatter:function(){const row=this,rowDepth=row.getDepthAsChild(),isParent=row.isParent(),result=dom.elem("div",{className:"hierarchy-content"}),padding=row.getTableSettings().cellPadding;if(rowDepth){let depth=0;for(;depth<rowDepth;){const type=row.getChildTypeForDepth(depth),block=createHierarchyBlock(padding),lastBlock=depth===rowDepth-1;switch(type){case row.CHILD_TYPE.FIRST:case row.CHILD_TYPE.MIDDLE:block.appendChild(dom.elem("div",{className:"vertical-tree-line"})),lastBlock&&block.appendChild(createHorizontalTreeLine("right",padding));break;case row.CHILD_TYPE.ONLY:case row.CHILD_TYPE.LAST:lastBlock&&block.appendChild(createHorizontalTreeLine("right",padding,{withVerticalConnection:!0}))}result.appendChild(block),depth++}}if(isParent){const block=createHierarchyBlock(padding);let className="compact-visual-toggle";row.areChildrenExpanded()&&(className+=" active",block.appendChild(dom.elem("div",{className:"vertical-tree-line",style:{top:`${padding}px`}}))),row.getSearchValue()&&row.doesChildMatchSearchValue()&&(className+=" search-match-highlight"),block.appendChild(dom.elem("button",{type:"button",className:className,style:{margin:`${padding}px`}},{events:{click:event=>{event.stopPropagation(),row.toggleChildrenExpansion()},dblclick:event=>{event.stopPropagation()}}})),rowDepth&&block.appendChild(createHorizontalTreeLine("left",padding)),result.appendChild(block)}else{const block=createHierarchyBlock(padding);if(rowDepth){const sizeAdjustedPadding=padding+4;block.appendChild(dom.elem("f-icon",{className:"hierarchy-end-node fa-circle icon-xsm",style:{"margin-top":`${sizeAdjustedPadding}px`,"margin-bottom":`${padding}px`,"margin-left":`${sizeAdjustedPadding}px`,"margin-right":`${padding}px`}})),block.appendChild(createHorizontalTreeLine("left",padding))}result.appendChild(block)}return result}};const SEQUENCE_GROUPING_COLUMN_ID=module.exports.SEQUENCE_GROUPING_COLUMN_ID="__hiddenSequenceGrouping__";module.exports.createSequenceGroupingColumnConfig=function(settingsParams,Table){return{id:SEQUENCE_GROUPING_COLUMN_ID,type:Column.prototype.TYPE.STANDARD,hidden:!0,cellValueFunction:function(entry){const row=this;let value=("function"==typeof settingsParams.sequenceGroupingValueFunction?settingsParams.sequenceGroupingValueFunction:Table.DEFAULT_SEQUENCE_GROUPING_VALUE_FUNCTION)(entry);return value||"function"!=typeof settingsParams.implicitSequenceGroupingValueFunction||(value=settingsParams.implicitSequenceGroupingValueFunction(entry))&&row.setImplicitSequenceGrouping(),value}}}},function(module,exports,__webpack_require__){"use strict";var ColumnSettingsPopUp=__webpack_require__(594),TableSettingsPopUp=__webpack_require__(599),PerformanceRecommendations=__webpack_require__(600),Tooltip=__webpack_require__(59),lang=__webpack_require__(47),util=__webpack_require__(39),dom=__webpack_require__(40);function Header(tableElement,tableContainerElement,debug){this.element=null,this.height=null,this._debug=debug,this._tableElement=tableElement,this._tableContainerElement=tableContainerElement,this._columnSettingsPopUp=null,this._tableSettingsPopUp=null,this._virtualizedRows=null,this._sourceManager=null,this._settings=null,this._fixedHeaderElement=null,this._tableSettingsButtonElement=null,this._resizingColumn=null,this._reorderingColumn=null,this._lastScrollLeft=null,this._visible=!1,this._columnReorderCallback=null,this._create(),this._syncHorizontalScroll()}Header.prototype.setSettings=function(settings){this._settings=settings,this._destroyColumnSettingsPopUp(),this._destroyTableSettingsPopUp()},Header.prototype.setVirtualizedRows=function(virtualizedRows){this._virtualizedRows=virtualizedRows},Header.prototype.setSourceManager=function(sourceManager){this._sourceManager=sourceManager},Header.prototype.render=function(){const settingsButton=this._renderTableSettingsButton(),cellsFragment=document.createDocumentFragment();let maxCellHeight=0;settingsButton.parentElement||this.element.appendChild(settingsButton),this._settings.activeColumns.forEach(column=>{const element=column.renderHeaderCell();element.style.height=null,cellsFragment.appendChild(element)}),this.element.style.display=null,this._fixedHeaderElement.innerHTML="",this._fixedHeaderElement.appendChild(cellsFragment),this._settings.activeColumns.forEach(column=>{const height=column.renderHeaderCell().getBoundingClientRect().height;height>maxCellHeight&&(maxCellHeight=height)}),this._settings.activeColumns.forEach(column=>{column.renderHeaderCell().style.height=`${maxCellHeight}px`}),this.height=maxCellHeight,this.element.style.height=maxCellHeight+"px",this.element.style.visibility="hidden",this._visible=!1},Header.prototype.show=function(){this.element.style.visibility=null,this._visible||this._checkAndSetShrunkenClass(),this._visible=!0},Header.prototype.resizeFromMouseMove=function(event){var width=event.pageX-dom.getElementOffset(this._resizingColumn.cellElement).left+this._resizingColumn.mouseOffsetFromEdge;(width=Math.max(width,this._resizingColumn.column.getMinWidth()))!==this._resizingColumn.column.getWidth()&&(this._resizingColumn.column.setWidth(width),this._settings.updateColumnHeaderCellPositions(),this._virtualizedRows.calculateVisibleColumns(),this._virtualizedRows.updateVisibleRowCells(),this._checkAndSetShrunkenClass())},Header.prototype.stopResizing=function(){this._tableElement.classList.remove("column-resizing"),this._resizingColumn.cellElement.classList.remove("resizing"),this._virtualizedRows.resizeColumnStop(this._resizingColumn.column),this._resizingColumn=null},Header.prototype.reorderFromMouseMove=function(event){var leftThreshold,rightThreshold,leftOffset,width;this._reorderingColumn.detached?(this._setReorderingCellOffset(event),leftThreshold=this._reorderingColumn.leftThreshold,rightThreshold=this._reorderingColumn.rightThreshold,leftOffset=this._reorderingColumn.cellElement.offsetLeft+this._tableContainerElement.scrollLeft,width=this._reorderingColumn.column.getWidth(),leftThreshold&&leftOffset<=leftThreshold?this._reorderColumn(this._reorderingColumn.leftColumn):rightThreshold&&leftOffset+width>=rightThreshold&&this._reorderColumn(this._reorderingColumn.rightColumn)):this._startDragToReorder(event)},Header.prototype.stopReordering=function(){var headerCellElement,placeholder;this._reorderingColumn.detached&&(headerCellElement=this._reorderingColumn.cellElement,placeholder=this._reorderingColumn.placeholder,this._tableElement.classList.remove("columns-reordering"),this._reorderingColumn.cellElement.classList.remove("reordering-column"),this._reorderingColumn.cellElement.style.top=null,placeholder.parentElement.appendChild(headerCellElement),placeholder.parentElement.removeChild(placeholder),this._reorderingColumn.column.stopReordering(),this._settings.updateColumnHeaderCellPositions(),this._virtualizedRows.reorderColumnStop(this._reorderingColumn.column)),this._reorderingColumn.ending=!0,setTimeout(function(){this._reorderingColumn=null}.bind(this))},Header.prototype.isResizing=function(){return!!this._resizingColumn},Header.prototype.isReordering=function(){return!(!this._reorderingColumn||this._reorderingColumn.ending)},Header.prototype.hasReorderingStarted=function(){return!(!this._reorderingColumn||!this._reorderingColumn.detached)},Header.prototype.onColumnReorder=function(callback){this._columnReorderCallback=callback},Header.prototype.showColumnSettingsPopUp=function(column,pageX,pageY){this._getColumnSettingsPopUp().showForColumn(column,pageX,pageY),column.renderHeaderCell().classList.add("settings-open")},Header.prototype.destroy=function(){this._destroyColumnSettingsPopUp(),this._destroyTableSettingsPopUp()},Header.prototype._destroyColumnSettingsPopUp=function(){this._columnSettingsPopUp&&this._columnSettingsPopUp.destroy(),this._columnSettingsPopUp=null},Header.prototype._destroyTableSettingsPopUp=function(){this._tableSettingsPopUp&&this._tableSettingsPopUp.destroy(),this._tableSettingsPopUp=null},Header.prototype._setReorderingCellOffset=function(event){var elementOffset=dom.getElementOffset(this._tableElement),top=event.pageY-elementOffset.top,left=event.pageX-elementOffset.left;this._reorderingColumn.cellElement.style.top=top+this._reorderingColumn.mouseOffsetFromTopLeft.top+"px",this._reorderingColumn.cellElement.style.left=left+this._reorderingColumn.mouseOffsetFromTopLeft.left+"px"},Header.prototype._updateCellReorderingThresholds=function(){var leftColumn,rightColumn,leftThreshold,rightThreshold,columnsOrdered=this._settings.getActiveColumnsInOrder(),currentIndex=this._reorderingColumn.column.currentIndex;currentIndex>0&&((leftColumn=columnsOrdered[currentIndex-1]).fixed||(leftThreshold=leftColumn.getLeftOffset()+.4*leftColumn.getWidth())),currentIndex<columnsOrdered.length-1&&(rightThreshold=(rightColumn=columnsOrdered[currentIndex+1]).getLeftOffset()+.6*rightColumn.getWidth()),Object.assign(this._reorderingColumn,{leftColumn:leftColumn,leftThreshold:leftThreshold,rightColumn:rightColumn,rightThreshold:rightThreshold})},Header.prototype._reorderColumn=function(swapColumn){var currentIndex=this._reorderingColumn.column.currentIndex,swapIndex=swapColumn.currentIndex;this._reorderingColumn.column.currentIndex=swapIndex,swapColumn.currentIndex=currentIndex,this._settings.updateColumnHeaderCellPositions(),this._settings.persistCurrentColumns(),this._virtualizedRows.calculateVisibleColumns(),this._virtualizedRows.updateVisibleRowCells(),this._updateCellReorderingThresholds(),"function"==typeof this._columnReorderCallback&&this._columnReorderCallback(swapColumn)},Header.prototype._startDragToReorder=function(event){var reorderingColumn=this._reorderingColumn,column=reorderingColumn.column,headerCellElement=reorderingColumn.cellElement,placeholder=column.createHeaderCellPlaceholder();headerCellElement.classList.add("reordering-column"),this._tableElement.classList.add("columns-reordering"),headerCellElement.parentElement.appendChild(placeholder),headerCellElement.parentElement.removeChild(headerCellElement),this._tableElement.appendChild(headerCellElement),Object.assign(this._reorderingColumn,{detached:!0,placeholder:placeholder}),this._updateCellReorderingThresholds(),this._setReorderingCellOffset(event),this._virtualizedRows.reorderColumnStart(column)},Header.prototype._HEADER_EVENT_TARGET={HEADER_CELL:0,RESIZER:1,SETTINGS_BUTTON:2},Header.prototype._getHeaderEventContext=function(event){for(var column,type=this._HEADER_EVENT_TARGET.HEADER_CELL,element=event.target;element&&element!==this._fixedHeaderElement;){if(type===this._HEADER_EVENT_TARGET.HEADER_CELL&&util.elementMatchesSelector(element,".header-cell-resizer")&&(type=this._HEADER_EVENT_TARGET.RESIZER),type===this._HEADER_EVENT_TARGET.HEADER_CELL&&util.elementMatchesSelector(element,"button.column-settings")&&(type=this._HEADER_EVENT_TARGET.SETTINGS_BUTTON),util.elementMatchesSelector(element,".header-cell")){column=this._settings.columnsMap[element.getAttribute("data-column-id")];break}element=element.parentElement}return{type:type,column:column}},Header.prototype._attachHeaderEventListeners=function(){this._fixedHeaderElement.addEventListener("mousedown",function(event){var headerCellElement,offset,context=this._getHeaderEventContext(event);context.column&&(headerCellElement=context.column.renderHeaderCell(),context.type!==this._HEADER_EVENT_TARGET.RESIZER||this.isResizing()?context.type!==this._HEADER_EVENT_TARGET.HEADER_CELL||this.isReordering()||context.column.fixed||(offset=dom.getElementOffset(headerCellElement),this._reorderingColumn={column:context.column,cellElement:headerCellElement,mouseOffsetFromTopLeft:{top:offset.top-event.pageY,left:offset.left-event.pageX}}):(headerCellElement.classList.add("resizing"),this._tableElement.classList.add("column-resizing"),this._resizingColumn={column:context.column,cellElement:headerCellElement,mouseOffsetFromEdge:dom.getElementOffset(headerCellElement).left+headerCellElement.offsetWidth-event.pageX},this._virtualizedRows.resizeColumnStart(context.column)))}.bind(this)),this._fixedHeaderElement.addEventListener("click",function(event){var context=this._getHeaderEventContext(event);context.column&&(context.type===this._HEADER_EVENT_TARGET.SETTINGS_BUTTON?this.showColumnSettingsPopUp(context.column,event.pageX,event.pageY):context.type===this._HEADER_EVENT_TARGET.HEADER_CELL&&!this.hasReorderingStarted()&&this._settings.sorting&&context.column.isSortingEnabled()&&this._settings.sortByColumnAndPersist(context.column)&&(this._sourceManager.sort(),this._virtualizedRows.render()))}.bind(this)),this._fixedHeaderElement.addEventListener("dblclick",function(event){var context=this._getHeaderEventContext(event);context.column&&context.type===this._HEADER_EVENT_TARGET.RESIZER&&(this._virtualizedRows.fitContentsForRenderedColumn(context.column),this._checkAndSetShrunkenClass())}.bind(this)),this._fixedHeaderElement.addEventListener("contextmenu",function(event){this._getHeaderEventContext(event).column&&(this.isResizing()&&this.stopResizing(),this.isReordering()&&this.stopReordering(),this._showTableSettingsPopUp(event.pageX,event.pageY),event.preventDefault())}.bind(this))},Header.prototype._getColumnSettingsPopUp=function(){return this._columnSettingsPopUp||(this._columnSettingsPopUp=new ColumnSettingsPopUp(this._settings,this._sourceManager),this._columnSettingsPopUp.onHide(function(column){column.renderHeaderCell().classList.remove("settings-open")}),this._columnSettingsPopUp.onResizeColumnToContents(this._resizeColumnToContents.bind(this)),this._columnSettingsPopUp.onFilterColumn(function(column,filter){this._settings.setColumnFilterAndPersist(column,filter),this._sourceManager.filterAndSection(),this._virtualizedRows.render({recalculateColumnWidths:this._settings.parentChildRows}).then(this._checkAndSetShrunkenClass.bind(this))}.bind(this)),this._columnSettingsPopUp.onSetSectionColumn(function(column){column?this._settings.setAndPersistSectionColumn(column):this._settings.removeSectionColumnAndPersist(),this._sourceManager.filterAndSection(),this._updateAfterChangingColumns()}.bind(this))),this._columnSettingsPopUp},Header.prototype.updateActiveColumns=function(columnIDs){let statisticColumnsSet=new Set(this._settings.getStatisticCollectedColumns()),newActiveSet=new Set(columnIDs),currentActiveSet=new Set,removedColumnHasFilter=!1,newColumnNeedsStatistics=!1;this._settings.activeColumns.forEach(column=>{currentActiveSet.add(column.id),!newActiveSet.has(column.id)&&column.isFiltered()&&(removedColumnHasFilter=!0)}),newActiveSet.forEach(columnID=>{statisticColumnsSet.has(columnID)&&!currentActiveSet.has(columnID)&&(newColumnNeedsStatistics=!0)}),(removedColumnHasFilter||newColumnNeedsStatistics)&&this._sourceManager.filterAndSection(),this._settings.setAndPersistActiveColumns([...this._settings.activeColumns.filter(c=>c.internal).map(c=>c.id),...this._settings.sectionColumn?columnIDs.filter(id=>id!==this._settings.sectionColumn.id):columnIDs]),this._updateAfterChangingColumns()},Header.prototype._getTableSettingsPopUp=function(){return this._tableSettingsPopUp||(this._tableSettingsPopUp=new TableSettingsPopUp(this._settings),this._tableSettingsPopUp.onHide(function(){this._renderTableSettingsButton().classList.remove("settings-open")}.bind(this)),this._tableSettingsPopUp.onResetColumns(function(){this._settings.resetState(),this._sourceManager.filterAndSection(),this._updateAfterChangingColumns()}.bind(this)),this._tableSettingsPopUp.onBestFitColumns(function(){this._virtualizedRows.bestFitRendered().then(this._checkAndSetShrunkenClass.bind(this))}.bind(this)),this._tableSettingsPopUp.onChangeColumns(this.updateActiveColumns.bind(this)),this._tableSettingsPopUp.onRemoveFilters(function(){this._settings.removeAllColumnFiltersAndPersist(),this._sourceManager.filterAndSection(),this._updateAfterChangingColumns()}.bind(this)),this._tableSettingsPopUp.onDebugPerformance(function(){new PerformanceRecommendations(this._settings,this._sourceManager).show()}.bind(this))),this._tableSettingsPopUp},Header.prototype._showTableSettingsPopUp=function(pageX,pageY,showDebugOptions){this._getTableSettingsPopUp().show(pageX,pageY,showDebugOptions),this._renderTableSettingsButton().classList.add("settings-open")},Header.prototype._updateAfterChangingColumns=function(){this._virtualizedRows&&this._virtualizedRows.render({columnsChanged:!0}).then(this._checkAndSetShrunkenClass.bind(this))},Header.prototype._resizeColumnToContents=function(column){this._virtualizedRows.fitContentsForRenderedColumn(column),this._checkAndSetShrunkenClass()},Header.prototype._checkAndSetShrunkenClass=function(){this._settings.getTotalColumnWidthSum()<this._tableElement.clientWidth?this._tableElement.classList.add("shrunken"):this._tableElement.classList.remove("shrunken")},Header.prototype._renderTableSettingsButton=function(){var tooltip;return this._tableSettingsButtonElement||(this._tableSettingsButtonElement=dom.elem("button",{type:"button",className:"button table-settings"},{children:[dom.elem("f-icon",{className:"fa-cog"})],events:{click:function(event){var showDebugOptions=this._debug&&event.shiftKey;this._showTableSettingsPopUp(event.pageX,event.pageY,showDebugOptions)}.bind(this)}}),(tooltip=new Tooltip).setContent(lang.translate("Configure Table")),tooltip.showOnElementHover(this._tableSettingsButtonElement),this._settings.registerTooltip(tooltip)),this._tableSettingsButtonElement},Header.prototype._syncHorizontalScroll=function(){this._tableContainerElement.addEventListener("scroll",function(){var scrollLeft=this._tableContainerElement.scrollLeft;scrollLeft!==this._lastScrollLeft&&requestAnimationFrame(function(){this._fixedHeaderElement.style.transform="translateX(-"+scrollLeft+"px)",this._lastScrollLeft=scrollLeft}.bind(this))}.bind(this))},Header.prototype._create=function(){this._fixedHeaderElement=dom.elem("div",{className:"fixed-header"}),this.element=dom.elem("div",{className:"fixed-header-container",style:{display:"none",visibility:"hidden"}},{children:[this._fixedHeaderElement]}),this._attachHeaderEventListeners()},module.exports=Header},function(module,exports,__webpack_require__){"use strict";var PopUp=__webpack_require__(78),dom=__webpack_require__(40),lang=__webpack_require__(47),CommonFilterForm=__webpack_require__(595),NumberFilterForm=__webpack_require__(596),DateFilterForm=__webpack_require__(597),IPFilterForm=__webpack_require__(598);function ColumnSettings(settings,sourceManager){this._settings=settings,this._sourceManager=sourceManager,this._currentColumn=null,this._popUp=null,this._popUpContent=null,this._resizeColumnToContentsCallback=null,this._filterColumnCallback=null,this._setSectionColumnCallback=null,this._filterForm=null,this._focusElement=null,this._create()}ColumnSettings.prototype.showForColumn=function(column,pageX,pageY){var content;this._currentColumn=column,content=dom.elem("div",{className:"flex-column flex-grow hidden-overflow"},{children:[this._createContent()]}),this._popUp.show(content,pageX,pageY)},ColumnSettings.prototype.onHide=function(callback){"function"==typeof callback&&this._popUp.onHide(function(){callback(this._currentColumn)}.bind(this))},ColumnSettings.prototype.onResizeColumnToContents=function(callback){this._resizeColumnToContentsCallback=callback},ColumnSettings.prototype.onFilterColumn=function(callback){this._filterColumnCallback=callback},ColumnSettings.prototype.onSetSectionColumn=function(callback){this._setSectionColumnCallback=callback},ColumnSettings.prototype.hide=function(){this._popUp.hide(),this._destroyFilterForm()},ColumnSettings.prototype.destroy=function(){this.hide(),this._popUp.destroy()},ColumnSettings.prototype._createContent=function(){const COLUMN_TYPE=this._currentColumn.TYPE;let FilterFormClass,filterContent,inputs,changeObserver,currentFilter=this._currentColumn.getFilter(),isSectionColumn=this._currentColumn===this._settings.sectionColumn,content=dom.elem("div",{className:"flex-column flex-grow hidden-overflow"}),userSections=this._settings.sections&&this._settings.userDefinedSections&&this._settings.fixedSource;const setFilter=function(filter){this.hide(),"function"==typeof this._filterColumnCallback&&this._filterColumnCallback(this._currentColumn,filter)}.bind(this),validateAndSet=function(){var filter=this._filterForm.createFilter();filter&&(filter.isEmpty()?setFilter(null):setFilter(filter))}.bind(this),attachEnterListeners=function(){Array.prototype.slice.call(filterContent.querySelectorAll("input")).forEach(function(input){input.getAttribute("enter-listener-attached")||(input.addEventListener("keyup",function(event){13===event.keyCode&&validateAndSet()}),input.setAttribute("enter-listener-attached","true"))})};if(isSectionColumn||content.appendChild(PopUp.createMenuButton({lang:"Resize to Contents",icon:"fa-text-width",onClick:function(){this.hide(),"function"==typeof this._resizeColumnToContentsCallback&&this._resizeColumnToContentsCallback(this._currentColumn)}.bind(this)})),userSections&&!this._currentColumn.fixed&&(isSectionColumn?content.appendChild(PopUp.createMenuButton({lang:{key:'Remove Group By "{0}"',interpolate:[lang.translate(this._currentColumn.langKey)]},icon:"fa-remove-folder",onClick:function(){this.hide(),"function"==typeof this._setSectionColumnCallback&&this._setSectionColumnCallback(null)}.bind(this)})):content.appendChild(PopUp.createMenuButton({lang:"Group By This Column",icon:"fa-folder-o",onClick:function(){this.hide(),"function"==typeof this._setSectionColumnCallback&&this._setSectionColumnCallback(this._currentColumn)}.bind(this)}))),this._settings.fixedSource&&this._settings.filtering&&this._currentColumn.filtering){switch(content.appendChild(dom.elem("div",{className:"heading",textContent:lang.translate("Filter")})),currentFilter&&(content.appendChild(PopUp.createMenuButton({lang:"Remove",icon:"fa-trash-o",onClick:function(){setFilter(null)}})),content.appendChild(dom.elem("div",{className:"separator"}))),this._currentColumn.type){case COLUMN_TYPE.STANDARD:case COLUMN_TYPE.COLLECTION:case COLUMN_TYPE.OMNISELECT:FilterFormClass=CommonFilterForm;break;case COLUMN_TYPE.NUMBER:FilterFormClass=NumberFilterForm;break;case COLUMN_TYPE.DATE:FilterFormClass=DateFilterForm;break;case COLUMN_TYPE.IP_COLLECTION:FilterFormClass=IPFilterForm}this._filterForm=new FilterFormClass(this._currentColumn,currentFilter,this._settings,this._sourceManager),(inputs=(filterContent=this._filterForm.getContent()).querySelectorAll("input")).length&&(this._focusElement=inputs[0]),attachEnterListeners(),content.appendChild(filterContent),(changeObserver=new MutationObserver(attachEnterListeners)).observe(filterContent,{childList:!0,subtree:!0}),content.appendChild(dom.elem("div",{className:"separator footer-separator"})),content.appendChild(dom.elem("div",{className:"footer"},{children:[dom.elem("button",{className:"standard-button primary",textContent:lang.translate("Apply")},{events:{click:validateAndSet}})]}))}return content},ColumnSettings.prototype._triggerFocus=function(){this._focusElement&&this._focusElement.offsetParent&&this._focusElement.focus()},ColumnSettings.prototype._destroyFilterForm=function(){this._filterForm&&(this._filterForm.destroy(),this._filterForm=null)},ColumnSettings.prototype._create=function(){this._popUp=new PopUp({allowVerticalAdjustment:this._settings.inline,class:"mutable-column-settings flex-column flex-grow hidden-overflow"}),this._popUp.onShow(function(){this._triggerFocus()}.bind(this))},module.exports=ColumnSettings},function(module,exports,__webpack_require__){"use strict";const MultiValueFilterForm=__webpack_require__(387),CommonFilter=__webpack_require__(384),lang=__webpack_require__(47),dom=__webpack_require__(40),PopUp=__webpack_require__(78),Tooltip=__webpack_require__(59);module.exports=class extends MultiValueFilterForm{constructor(column,currentFilter,settings,sourceManager){super(column,currentFilter,settings,sourceManager),this._input=null,this._tooltip=null,this._option="contains",this._initialValue=null,this.currentFilter&&(this.currentFilter.type===CommonFilter.TYPE.CONTAINS?(this.currentFilter.negate&&(this._option="negatedContains"),this._initialValue=this.currentFilter.searchValuesToString()):(this._initialValue=this.currentFilter.regexString,this._option="regex")),this._lastOption=this._option}getInput(){return this._input}getContent(){let helpIcon,content=dom.elem("div",{className:"flex-column flex-grow hidden-overflow"});const optionChanged=()=>{"regex"===this._option?(this._input.setAttribute("placeholder",lang.translate("Regular expression")),helpIcon.style.display="none"):(this._input.setAttribute("placeholder","value1, value2, etc."),helpIcon.style.display=null),"regex"!==this._lastOption&&"regex"!==this._option||this._lastOption===this._option||(this._input.value="",this._updateListedSuggestions()),this._lastOption=this._option};return content.appendChild(PopUp.createRadioButtons([{id:"contains",langKey:"Contains"},{id:"negatedContains",langKey:"Does Not Contain"},{id:"regex",langKey:"Regex"}],this._option,id=>{this._option=id,optionChanged()})),this._input=dom.elem("input",{type:"text",className:"flex-grow",value:this._initialValue},{events:{keyup:()=>this._updateListedSuggestions()}}),helpIcon=dom.elem("f-icon",{className:"fa-help-info"}),content.appendChild(dom.elem("div",{className:"menu-item"},{children:[this._input,helpIcon]})),this._tooltip=Tooltip.addToElement(helpIcon,lang.translate(MultiValueFilterForm.HELP_INFO),{padContent:!0},!0),this._addSuggestionSection(content),optionChanged(),content}doesSearchValueMatchSuggestion(searchValue,suggestion){if("regex"===this._option){let regex;try{regex=new RegExp(searchValue,"i")}catch(e){}return!(!regex||!regex.test(suggestion.value))}return suggestion.value.toLowerCase().indexOf(searchValue.toLowerCase())>=0}shouldDisableSuggestions(){return"regex"===this._option}createFilter(){let filter;try{let serialized;"regex"===this._option?serialized=this._input.value:(serialized=`âŠ‚${this._input.value}`,"negatedContains"===this._option&&(serialized=`!${serialized}`)),filter=new CommonFilter(serialized,this.column,this.settings)}catch(e){this._input.classList.add("error")}return filter}destroy(){this._tooltip&&this._tooltip.destroy()}}},function(module,exports,__webpack_require__){"use strict";const FilterForm=__webpack_require__(216),lang=__webpack_require__(47),dom=__webpack_require__(40),PopUp=__webpack_require__(78),NumberValue=__webpack_require__(163),NumberFilter=__webpack_require__(385),COMMA_SEPARATED_REGEX=/^((,\s*)?-?[0-9.]+)+$/;function NumberFilterForm(column,currentFilter,settings,sourceManager){if(FilterForm.call(this,column,currentFilter,settings,sourceManager),this._input1=null,this._input2=null,this._multiValueInput=null,this._unit1Container=null,this._unit2Container=null,this._multiValueUnitContainer=null,this._operation="=",this.currentFilter)switch(this.currentFilter.type){case NumberFilter.TYPE.RANGE:this._operation="->";break;case NumberFilter.TYPE.LESS_THAN_EQUAL_TO:this._operation="<=";break;case NumberFilter.TYPE.GREATER_THAN_EQUAL_TO:this._operation=">=";break;case NumberFilter.TYPE.EQUAL_TO:this._operation="=";break;case NumberFilter.TYPE.MULTIPLE:this._operation="|"}}NumberFilterForm.prototype=Object.create(FilterForm.prototype),NumberFilterForm.prototype.constructor=NumberFilterForm,NumberFilterForm.prototype.getContent=function(){let rangeSymbol;const _this=this,content=dom.elem("div"),menuItem=dom.elem("div",{className:"menu-item flex-row-centered"}),unitSelection=this._getUnitSelection();let numberValue,numberUnit,secondNumberValue,secondNumberUnit,multiNumberValue,multiValueUnit;this.currentFilter&&([numberValue,numberUnit]=this.currentFilter.getNumberWithUnit(),[secondNumberValue,secondNumberUnit]=this.currentFilter.getSecondNumberWithUnit(),[multiNumberValue,multiValueUnit]=this.currentFilter.getMultiValueNumbersWithUnit());const toggleRange=()=>{"->"===this._operation?(rangeSymbol.style.display=null,this._input2.style.display=null,this._unit2Container&&(this._unit2Container.style.display=null)):(rangeSymbol.style.display="none",this._input2.style.display="none",this._unit2Container&&(this._unit2Container.style.display="none"))},toggleMultiValueInput=()=>{"|"===this._operation?(this._multiValueInput.style.display=null,this._multiValueUnitContainer&&(this._multiValueUnitContainer.style.display=null),this._input1.style.display="none",this._unit1Container&&(this._unit1Container.style.display="none")):(this._multiValueInput.style.display="none",this._multiValueUnitContainer&&(this._multiValueUnitContainer.style.display="none"),this._input1.style.display=null,this._unit1Container&&(this._unit1Container.style.display=null))},createFilterInput=({initValue:initValue,initUnit:initUnit,type:type,placeholder:placeholder,onUnitChange:onUnitChange})=>{let unitsContainer,input=dom.elem("input",{type:type,className:"flex-grow",value:initValue||null},{attributes:{placeholder:placeholder}});if(menuItem.appendChild(input),unitSelection){let units=null;1===unitSelection.length?units=dom.elem("span",{className:"filter-single-unit",textContent:unitSelection[0]}):(units=dom.elem("select",{},{events:{change:onUnitChange}}),unitSelection.forEach(unit=>{units.appendChild(dom.elem("option",{value:unit,text:unit,selected:initUnit===unit?"selected":""}))})),unitsContainer=dom.elem("div",{},{children:[units]}),menuItem.appendChild(unitsContainer)}return[input,unitsContainer]};return content.appendChild(PopUp.createRadioButtons([{id:"=",text:"="},{id:">=",text:">="},{id:"<=",text:"<="},{id:"->",langKey:"Range"},{id:"|",langKey:"Multiple"}],this._operation,id=>{this._operation=id,toggleRange(),toggleMultiValueInput()})),content.appendChild(menuItem),this._unit1Value=numberUnit,[this._input1,this._unit1Container]=createFilterInput({initValue:numberValue,initUnit:numberUnit,type:"number",placeholder:lang.translate("Number"),onUnitChange:function(){_this._unit1Value=this.value}}),this._multiValueUnit=multiValueUnit,[this._multiValueInput,this._multiValueUnitContainer]=createFilterInput({initValue:multiNumberValue,initUnit:numberUnit,type:"text",placeholder:lang.translate("0, 1, 2, etc."),onUnitChange:function(){_this._multiValueUnit=this.value}}),rangeSymbol=dom.elem("span",{textContent:"â†’"}),menuItem.appendChild(rangeSymbol),this._unit2Value=secondNumberUnit,[this._input2,this._unit2Container]=createFilterInput({initValue:secondNumberValue,initUnit:secondNumberUnit,type:"number",placeholder:lang.translate("Number"),onUnitChange:function(){_this._unit2Value=this.value}}),toggleRange(),toggleMultiValueInput(),content},NumberFilterForm.prototype.createFilter=function(){const validateInput=(input,validValueFn)=>{var passed=!0;return(validValueFn?validValueFn(input.value):input.value)?input.classList.remove("error"):(passed=!1,input.classList.add("error")),passed};let valid;if("|"===this._operation?valid=validateInput(this._multiValueInput,value=>COMMA_SEPARATED_REGEX.exec(value)):(valid=validateInput(this._input1),"->"===this._operation&&(valid=validateInput(this._input2)&&valid)),valid){const unit1Value=this._unit1Value||"",unit2Value=this._unit2Value||"",multiValueUnit=this._multiValueUnit||"";let input;return input="->"===this._operation?`${this._input1.value}${unit1Value}->`+`${this._input2.value}${unit2Value}`:"|"===this._operation?`${this._operation}${this._multiValueInput.value}${multiValueUnit}`:`${this._operation}${this._input1.value}${unit1Value}`,new NumberFilter(input,this.column,this.settings)}},NumberFilterForm.prototype._getUnitSelection=function(){let units=NumberValue.getUnitsForNumberType(this.column.numberType);return units?Object.keys(units):null},module.exports=NumberFilterForm},function(module,exports,__webpack_require__){"use strict";var FilterForm=__webpack_require__(216),lang=__webpack_require__(47),dom=__webpack_require__(40),DateFilter=__webpack_require__(386),PopUp=__webpack_require__(78);const dateTime=__webpack_require__(110);function DateFilterForm(column,currentFilter,settings,sourceManager){if(FilterForm.call(this,column,currentFilter,settings,sourceManager),this._dateInput1=null,this._dateInput2=null,this._timeInput1=null,this._timeInput2=null,this._serializedDate=dateTime.formatDateTimeCustom(Date.now(),"yyyy-MM-dd"),this._serializedTime=`${dateTime.formatDateTimeCustom(Date.now(),"HH:mm")}:00`,this._operation="=",this.currentFilter)switch(this.currentFilter.type){case DateFilter.TYPE.RANGE:this._operation="->";break;case DateFilter.TYPE.LESS_THAN_EQUAL_TO:this._operation="<=";break;case DateFilter.TYPE.GREATER_THAN_EQUAL_TO:this._operation=">=";break;case DateFilter.TYPE.EQUAL_TO:this._operation="="}}DateFilterForm.prototype=Object.create(FilterForm.prototype),DateFilterForm.prototype.constructor=DateFilterForm,DateFilterForm.prototype.getContent=function(){let row,fromLabel,toLabel,tbody=dom.elem("tbody"),content=dom.elem("div",{class:"menu-item"},{children:[dom.elem("table",null,{children:[tbody]})]});const toggleRange=()=>{"->"===this._operation?(fromLabel.style.display=null,toLabel.style.display=null,this._dateInput2.style.display=null,this._timeInput2.style.display=null):(fromLabel.style.display="none",toLabel.style.display="none",this._dateInput2.style.display="none",this._timeInput2.style.display="none")};return tbody.appendChild(dom.elem("tr",null,{children:[dom.elem("td",null,{attributes:{colspan:2},children:[PopUp.createRadioButtons([{id:"=",text:"="},{id:"<=",text:"<="},{id:">=",text:">="},{id:"->",langKey:"Range"}],this._operation,id=>{this._operation=id,toggleRange()})]})]})),(row=dom.elem("tr")).appendChild(fromLabel=dom.elem("td",null,{children:[dom.elem("label",{className:"filter-input-label",textContent:lang.translate("From")+":"})]})),this._dateInput1=dom.elem("input",{type:"date",className:"flex-grow",value:this.currentFilter&&this.currentFilter.getSerializedFromDate()||this._serializedDate},{attributes:{placeholder:"yyyy-mm-dd"},events:{change:function(){DateFilter.DATE_REGEX.test(this._dateInput1.value)?this._dateInput2.setAttribute("min",this._dateInput1.value):this._dateInput2.removeAttribute("min")}.bind(this)}}),this._timeInput1=dom.elem("input",{type:"text",className:"flex-grow",value:this.currentFilter&&this.currentFilter.getSerializedFromTime()||this._serializedTime},{attributes:{placeholder:"hh:mm:ss"}}),row.appendChild(dom.elem("td",null,{children:[this._dateInput1,this._timeInput1]})),tbody.appendChild(row),(row=dom.elem("tr")).appendChild(toLabel=dom.elem("td",null,{children:[dom.elem("label",{className:"filter-input-label",textContent:lang.translate("To")+":"})]})),this._dateInput2=dom.elem("input",{type:"date",className:"flex-grow",value:this.currentFilter&&this.currentFilter.getSerializedToDate()||this._serializedDate},{attributes:{placeholder:"yyyy-mm-dd"}}),this._timeInput2=dom.elem("input",{type:"text",className:"flex-grow",value:this.currentFilter&&this.currentFilter.getSerializedToTime()||this._serializedTime},{attributes:{placeholder:"hh:mm:ss"}}),row.appendChild(dom.elem("td",null,{children:[this._dateInput2,this._timeInput2]})),tbody.appendChild(row),toggleRange(),content},DateFilterForm.prototype.createFilter=function(){const validateInput=(input,regex)=>{var passed=!0;return input.value&&regex.test(input.value)||(passed=!1),passed?input.classList.remove("error"):input.classList.add("error"),passed};let valid=validateInput(this._dateInput1,DateFilter.DATE_REGEX);if(valid=validateInput(this._timeInput1,DateFilter.TIME_REGEX)&&valid,"->"===this._operation&&(valid=validateInput(this._dateInput2,DateFilter.DATE_REGEX)&&valid,valid=validateInput(this._timeInput2,DateFilter.TIME_REGEX)&&valid),valid){let input;return input="->"===this._operation?`${this._dateInput1.value} ${this._timeInput1.value} -> `+`${this._dateInput2.value} ${this._timeInput2.value}`:`${this._operation}${this._dateInput1.value} ${this._timeInput1.value}`,new DateFilter(input,this.column,this.settings)}},module.exports=DateFilterForm},function(module,exports,__webpack_require__){"use strict";const dom=__webpack_require__(40),MultiValueFilterForm=__webpack_require__(387),lang=__webpack_require__(47),IpFilter=__webpack_require__(214),PopUp=__webpack_require__(78),Tooltip=__webpack_require__(59),createExampleRow=(title,values)=>{return dom.elem("tr",null,{children:[dom.elem("td",{textContent:title,style:"vertical-align: top"}),dom.elem("td",null,{children:values.map(function(value){return dom.elem("div",{textContent:value,style:"padding-bottom: 0.3em"})})})]})};module.exports=class extends MultiValueFilterForm{constructor(column,currentFilter,settings,sourceManager){super(column,currentFilter,settings,sourceManager),this._option=IpFilter.OPTIONS.OVERLAPS,this._negate=!1,this._initialValue=null,this._input=null,this.currentFilter&&(this._option=this.currentFilter.option,this._negate=this.currentFilter.negate,this._initialValue=this.currentFilter.searchValuesToString())}getInput(){return this._input}getContent(){let helpIcon,negateToggle;const content=dom.elem("div",{className:"flex-column flex-grow hidden-overflow"}),optionChanged=()=>{this._updateListedSuggestions(),this._input.focus()},optionMenu=PopUp.createRadioButtons(Object.entries(IpFilter.OPTIONS_MAP).map(([id,option])=>({id:id,langKey:option.langKey})),this._option,id=>{this._option=id,optionChanged()}),negateToggleId=`mutable-column-filter-for-${this.column.id}`;return negateToggle=dom.elem("label",{className:"filter-toggle-label",htmlFor:negateToggleId},{children:[dom.elem("input",{type:"checkbox",className:"toggle-switch",id:negateToggleId,checked:this._negate},{events:{change:event=>{this._negate=event.target.checked,this._updateListedSuggestions()}}}),dom.elem("label",{htmlFor:negateToggleId}),dom.elem("span",{textContent:lang.translate("NOT")})]}),optionMenu.children[0].appendChild(negateToggle),content.appendChild(optionMenu),this._input=dom.elem("input",{type:"text",className:"flex-grow",value:this._initialValue,placeholder:lang.translate("IP address or subnet or range")},{events:{keyup:this._updateListedSuggestions.bind(this)}}),helpIcon=dom.elem("f-icon",{className:"fa-help-info"}),content.appendChild(dom.elem("div",{className:"menu-item"},{children:[this._input,helpIcon]})),this._tooltip=Tooltip.addToElement(helpIcon,this._createHelpTooltipContent(),{padContent:!0},!0),this._addSuggestionSection(content),content}doesSearchValueMatchSuggestion(searchValue,suggestion){return suggestion.valueInstance.singleEntryMatchesSearchValue(suggestion.value,searchValue,this._option)}_createHelpTooltipContent(){return dom.elem("div",null,{children:[dom.elem("b",{textContent:`${lang.translate("Examples")}:`}),dom.elem("table",null,{children:[createExampleRow(lang.translate("Address"),["10.0.0.1","2001:db8::"]),createExampleRow(lang.translate("Subnet"),["10.0.0.1/24","10.0.0.1/255.255.255.0","2001:db8::/48"]),createExampleRow(lang.translate("Range"),["10.0.0.1-10.0.0.255","2001:db8::1-2001:db8::2"])]}),dom.elem("b",{textContent:`${lang.translate("Note")}:`}),dom.elem("div",{textContent:lang.translate(MultiValueFilterForm.HELP_INFO)})]})}createFilter(){let filter;try{filter=IpFilter.createFilter(this._input.value,this._option,this._negate,this.column,this.settings)}catch(e){this._input.classList.add("error")}return filter}destroy(){this._tooltip&&this._tooltip.destroy()}}},function(module,exports,__webpack_require__){"use strict";var PopUp=__webpack_require__(78),dom=__webpack_require__(40),lang=__webpack_require__(47),fastLocaleCompare=__webpack_require__(39).fastLocaleCompare;function TableSettings(settings){this._settings=settings,this._popUp=null,this._hideCallback=null,this._resetColumnsCallback=null,this._bestFitColumnsCallback=null,this._changeColumnsCallback=null,this._removeFiltersCallback=null,this._debugPerformanceCallback=null,this._columnSelectionOptions=null,this._pendingColumnSelection=null,this._columnSelectionChanged=!1,this._create()}TableSettings.prototype.show=function(pageX,pageY,showDebugOptions){this._columnSelectionChanged=!1,this._popUp.show(this._createContent(showDebugOptions),pageX,pageY)},TableSettings.prototype.hide=function(){this._popUp.hide()},TableSettings.prototype.onHide=function(callback){this._hideCallback=callback},TableSettings.prototype.onResetColumns=function(callback){this._resetColumnsCallback=callback},TableSettings.prototype.onBestFitColumns=function(callback){this._bestFitColumnsCallback=callback},TableSettings.prototype.onChangeColumns=function(callback){this._changeColumnsCallback=callback},TableSettings.prototype.onRemoveFilters=function(callback){this._removeFiltersCallback=callback},TableSettings.prototype.onDebugPerformance=function(callback){this._debugPerformanceCallback=callback},TableSettings.prototype.destroy=function(){this.hide(),this._popUp.destroy()},TableSettings.prototype._createContent=function(showDebugOptions){var applyButton,cancelButton,columnsContainer,content=dom.elem("div",{className:"flex-column flex-grow hidden-overflow"}),activeFilter=this._settings.activeColumns.some(function(column){return column.isFiltered()})||this._settings.sectionColumn&&this._settings.sectionColumn.isFiltered(),getIconClass=function(column){return this._pendingColumnSelection.has(column.id)?"fa-apply":""}.bind(this),toggleApplyButton=function(){this._pendingColumnSelection.size?applyButton.removeAttribute("disabled"):applyButton.setAttribute("disabled","disabled")}.bind(this);return showDebugOptions&&(content.appendChild(PopUp.createMenuButton({lang:"Performance Recommendations",icon:"fa-line-chart",onClick:function(){this.hide(),"function"==typeof this._debugPerformanceCallback&&this._debugPerformanceCallback()}.bind(this)})),content.appendChild(dom.elem("div",{className:"separator"}))),content.appendChild(PopUp.createMenuButton({lang:"Best Fit All Columns",icon:"fa-th",onClick:function(){this.hide(),"function"==typeof this._bestFitColumnsCallback&&this._bestFitColumnsCallback()}.bind(this)})),activeFilter&&content.appendChild(PopUp.createMenuButton({lang:"Remove All Filters",icon:"fa-trash-o",onClick:function(){this.hide(),"function"==typeof this._removeFiltersCallback&&this._removeFiltersCallback()}.bind(this)})),this._settings.allowColumnSelection&&(content.appendChild(PopUp.createMenuButton({lang:"Reset Table",icon:"fa-reset",onClick:function(){this.hide(),"function"==typeof this._resetColumnsCallback&&this._resetColumnsCallback()}.bind(this)})),this._pendingColumnSelection=new Set,this._columnSelectionOptions=this._settings.getActiveColumnsInOrder().filter(column=>!column.internal).map(column=>(this._pendingColumnSelection.add(column.id),column)).concat(this._settings.columns.filter(function(column){return null==column.currentIndex&&!column.isSection()&&!column.hidden&&!column.fixed}).sort(function(columnA,columnB){return fastLocaleCompare(lang.translate(columnA.langKey),lang.translate(columnB.langKey))})),content.appendChild(dom.elem("div",{className:"heading",textContent:lang.translate("Select Columns")})),columnsContainer=dom.elem("div",{className:"auto-overflow"}),this._columnSelectionOptions.map(function(column){var item=PopUp.createMenuButton({lang:column.menuLangKey,icon:getIconClass(column),buttonAttributes:{disabled:column.fixed?"disabled":void 0},onClick:function(_,button,icon){this._pendingColumnSelection.has(column.id)?this._pendingColumnSelection.delete(column.id):this._pendingColumnSelection.add(column.id),icon.className=getIconClass(column),toggleApplyButton(),this._columnSelectionChanged=!0}.bind(this)});return columnsContainer.appendChild(item),item.children[0]}.bind(this)),content.appendChild(columnsContainer),content.appendChild(dom.elem("div",{className:"separator footer-separator"})),applyButton=dom.elem("button",{className:"standard-button primary",textContent:lang.translate("Apply"),disabled:"disabled"},{events:{click:()=>this.hide()}}),cancelButton=dom.elem("button",{className:"standard-button",textContent:lang.translate("Cancel")},{events:{click:()=>{this._columnSelectionChanged=!1,this.hide()}}}),content.appendChild(dom.elem("div",{className:"footer"},{children:[applyButton,cancelButton]}))),content},TableSettings.prototype._create=function(){this._popUp=new PopUp({allowVerticalAdjustment:this._settings.inline,class:"mutable-table-settings flex-column flex-grow hidden-overflow"}),this._popUp.onHide(function(){this._columnSelectionChanged&&this._pendingColumnSelection.size&&"function"==typeof this._changeColumnsCallback&&this._changeColumnsCallback(this._columnSelectionOptions.filter(function(column){return this._pendingColumnSelection.has(column.id)}.bind(this)).map(function(column){return column.id})),"function"==typeof this._hideCallback&&this._hideCallback()}.bind(this))},module.exports=TableSettings},function(module,exports,__webpack_require__){"use strict";const Slide=__webpack_require__(373),dom=__webpack_require__(40);function PerformanceRecommendations(settings,sourceManager){this._settings=settings,this._sourceManager=sourceManager,this._recommendations=null,this._collectRecommendations()}function Recommendation(params){this.severity=params.severity,this._title=params.title,this._options=params.options}var map;PerformanceRecommendations.prototype.show=function(){var content;content=this._recommendations.length?dom.elem("div",{className:"mutable-performance-recommendations"},{children:this._recommendations.map(function(recommendation){return recommendation.render()})}):dom.elem("div",{className:"info-message"},{children:[dom.elem("f-icon",{className:"fa-smile-o"}),dom.elem("div",{className:"message-content",textContent:"No recommendations"})]}),new Slide({title:"Performance Recommendations",content:content,buttons:!0,okButtonLabel:"Close",okButtonClass:null,cancelButton:!1}).open()},PerformanceRecommendations.prototype._collectRecommendations=function(){const SEVERITIES=Object.values(Recommendation.SEVERITY);let recommendations=[];this._settings.columns.forEach(function(column){let columnRecommendations=this._getCommonColumnRecommendations(column);switch(column.type){case column.TYPE.STANDARD:columnRecommendations=[...columnRecommendations,...this._getStandardColumnRecommendations(column)];break;case column.TYPE.COLLECTION:columnRecommendations=[...columnRecommendations,...this._getCollectionColumnRecommendations(column)];break;case column.TYPE.OMNISELECT:columnRecommendations=[...columnRecommendations,...this._getOmniselectColumnRecommendations(column)]}recommendations=[...recommendations,...columnRecommendations]}.bind(this)),(recommendations=recommendations.concat(this._getSourceRecommendations())).sort((a,b)=>SEVERITIES.indexOf(a.severity)-SEVERITIES.indexOf(b.severity)),this._recommendations=recommendations},PerformanceRecommendations.prototype._getSourceRecommendations=function(){var recommendations=[],fixedSource=this._sourceManager.fixedSource,sourceRows=this._sourceManager.getSourceRows();return sourceRows&&fixedSource&&sourceRows.totalCount>=5e4&&recommendations.push(new Recommendation({severity:Recommendation.SEVERITY.MEDIUM,title:"The source may be too large to be stored and processed on the client side. Note that the threshold will vary depending on how complicated the table is.",options:["If possible use a lazily loaded (server side paged) source.","Otherwise disable expensive features such as sorting, filtering, sections, and searching."]})),recommendations},PerformanceRecommendations.prototype._getCommonColumnRecommendations=function(column){const recommendations=[];return column._valueFunctionReturnedPromise&&recommendations.push(new Recommendation({severity:Recommendation.SEVERITY.MEDIUM,title:this._prefixWithColumn(column,'has specified a "cellValueFunction" that returns a promise. On large datasets, this can be expensive.'),options:['Avoid returning a promise in "cellValueFunction"','Load all required data in the first call to "cellValueFunction" so that subsequent calls to that function for different rows can return the value synchronously.']})),column._onCellRenderedNoDestroyables&&recommendations.push(new Recommendation({severity:Recommendation.SEVERITY.LOW,title:this._prefixWithColumn(column,'has specified a "onCellRendered/onSectionExtraRendered" function that returns undefined, or one or more objects which aren\'t an instance of "Destroyable". This function could be introducing a memory leak.'),options:['If "onCellRendered/onSectionExtraRendered" instantiates a "Destroyable" implementation such as a tooltip, return it as part of the function so that it may be cleaned up once the row is removed from the DOM.']})),recommendations},PerformanceRecommendations.prototype._getStandardColumnRecommendations=function(column){var recommendations=[],formatterDefined="function"==typeof column.cellFormatter,valueFunctionDefined="function"==typeof column.cellValueFunction;return formatterDefined&&!valueFunctionDefined&&recommendations.push(new Recommendation({severity:Recommendation.SEVERITY.HIGH,title:this._prefixWithColumn(column,'is set to type "standard" and specifies a "cellFormatter" but does not specify a "cellValueFunction". This will cause the row to parse the DOM content in order to retrieve the cell value.'),options:['If "cellFormatter" is not returning a DOM element or HTML, then use "cellValueFunction" instead.','If "cellFormatter" is returning a DOM element or HTML, then consider setting a "cellValueFunction" as well. This value will be provided to "cellFormatter".']})),recommendations},PerformanceRecommendations.prototype._getCollectionColumnRecommendations=function(column){var recommendations=[],formatterDefined="function"==typeof column.collectionEntryFormatter,valueFunctionDefined="function"==typeof column.collectionEntryValueFunction;return formatterDefined&&!valueFunctionDefined&&recommendations.push(new Recommendation({severity:Recommendation.SEVERITY.HIGH,title:this._prefixWithColumn(column,'is set to type "collection" and specifies a "collectionEntryFormatter" but does not specify a "collectionEntryValueFunction". This will cause the row to parse the DOM content for each entry in order to retrieve the entry value.'),options:['If "collectionEntryFormatter" is not returning a DOM element or HTML, then use "collectionEntryValueFunction" instead.','If "collectionEntryFormatter" is returning a DOM element or HTML, then consider setting a "collectionEntryValueFunction" as well. This value will be provided to "collectionEntryFormatter".']})),recommendations=recommendations.concat(this._getCollectionFallbackRecommendations(column))},PerformanceRecommendations.prototype._getOmniselectColumnRecommendations=function(column){var recommendations=this._getCollectionFallbackRecommendations(column),fallbackAllowed=column.omniselectAllowFallback,formatterDefined="function"==typeof column.collectionEntryFormatter,valueFunctionDefined="function"==typeof column.collectionEntryValueFunction;return fallbackAllowed&&formatterDefined&&!valueFunctionDefined&&recommendations.push(new Recommendation({severity:Recommendation.SEVERITY.HIGH,title:this._prefixWithColumn(column,'is set to type "omniselect" but allows non-omniselect entries to fall back to standard collection entry behaviour. Since a "collectionEntryFormatter" was specified but not a "collectionEntryValueFunction", any standard collection entries will need to parse the DOM content in order to retrieve the entry value.'),options:['If "collectionEntryFormatter" is not returning a DOM element or HTML, then use "collectionEntryValueFunction" instead.','If "collectionEntryFormatter" is returning a DOM element or HTML, then consider setting a "collectionEntryValueFunction" as well. This value will be provided to "collectionEntryFormatter".']})),recommendations},PerformanceRecommendations.prototype._getCollectionFallbackRecommendations=function(column){var recommendations=[],possibleFallback="function"==typeof column.cellIsValidCollectionFunction,fallbackFormatterDefined="function"==typeof column.collectionFallbackFormatter,fallbackValueFunctionDefined="function"==typeof column.collectionFallbackValueFunction;return possibleFallback&&fallbackFormatterDefined&&!fallbackValueFunctionDefined&&recommendations.push(new Recommendation({severity:Recommendation.SEVERITY.HIGH,title:this._prefixWithColumn(column,'is set to type "'+column.type+'" and has the possibility to fall back to a "standard" column. Since a "collectionFallbackFormatter" was defined but not a "collectionFallbackValueFunction", the row will need to parse the DOM content in order to retrieve the cell value.'),options:['If "collectionFallbackFormatter" is not returning a DOM element or HTML, then use "collectionFallbackValueFunction" instead.','If "collectionFallbackFormatter" is returning a DOM element or HTML, then consider setting a "collectionFallbackValueFunction" as well. This value will be provided to "collectionEntryFormatter".']})),recommendations},PerformanceRecommendations.prototype._prefixWithColumn=function(column,label){return'Column "'+column.id+'" '+label},Recommendation.SEVERITY={HIGH:"high",MEDIUM:"medium",LOW:"low"},Recommendation.SEVERITY_ICON_MAP=((map={})[Recommendation.SEVERITY.HIGH]="fa-severity-critical",map[Recommendation.SEVERITY.MEDIUM]="fa-severity-high",map[Recommendation.SEVERITY.LOW]="fa-severity-low",map),Recommendation.prototype.render=function(){var iconClass=Recommendation.SEVERITY_ICON_MAP[this.severity];return dom.elem("div",{className:"performance-recommendation"},{children:[dom.elem("div",{className:"message performance-recommendation-title"},{children:[dom.elem("f-icon",{className:iconClass+" icon-lg"}),dom.elem("div",{className:"message-content",textContent:this._title})]}),dom.elem("ul",null,{children:this._options.map(function(option){return dom.elem("li",{textContent:option})})})]})},module.exports=PerformanceRecommendations},function(module,exports,__webpack_require__){"use strict";const Row=__webpack_require__(211),Section=__webpack_require__(213),PlaceholderRow=__webpack_require__(602),PlaceHolderRowTemplate=__webpack_require__(603),SectionSettingsPopUp=__webpack_require__(604),SequenceGroupingOperation=__webpack_require__(388),MoveRowOperation=__webpack_require__(605),EditEntryOperation=__webpack_require__(606),util=__webpack_require__(39),log=__webpack_require__(45),dom=__webpack_require__(40),lang=__webpack_require__(47),notify=__webpack_require__(372),browser=__webpack_require__(74);function VirtualizedRows(element,header,legend,sourceManager,settings,inline,disableWindowResizeListener){this._id=util.uniqueID(),this._element=element,this._header=header,this._legend=legend,this._sourceManager=sourceManager,this._settings=settings,this._inline=inline,this._disableWindowResizeListener=disableWindowResizeListener,this._element.innerHTML="",this._verticalScrollerElement=dom.elem("div",{className:"vertical-scroller"}),this._horizontalScrollerElement=dom.elem("div",{className:"horizontal-scroller"}),this._scrollerContainer=dom.elem("div",{className:"scrollers"},{children:[this._verticalScrollerElement,this._horizontalScrollerElement]}),this._noResultsElement=dom.elem("div",{className:"no-results flex-centered"},{children:[dom.elem("span",{textContent:lang.translate("No results")})]}),this._element.appendChild(this._scrollerContainer),this._loadCallback=null,this._displayHeight=null,this._displayWidth=null,this._scrollbarWidth=0,this._parentTableElementWidth=null,this._needsDisplayCalculation=!0,this._keepCurrentColumnWidths=!1,this._displayBuffer=null,this._retrievedRows=null,this._addedRows=null,this._loadedRowOffsets=null,this._loadedStartOffset=null,this._loadedEndOffset=null,this._averageLoadedRowHeight=null,this._focusedRow=null,this._sectionSettingsPopUp=null,this._selectionChangeCallback=null,this._rowCountChangeCallback=null,this._doubleClickRowCallback=null,this._renderCallback=null,this._selectedRows=null,this._lastSelectIndex=null,this._targetColumnID=null,this._targetColumnValuePromise=null,this._targetColumnCell=null,this._rowContextMenuCallback=null,this._scrollListener=null,this._scrollDirectionDownwards=!0,this._resizeListener=null,this._renderInProgress=!1,this._renderWithoutChunking=!1,this._renderID=0,this._renderRangeIndices=null,this._renderScrollTop=null,this._renderIsBlocking=!1,this._renderIsExplicit=!1,this._renderScrollLeft=null,this._renderRowsRemoved=!1,this._renderCurrentIndex=null,this._renderStartIndex=null,this._renderEndIndex=null,this._renderStep=null,this._renderRowIDMap=null,this._renderPerformInitialSelection=!1,this._previousRenderRowIDMap=null,this._renderPlaceholderRowsMap=null,this._debouncedRenderScheduled=!1,this._visibleColumnsChanged=!1,this._updateCellsID=0,this._maxRenderChunkSize=null,this._headerRendered=!1,this._activeReorderingRow=null,this._lastRowCount=0,this._editingRow=null,this._editingColumn=null,this._allEditingRows=null,this._editApplying=!1,this._notifyGroupID=`mutable::${this._id}`,this._destroyed=!1,this._sourceManager.onMouseMoveRow(this._mouseMoveRow.bind(this)),this._sourceManager.onMouseDownInsideRow(this._mouseDownRow.bind(this)),this._sourceManager.onClickRow(this._clickRow.bind(this)),this._sourceManager.onDoubleClickRow(this._doubleClickRow.bind(this)),this._sourceManager.onRowContextMenu(this._rowContextMenu.bind(this)),this._sourceManager.onToggleSection(this._toggleSection.bind(this)),this._sourceManager.onToggleParentRow(this._toggleParentRow.bind(this)),this._sourceManager.onRowReRender(this._rowReRendered.bind(this)),this._sourceManager.onRowDisabled(this._rowDisabled.bind(this)),this._sourceManager.onEditRowCell(this._editRowCell.bind(this)),this._sourceManager.onApplyRowCellChange((row,params)=>this._applyRowCellChange(params)),this._sourceManager.onCancelRowCellChange(this._cancelRowCellChange.bind(this)),this._sourceManager.onSectionContextMenu(this._showSectionContextMenu.bind(this)),this._sourceManager.onSectionColumnSettings(this._sectionColumnSettings.bind(this)),this._debouncedTriggerChunkAddedCallback=util.debounce(300,this._triggerChunkAddedCallback.bind(this)),this._inline||this._disableWindowResizeListener||this._listenOnWindowResize(),this._listenOnScroll()}VirtualizedRows.prototype.setLoadCallback=function(fn){this._loadCallback=fn},VirtualizedRows.prototype.onSelectionChange=function(callback){this._selectionChangeCallback=callback},VirtualizedRows.prototype.onRowCountChange=function(callback){this._rowCountChangeCallback=callback},VirtualizedRows.prototype.onDoubleClickRow=function(callback){this._doubleClickRowCallback=callback},VirtualizedRows.prototype.onRowContextMenu=function(callback){this._rowContextMenuCallback=callback},VirtualizedRows.prototype.onRender=function(callback){this._renderCallback=callback},VirtualizedRows.prototype.render=function(params={}){return this.blockingRenderInProgress()?Promise.resolve():(params.columnsChanged?(this._needsDisplayCalculation=!0,this._headerRendered=!1,this._settings.resetVisibleColumns(),this._sourceManager.clearRowRenderingAndHeightCache(),this._clearPlaceholderCache()):params.recalculateColumnWidths?(this._needsDisplayCalculation=!0,this._settings.resetVisibleColumns()):params.viewportChanged&&(this._needsDisplayCalculation=!0,this._keepCurrentColumnWidths=!0,this._settings.resetVisibleColumns(),"keepColumnWidths"in params&&(this._keepCurrentColumnWidths=params.keepColumnWidths)),params.clearAllRowCache?(this._sourceManager.clearAllRowCache(),this._clearPlaceholderCache()):this._addedRows&&this._addedRows.forEach(row=>row.clearRenderingCache()),this._renderWithoutChunking=params.withoutChunking||!1,this._renderIsExplicit=!0,this._scrollDirectionDownwards=!0,params.keepRows||(this._renderPerformInitialSelection=!params.keepScrollPosition,this._retrievedRows=null,this._loadedRowOffsets=null,this.clearSelectionAndNotify(),this._stopEditing()),this._renderForScrollTop(params.keepScrollPosition?this._element.scrollTop:0,!0))},VirtualizedRows.prototype.bestFitRendered=function(){return this.render({recalculateColumnWidths:!0,keepRows:!0,keepScrollPosition:!0})},VirtualizedRows.prototype.fitContentsForRenderedColumn=function(column){var max=0;this._addedRows.forEach(function(row){row instanceof Section||row instanceof PlaceholderRow||row.prepareCellForMeasure(column)}),this._addedRows.forEach(function(row){var width;row instanceof Section||row instanceof PlaceholderRow||(width=row.measureCell(column))>max&&(max=width)}),column.setWidth(max),this._settings.updateColumnHeaderCellPositions(),this.calculateVisibleColumns(),this.updateVisibleRowCells()},VirtualizedRows.prototype.parentElementWidthChanged=function(){var width,parentWidth;this._inline&&this._parentTableElementWidth&&(width=this._element.offsetWidth,(parentWidth=this._element.parentElement.offsetWidth)>width&&(this._parentTableElementWidth=parentWidth,this.render({recalculateColumnWidths:!0,keepRows:!0,keepScrollPosition:!0})))},VirtualizedRows.prototype.resizeColumnStart=function(column){this._resizeReorderStart(column,"resizing")},VirtualizedRows.prototype.resizeColumnStop=function(column){this._resizeReorderStop(column,"resizing")},VirtualizedRows.prototype.reorderColumnStart=function(column){this._resizeReorderStart(column,"reordering-column")},VirtualizedRows.prototype.reorderColumnStop=function(column){this._resizeReorderStop(column,"reordering-column")},VirtualizedRows.prototype.calculateVisibleColumns=function(){var activeColumns=this._settings.getActiveColumnsInOrder(),currentVisibleColumns=this._settings.getVisibleColumnsSet(),visibleColumns=new Set,visibleStart=this._renderScrollLeft,visibleEnd=visibleStart+this._displayWidth,columnStart=0,visibleColumnsHasChanged=!1,numberVisible=0;activeColumns.forEach(function(column){var columnWidth=column.getWidth(),columnEnd=columnStart+columnWidth,currentlyVisible=currentVisibleColumns.has(column);columnStart>=visibleStart&&columnStart<=visibleEnd||columnEnd>=visibleStart&&columnStart<=visibleEnd||columnStart<visibleStart&&columnEnd>visibleEnd?(visibleColumns.add(column),numberVisible++,currentlyVisible||(visibleColumnsHasChanged=!0)):currentlyVisible&&(visibleColumnsHasChanged=!0),columnStart+=columnWidth}),this._settings.setVisibleColumnsSet(visibleColumns),(this._needsDisplayCalculation||visibleColumnsHasChanged)&&this._calculateMaxRenderChunkSize(numberVisible),this._visibleColumnsChanged=visibleColumnsHasChanged},VirtualizedRows.prototype.updateVisibleRowCells=function(){var renderID=this._renderID,updateCellsID=++this._updateCellsID,index=0,update=function(){var startTime,count=0;if(renderID===this._renderID&&updateCellsID===this._updateCellsID&&(startTime=window.performance.now(),this._addedRows)){for(;index<this._addedRows.length&&(this._needsDisplayCalculation||this._renderWithoutChunking||!this._visibleColumnsChanged||!(count>=this._maxRenderChunkSize||window.performance.now()-startTime>=5));)this._addedRows[index].updateCells(this._displayWidth),count++,index++;index<this._addedRows.length?requestAnimationFrame(update):this._visibleColumnsChanged=!1}}.bind(this);this._inline&&this._calculateAndApplyInlineDisplayWidth(),this._clearPlaceholderCache(),update()},VirtualizedRows.prototype.focusPreviousEntry=function(){var i,candidate,row,height;if(this._settings.rowSelection&&!this._editingRow&&this._focusedRow){for(height=0,i=this._focusedRow.insertedIndex-1;i>=this._retrievedRows.firstLoadedIndex;i--)if(height+=(candidate=this._retrievedRows[i]).getHeight(),!(candidate instanceof Section)){row=candidate;break}row&&(this._focusRow(row),this._loadedRowOffsets[row.insertedIndex]<this._element.scrollTop&&(this._element.scrollTop-=height))}},VirtualizedRows.prototype.focusNextEntry=function(){var i,candidate,row,height;if(this._settings.rowSelection&&!this._editingRow&&this._focusedRow&&!this.isReorderingRow()){for(height=0,i=this._focusedRow.insertedIndex+1;i<this._retrievedRows.lastLoadedIndex;i++)if(height+=(candidate=this._retrievedRows[i]).getHeight(),!(candidate instanceof Section)){row=candidate;break}row&&(this._focusRow(row),this._loadedRowOffsets[row.insertedIndex]+row.getHeight()>this._element.scrollTop+this._displayHeight&&(this._element.scrollTop+=height))}},VirtualizedRows.prototype.selectFocusedEntry=function(event){this._settings.rowSelection&&!this._editingRow&&this._focusedRow&&this._clickRow(this._focusedRow,event)},VirtualizedRows.prototype.selectAllEntries=function(){this._sourceManager.fixedSource?this._settings.rowSelection&&!this._editingRow&&(this._retrievedRows.forEach(function(row){this._selectRow(row,!0)}.bind(this)),this._notifySelectionChange()):log.warn("Select all rows shortcut is disabled for a non-fixed source")},VirtualizedRows.prototype.primaryRowAction=function(event){this._focusedRow&&(this.selectFocusedEntry(event),this._doubleClickRow(this._focusedRow,event))},VirtualizedRows.prototype.getCurrentRows=function(){var i,result=[],rows=this._retrievedRows;if(rows)for(i=rows.firstLoadedIndex;null!=i&&i<=rows.lastLoadedIndex;i++)result.push(rows[i]);return result},VirtualizedRows.prototype.clearSelectionAndNotify=function(){const rowsAreSelected=this._selectedRows&&this._selectedRows.size;this._clearSelection(),rowsAreSelected&&this._notifySelectionChange()},VirtualizedRows.prototype.isReorderingRow=function(){return!(!this._activeReorderingRow||this._activeReorderingRow.ending)},VirtualizedRows.prototype.hasRowReorderingStarted=function(){return!(!this._activeReorderingRow||!this._activeReorderingRow.detached)},VirtualizedRows.prototype.reorderRowFromMouseMove=function(event){var containerOffset,containerRelativeTop,row,tableOffset=dom.getElementOffset(this._element.parentElement),tableRelativeTop=event.pageY-tableOffset.top+this._activeReorderingRow.mouseTopOffset;this._activeReorderingRow.detached?(containerOffset=dom.getElementOffset(this._element),containerRelativeTop=event.pageY-containerOffset.top+this._element.scrollTop+this._activeReorderingRow.mouseTopOffset,row=this._activeReorderingRow.row,this._activeReorderingRow.topThreshold&&containerRelativeTop<=this._activeReorderingRow.topThreshold?this._swapReorderingRow("up",containerRelativeTop):this._activeReorderingRow.bottomThreshold&&containerRelativeTop+row.getHeight()>=this._activeReorderingRow.bottomThreshold&&this._swapReorderingRow("down",containerRelativeTop)):this._startDragToReorderRows(),this._activeReorderingRow.rowElement.style.top=tableRelativeTop+"px"},VirtualizedRows.prototype.stopReorderingRow=function(){var tableElement,row,rowElement,currentInsertedIndex,originalInsertedIndex;if(this._activeReorderingRow.detached&&(tableElement=this._element.parentElement,rowElement=this._activeReorderingRow.rowElement,currentInsertedIndex=(row=this._activeReorderingRow.row).insertedIndex,originalInsertedIndex=this._activeReorderingRow.originalInsertedIndex,tableElement.classList.remove("rows-reordering"),rowElement.classList.remove("reordering-row"),row.setTopOffset(this._loadedRowOffsets[currentInsertedIndex]),this._element.appendChild(rowElement),originalInsertedIndex!==currentInsertedIndex)){let afterRow,beforeRow;originalInsertedIndex<currentInsertedIndex?afterRow=this._retrievedRows[currentInsertedIndex-1]:beforeRow=this._retrievedRows[currentInsertedIndex+1];let operation=new MoveRowOperation({settings:this._settings,sourceManager:this._sourceManager,row:row,afterRow:afterRow,beforeRow:beforeRow});const cacheClearRender=()=>(this._sourceManager.filterAndSection(),this.render({clearAllRowCache:!0,keepScrollPosition:!0})),notifySaved=()=>{this._showSaveUndoMessage(()=>{operation.undo().then(()=>{cacheClearRender(),this._showUndoSuccessMessage()},()=>{this._showUndoFailureMessage()})})};operation.execute().then(()=>{this._settings.editingNeedsExternalUpdate?cacheClearRender().then(notifySaved):cacheClearRender()},error=>{log.error(`Failed to reorder entry: "${error}"`),this._showSaveFailedMessage(),this._loadCallback(!0).then(()=>{operation.undo().then(cacheClearRender,cacheClearRender)})})}this._activeReorderingRow.ending=!0,setTimeout(function(){this._activeReorderingRow=null}.bind(this))},VirtualizedRows.prototype.setRowSequenceGroupingValue=function(row,value){const sourceInstance=this._sourceManager.getSourceInstance();var removeRows,currentValue,operations=[];row.section&&(removeRows=this._sourceManager.getRowsWithSameSequenceGroupingValue(row.section,row.sourceIndex+1),operations=removeRows.map(removeRow=>new SequenceGroupingOperation(sourceInstance,removeRow,null)),row.section.firstRow===row&&(currentValue=row.section.firstRow.getSequenceGroupingValue(),value&&this._settings.isSectionExpanded(currentValue)&&this._settings.expandSectionAndPersist(value,!0),this._settings.expandSectionAndPersist(currentValue,!1))),operations.push(new SequenceGroupingOperation(sourceInstance,row,value)),this._loadCallback(!0).then(function(){Promise.all(operations.map(function(operation){return operation.execute()})).then(function(){this._sourceManager.filterAndSection(),this.render({clearAllRowCache:!0,keepScrollPosition:!!value})}.bind(this),function(){this._loadCallback(!1)}.bind(this))}.bind(this))},VirtualizedRows.prototype.blockingRenderInProgress=function(){return this._renderInProgress&&this._renderIsBlocking},VirtualizedRows.prototype.isEditing=function(){return!!this._editingRow},VirtualizedRows.prototype.applyCurrentEditingColumn=function(){this._editingRow&&!this._editApplying&&this._applyRowCellChange()},VirtualizedRows.prototype.setEditedColumnValueForSelection=function(column,editedValue){this._selectedRows.size&&(this._editingRow=this._retrievedRows[this._lastSelectIndex],this._allEditingRows=new Set(this._selectedRows.values()),this._allEditingRows.add(this._editingRow),this._editingColumn=column,this._focusedRow&&this._focusedRow.focus(!1),this._clearSelection(),this._notifySelectionChange(),this._applyRowCellChange({editedValue:editedValue,validated:!0}))},VirtualizedRows.prototype.copyInsertEntry=async function(entry,index,params={}){if(!params.before&&!params.after)throw new Error("before or after must be specified");const source=this._sourceManager.getSourceInstance(),sourceRows=this._sourceManager.getSourceRows();this._loadCallback(!0);try{let afterRow,beforeRow;params.after?afterRow=sourceRows[index]:beforeRow=sourceRows[index];let copiedEntry=source.copyEntry(entry);if("function"==typeof params.processingFunction)try{const processedEntry=params.processingFunction(copiedEntry);processedEntry&&(copiedEntry=processedEntry)}catch(e){log.error(e)}await Promise.resolve(source.externallyUpdateEntry(copiedEntry)),copiedEntry=await Promise.resolve(source.processUpdatedEntry(copiedEntry));const row=await this._sourceManager.addEntry(copiedEntry,{locateNextRender:params.locateAfterInsert});if(row.sourceIndex!==index){const moveOperation=new MoveRowOperation({settings:this._settings,sourceManager:this._sourceManager,row:row,afterRow:afterRow,beforeRow:beforeRow});await moveOperation.execute()}this.render({keepScrollPosition:!params.locateAfterInsert,clearAllRowCache:!0}),this._showSaveSuccessMessage()}catch(e){return log.error(e),this._loadCallback(!1),this._showSaveFailedMessage(),Promise.reject()}},VirtualizedRows.prototype.destroy=function(){this._sectionSettingsPopUp&&this._sectionSettingsPopUp.destroy(),this._scrollListener&&this._element.removeEventListener("scroll",this._scrollListener),this._resizeListener&&window.removeEventListener("resize",this._resizeListener),this._addedRows&&this._addedRows.forEach(row=>{this._editingRow&&row===this._editingRow&&row.notifyValueEditingStopped(),row.clearRenderingCache()}),notify.clearAllForGroup(this._notifyGroupID),this.clearSelectionAndNotify(),this._destroyed=!0},VirtualizedRows.prototype._resizeReorderStart=function(column,className){this._addedRows.forEach(function(row){row instanceof Section||row instanceof PlaceholderRow||row.renderCell(column).classList.add(className)})},VirtualizedRows.prototype._resizeReorderStop=function(column,className){this._addedRows.forEach(function(row){row instanceof Section||row instanceof PlaceholderRow||row.renderCell(column).classList.remove(className)}),this._updateHorizontalScroller()},VirtualizedRows.prototype._calculateDisplayBuffer=function(){this._displayBuffer=Math.min(Math.max(100,Math.ceil(this._displayHeight*(1/3))),300)},VirtualizedRows.prototype._calculateAbsoluteDisplayHeight=function(){this._displayHeight=this._element.clientHeight},VirtualizedRows.prototype._calculateAbsoluteDisplayWidth=function(){this._displayWidth=this._element.clientWidth,this._scrollbarWidth=this._element.offsetWidth-this._element.clientWidth},VirtualizedRows.prototype._listenOnScroll=function(){var scheduledScrollTop,cellUpdateScheduled=!1,render=function(){this._scrollDirectionDownwards=scheduledScrollTop>=this._renderScrollTop,this._renderForScrollTop(scheduledScrollTop),scheduledScrollTop=null}.bind(this);this._scrollListener=function(){var scrollTop=this._element.scrollTop,scrollLeft=this._element.scrollLeft;null!=scheduledScrollTop?scheduledScrollTop=scrollTop:this._debouncedRenderScheduled||Math.abs(scrollTop-this._renderScrollTop)>=this._displayBuffer?(scheduledScrollTop=scrollTop,requestAnimationFrame(render)):this._updateLegend(scrollTop),scrollLeft!==this._renderScrollLeft&&(this._renderScrollLeft=scrollLeft,this.calculateVisibleColumns(),this._visibleColumnsChanged&&!cellUpdateScheduled&&(requestAnimationFrame(function(){this.updateVisibleRowCells(),cellUpdateScheduled=!1}.bind(this)),cellUpdateScheduled=!0))}.bind(this),this._element.addEventListener("scroll",this._scrollListener)},VirtualizedRows.prototype._listenOnWindowResize=function(){this._resizeListener=util.debounce(200,()=>{this._renderID&&this.render({keepScrollPosition:!0,keepRows:!0,viewportChanged:!0})}),window.addEventListener("resize",this._resizeListener)},VirtualizedRows.prototype._calculateOffsetsFromIndex=function(fromIndex,toIndex){var i,offset;for(fromIndex=fromIndex||this._retrievedRows.firstLoadedIndex,toIndex=toIndex||this._retrievedRows.lastLoadedIndex,offset=fromIndex===this._retrievedRows.firstLoadedIndex?this._loadedStartOffset:this._loadedRowOffsets[fromIndex],i=fromIndex;null!=i&&i<=toIndex;i++)this._loadedRowOffsets[i]=offset,offset+=this._retrievedRows[i].getHeight();toIndex===this._retrievedRows.lastLoadedIndex&&(this._loadedEndOffset=offset),this._updateVerticalScroller()},VirtualizedRows.prototype._calculateUpdatedRangeIndices=function(){var firstVisibleIndex,visibleIndexOffset,scrollTop;if(null==this._renderRangeIndices.firstVisibleIndex)this._renderRangeIndices=this._getRangeIndicesForScrollTop(this._renderScrollTop);else{if(firstVisibleIndex=this._renderRangeIndices.firstVisibleIndex,visibleIndexOffset=this._renderRangeIndices.visibleIndexOffset,firstVisibleIndex&&!this._loadedRowOffsets[firstVisibleIndex]){for(scrollTop=this._loadedEndOffset-this._displayHeight,firstVisibleIndex=this._retrievedRows.lastLoadedIndex;this._loadedRowOffsets[firstVisibleIndex]>scrollTop;)firstVisibleIndex--;visibleIndexOffset=scrollTop-this._loadedRowOffsets[firstVisibleIndex]}scrollTop=this._loadedRowOffsets[firstVisibleIndex]+visibleIndexOffset,this._renderRangeIndices=this._getRangeIndicesForScrollTop(scrollTop),this._renderScrollTop=scrollTop}},VirtualizedRows.prototype._calculateRowOffsets=async function(){const rows=this._retrievedRows;let totalCalculatedHeight=0;const updateTotalCalculatedHeight=function(height){totalCalculatedHeight+=height};if(!this._loadedRowOffsets){let promises=[],count=0;for(let i=rows.firstLoadedIndex;null!=i&&i<=rows.lastLoadedIndex;i++){const value=rows[i].calculateHeight();util.objectIsThenable(value)?promises.push(value.then(updateTotalCalculatedHeight)):updateTotalCalculatedHeight(value),promises.length&&count%100==0&&(await Promise.all(promises),promises=[]),count++}promises.length&&await Promise.all(promises),this._loadedRowOffsets=[],this._averageLoadedRowHeight=totalCalculatedHeight/rows.loadedCount||0,this._loadedStartOffset=(rows.firstLoadedIndex||0)*this._averageLoadedRowHeight,this._calculateOffsetsFromIndex(),this._inline&&this._renderIsBlocking&&(this._calculateAndApplyInlineDisplayHeight(),this._calculateDisplayBuffer()),this._calculateUpdatedRangeIndices()}},VirtualizedRows.prototype._calculateAndApplyInlineDisplayHeight=function(){this._displayHeight=Math.min(300,Math.max(100,this._getTotalRowHeight())),this._element.style.height=this._displayHeight+"px"},VirtualizedRows.prototype._calculateAndApplyInlineDisplayWidth=function(){this._displayWidth=Math.min(800,Math.max(400,this._settings.getTotalColumnWidthSum())),this._scrollbarWidth=this._element.offsetWidth-this._element.clientWidth,this._element.style.width=this._displayWidth+this._scrollbarWidth+"px"},VirtualizedRows.prototype._getParentTableElementWidth=function(){return null==this._parentTableElementWidth&&(this._parentTableElementWidth=this._element.parentElement.clientWidth),this._parentTableElementWidth},VirtualizedRows.prototype._expandColumnsToFillSpace=function(availableWidth,columnWidths){var i,index,perColumnAdjust,canIncreaseIndexes,availableDifference=availableWidth-columnWidths.reduce(function(previous,current){return previous+current},0);if(availableDifference>0)for(canIncreaseIndexes=Array.from(Array(this._settings.activeColumns.filter(column=>!column.internal).length).keys()),perColumnAdjust=Math.floor(availableDifference/canIncreaseIndexes.length),i=0;i<canIncreaseIndexes.length;i++)index=canIncreaseIndexes[i],i===canIncreaseIndexes.length-1?columnWidths[index]+=availableDifference:(columnWidths[index]+=perColumnAdjust,availableDifference-=perColumnAdjust);return columnWidths},VirtualizedRows.prototype._measureAndSetColumnWidths=function(){const maxCellWidth=this._inline?400:.3*this._displayWidth;var totalWidth,columnWidths,availableWidth,minWidth;availableWidth=this._inline?800:this._displayWidth,this._settings.prepareHeaderCellsForMeasure(),this._settings.measureAndSetHeaderCellWidths(),this._settings.prepareHeaderCellsForMinimumMeasure(),columnWidths=this._settings.getColumnWidths(),this._addedRows.forEach(function(row){row instanceof Section||row instanceof PlaceholderRow||row.prepareForMeasure()}),this._settings.measureAndSetMinimumHeaderCellWidths();for(const row of this._addedRows)if(!(row instanceof Section||row instanceof PlaceholderRow))for(const[index,measuredCellWidth]of row.measure().entries()){const cellWidth=Math.min(measuredCellWidth,maxCellWidth);cellWidth>columnWidths[index]&&(columnWidths[index]=cellWidth)}this._settings.removeHeaderCellsMinimumMeasureClass(),(totalWidth=columnWidths.reduce(function(previous,current){return previous+current},0))<availableWidth&&(this._inline?totalWidth<(minWidth=Math.max(400,this._getParentTableElementWidth()))&&this._expandColumnsToFillSpace(minWidth,columnWidths):this._expandColumnsToFillSpace(availableWidth,columnWidths)),this._settings.setColumnWidths(columnWidths),this._inline&&this._calculateAndApplyInlineDisplayWidth(),this.calculateVisibleColumns(),this.updateVisibleRowCells()},VirtualizedRows.prototype._getTotalRowHeight=function(){var remainingRows=0,rowCount=this._retrievedRows.totalCount||this._retrievedRows.runningTotalCount||0;return this._retrievedRows.lastLoadedIndex&&(remainingRows=rowCount-this._retrievedRows.lastLoadedIndex-1),this._loadedEndOffset+remainingRows*this._averageLoadedRowHeight},VirtualizedRows.prototype._shouldInfiniteScroll=function(){var rows=this._retrievedRows;return!this._sourceManager.isFixed&&rows&&null==rows.totalCount},VirtualizedRows.prototype._updateVerticalScroller=function(){var totalHeight=this._getTotalRowHeight();this._shouldInfiniteScroll()&&(totalHeight+=Math.round(.1*totalHeight)),this._verticalScrollerElement.style.height=totalHeight+"px"},VirtualizedRows.prototype._updateHorizontalScroller=function(){this._horizontalScrollerElement.style.width=this._settings.getTotalColumnWidthSum()+"px"},VirtualizedRows.prototype._clearPlaceholderCache=function(){this._renderPlaceholderRowsMap=null,this._placeholderRowTemplate=new PlaceHolderRowTemplate(this._settings,this._averageLoadedRowHeight)},VirtualizedRows.prototype._selectInitialRows=function(){let isSelection=!1;if(this._retrievedRows.loadedCount){const selectedRowsFunction=this._settings.initiallySelectedRowsFunction;if(this._settings.fixedSource&&"function"==typeof selectedRowsFunction){const rows=this._retrievedRows.filter(row=>!(row instanceof Section));if(rows.length)try{const selected=selectedRowsFunction(rows);for(const row of selected)row instanceof Row&&(this._selectRow(row,!0),isSelection=!0)}catch(e){log.error(e)}}else if(this._settings.selectFirstRow)for(const row of this._retrievedRows)if(row instanceof Row){this._selectRow(row,!0),isSelection=!0;break}}isSelection&&this._notifySelectionChange()},VirtualizedRows.prototype._addChunkedRows=function(renderID,resolve){var renderingPromises=[],rowsAreRemaining=function(){var remaining=!1;return this._retrievedRows.loadedCount&&(remaining=this._renderStep>0?this._renderEndIndex-this._renderCurrentIndex>=0:this._renderEndIndex-this._renderCurrentIndex<=0),remaining}.bind(this);const removeOldRows=()=>{const children=Array.from(this._element.children);if(!this._renderRowsRemoved){for(let childElement of children)if(childElement.classList.contains("row")){let id,row,rowElement;if(null!=(id=childElement.classList.contains("section")?childElement.getAttribute("section-id"):childElement.getAttribute("row-id"))&&(rowElement=(row=this._renderRowIDMap.get(id))&&row.getRendered()),row&&childElement===rowElement||this._element.removeChild(childElement),null!=id&&!row){const previousRow=this._previousRenderRowIDMap&&this._previousRenderRowIDMap.get(id);(previousRow&&!this._editingRow||previousRow!==this._editingRow)&&previousRow.clearRenderingCache()}}this._renderRowsRemoved=!0}};var addNewRows=function(){if(this._destroyed||this._renderID!==renderID)return void resolve();const fragment=document.createDocumentFragment(),startTime=window.performance.now();let firstAddedRow,count=0;for(;rowsAreRemaining()&&(this._needsDisplayCalculation||this._renderWithoutChunking||!(count>=this._maxRenderChunkSize||window.performance.now()-startTime>=5));){const row=this._renderPlaceholderRowsMap.get(this._renderCurrentIndex)||this._retrievedRows[this._renderCurrentIndex],isRow=row instanceof Row,rowElement=row.render(this._displayWidth),offset=this._renderRangeIndices.offsets.get(this._renderCurrentIndex);this._activeReorderingRow&&this._activeReorderingRow.row===row||(row.setTopOffset(offset),rowElement.setAttribute("inserted-index",this._renderCurrentIndex),this._editingRow&&isRow&&!this._allEditingRows.has(row)&&row.showEditingMask(!0,this._editingRow),row.isAddedToDOM()||fragment.appendChild(rowElement),!firstAddedRow&&isRow&&(firstAddedRow=row),this._addedRows.push(row)),isRow&&row.setLocated(!1),this._renderCurrentIndex+=this._renderStep,count++}this._element.appendChild(fragment),browser.isMobile()||!firstAddedRow||this._focusedRow&&this._focusedRow.isAddedToDOM()||this._focusRow(firstAddedRow),rowsAreRemaining()?requestAnimationFrame(addNewRows):this._debouncedTriggerChunkAddedCallback()}.bind(this),complete=function(){this._needsDisplayCalculation?(removeOldRows(),this._inline||this._calculateAbsoluteDisplayWidth(),this._settings.mobileLayout?this._calculateMaxRenderChunkSize(this._settings.activeColumns.length):this._keepCurrentColumnWidths?(this.calculateVisibleColumns(),this.updateVisibleRowCells()):this._measureAndSetColumnWidths(),this._updateHorizontalScroller(),this._inline||this._calculateAbsoluteDisplayHeight()):this._renderIsBlocking&&(this._inline?this._calculateAndApplyInlineDisplayWidth():this._calculateAbsoluteDisplayWidth()),this._settings.mobileLayout||this._header.show(),this._loadCallback(!1),this._updateLegend(this._renderScrollTop),this._updateRowCount(),this._renderPerformInitialSelection&&this._selectInitialRows(),this._renderIsExplicit&&"function"==typeof this._renderCallback&&this._renderCallback(),this._needsDisplayCalculation=!1,this._keepCurrentColumnWidths=!1,this._renderWithoutChunking=!1,this._renderInProgress=!1,this._renderIsBlocking=!1,this._renderIsExplicit=!1,this._renderPerformInitialSelection=!1,this._headerRendered=!0,resolve()}.bind(this);this._needsDisplayCalculation||removeOldRows(),rowsAreRemaining()?(this._noResultsElement.parentElement&&this._element.removeChild(this._noResultsElement),addNewRows(),this._needsDisplayCalculation?(this._renderRowIDMap.forEach(function(row){var promise=row.getReadyForMeasurePromise();promise&&renderingPromises.push(promise)}),renderingPromises.length?(this._loadCallback(!0,{noOpacity:!0}),Promise.all(renderingPromises).then(complete)):complete()):complete()):(this._element.appendChild(this._noResultsElement),complete())},VirtualizedRows.prototype._chunkedRender=function(renderID,resolve){this._destroyed?resolve():(this._settings.mobileLayout||this._headerRendered||this._header.render(),this._calculateRowOffsets().then(function(){var i,row,scrollTop,totalRowHeight,rangeIndices,currentPlaceholderRowMap,rows=this._retrievedRows,locatedRow=this._sourceManager.getLocatedRow();for(locatedRow?(this._sourceManager.unsetLocatedRow(),scrollTop=this._loadedRowOffsets[locatedRow.insertedIndex]-this._displayHeight/2+locatedRow.getHeight()/2,this._renderScrollTop=this._element.scrollTop=scrollTop,this._renderRangeIndices=this._getRangeIndicesForScrollTop(this._renderScrollTop)):this._renderIsBlocking&&(totalRowHeight=this._getTotalRowHeight(),this._renderScrollTop>=totalRowHeight&&(this._renderScrollTop=Math.max(totalRowHeight-this._displayHeight,0),this._renderRangeIndices=this._getRangeIndicesForScrollTop(this._renderScrollTop)),this._element.scrollTop=this._renderScrollTop),this._needsDisplayCalculation&&!this._keepCurrentColumnWidths&&(this._element.scrollLeft=0,this._renderScrollLeft=0,this._clearPlaceholderCache()),rangeIndices=this._renderRangeIndices,this._previousRenderRowIDMap=this._renderRowIDMap,this._renderRowIDMap=new Map,currentPlaceholderRowMap=this._renderPlaceholderRowsMap,this._renderPlaceholderRowsMap=new Map,i=rangeIndices.start;null!=i&&i<=rangeIndices.end;i++)(row=rows[i])||(row=currentPlaceholderRowMap&&currentPlaceholderRowMap.get(i)||new PlaceholderRow(i,this._placeholderRowTemplate),this._renderPlaceholderRowsMap.set(i,row)),this._renderRowIDMap.set(row.id,row);this._scrollDirectionDownwards?(this._renderCurrentIndex=this._renderStartIndex=rangeIndices.start,this._renderEndIndex=rangeIndices.end,this._renderStep=1):(this._renderCurrentIndex=this._renderStartIndex=rangeIndices.end,this._renderEndIndex=rangeIndices.start,this._renderStep=-1),this._addedRows=[],this._activeReorderingRow&&this._addedRows.push(this._activeReorderingRow.row),this._addChunkedRows(renderID,resolve)}.bind(this)))},VirtualizedRows.prototype._calculateMaxRenderChunkSize=function(numVisibleColumns){var x;this._maxRenderChunkSize=Math.min(Math.max((x=numVisibleColumns,Math.ceil(40/-7*(x-3)+50)),10),50)},VirtualizedRows.prototype._getRangeIndicesForScrollTop=function(scrollTop){var i,startOffset,endOffset,offset,firstVisibleOffset,upperLimit,buffer,rows=this._retrievedRows,startIndex=null,endIndex=null,firstVisibleIndex=null,visibleIndexOffset=null,offsets=new Map,getIndexForOffset=function(lookupOffset,before){var index,averageOffsetCount,mathOper=before?Math.floor:Math.ceil;return lookupOffset<this._loadedStartOffset?(averageOffsetCount=mathOper.call(Math,Math.abs(lookupOffset-this._loadedStartOffset)/this._averageLoadedRowHeight),index=rows.firstLoadedIndex-averageOffsetCount):lookupOffset>=this._loadedEndOffset?(averageOffsetCount=mathOper.call(Math,Math.abs(lookupOffset-this._loadedEndOffset)/this._averageLoadedRowHeight),index=rows.lastLoadedIndex+averageOffsetCount+1):(index=util.binaryInsertIndex(this._loadedRowOffsets,lookupOffset,function(a,b){return a-b},{startIndex:rows.firstLoadedIndex,endIndex:rows.lastLoadedIndex}),before&&lookupOffset>0&&this._loadedRowOffsets[index]>startOffset&&index--),Math.max(0,Math.min(index,upperLimit))}.bind(this),getOffsetForIndex=function(index){return index<rows.firstLoadedIndex?Math.max(0,this._loadedStartOffset-(rows.firstLoadedIndex-index)*this._averageLoadedRowHeight):index>rows.lastLoadedIndex?this._loadedEndOffset+(index-rows.lastLoadedIndex-1)*this._averageLoadedRowHeight:this._loadedRowOffsets[index]}.bind(this);if(this._loadedRowOffsets&&this._loadedRowOffsets.length){for(this._shouldInfiniteScroll()?(buffer=.1*this._getTotalRowHeight(),upperLimit=rows.runningTotalCount+Math.floor(buffer/this._averageLoadedRowHeight)):upperLimit=(rows.totalCount||rows.runningTotalCount)-1,startOffset=scrollTop-this._displayBuffer,endOffset=scrollTop+this._displayHeight+this._displayBuffer,startIndex=getIndexForOffset(startOffset,!0),endIndex=getIndexForOffset(endOffset),i=startIndex;i<=endIndex;i++)(offset=getOffsetForIndex(i))<=scrollTop&&(firstVisibleIndex=i,firstVisibleOffset=offset),offsets.set(i,offset);visibleIndexOffset=scrollTop-firstVisibleOffset}return{start:startIndex,end:endIndex,firstVisibleIndex:firstVisibleIndex,visibleIndexOffset:visibleIndexOffset,offsets:offsets}},VirtualizedRows.prototype._rowsLoadedForRangeIndices=function(rangeIndices){var loaded=!1;return null!=rangeIndices.start&&null!=rangeIndices.end&&(loaded=this._retrievedRows.firstLoadedIndex<=rangeIndices.start&&this._retrievedRows.lastLoadedIndex>=rangeIndices.end),loaded},VirtualizedRows.prototype._loadRows=function(rangeIndices){return this.clearSelectionAndNotify(),this._stopEditing(),this._loadedRowOffsets=null,this._loadedStartOffset=null,this._loadedEndOffset=null,this._averageLoadedRowHeight=null,this._loadCallback(!0).then(()=>{if(!this._destroyed)return this._sourceManager.getRows(rangeIndices.start,rangeIndices.end).then(rows=>{this._destroyed?log.warn("Table is destroyed, cancelling render"):null==rows.firstLoadedIndex&&rows.runningTotalCount&&this._element.scrollTop?(this._renderInProgress=!1,log.warn("Scrolled to rows no longer exist, re-rendering table"),this.render()):this._retrievedRows=rows});log.warn("Table is destroyed, cancelling render")})},VirtualizedRows.prototype._startRender=function(rangeIndices,scrollTop,blocking){return this._renderInProgress=!0,this._renderRangeIndices=rangeIndices,this._renderScrollTop=scrollTop,this._renderIsBlocking=blocking||!1,this._renderRowsRemoved=!1,this._renderInProgress=!0,++this._renderID},VirtualizedRows.prototype._debouncedLoadAndStartRender=util.debounce(200,function(rangeIndices,scrollTop){var renderID;this._debouncedRenderScheduled&&(renderID=this._startRender(rangeIndices,scrollTop,!0),this._loadRows(rangeIndices).then(function(){this._chunkedRender(renderID,function(){})}.bind(this)),this._debouncedRenderScheduled=!1)}),VirtualizedRows.prototype._renderForScrollTop=function(scrollTop,blocking){return new Promise(function(resolve){var renderID,rangeIndices;this.blockingRenderInProgress()?resolve():(this._needsDisplayCalculation&&(this._calculateAbsoluteDisplayHeight(),this._calculateDisplayBuffer()),blocking=blocking||!this._retrievedRows,rangeIndices=this._getRangeIndicesForScrollTop(scrollTop),this._debouncedRenderScheduled=!1,this._rowsLoadedForRangeIndices(rangeIndices)?(renderID=this._startRender(rangeIndices,scrollTop,blocking),this._chunkedRender(renderID,resolve)):(renderID=this._startRender(rangeIndices,scrollTop,blocking),blocking?this._loadRows(rangeIndices).then(function(){this._chunkedRender(renderID,resolve)}.bind(this)):(this._chunkedRender(renderID,resolve),this._debouncedLoadAndStartRender(rangeIndices,scrollTop),this._debouncedRenderScheduled=!0)),this._updateLegend(scrollTop))}.bind(this)).catch(function(reason){reason&&log.error(reason)})},VirtualizedRows.prototype._updateLegend=function(scrollTop){if(this._retrievedRows){let totalHeight,scrollMeasurePoint,sourceIsFiltered=!1,showScrollProgress=!1,scrollableCount=0,filteredRowCount=0,totalCount=0,scrollProgress=0,completeCountKnown=null!=this._retrievedRows.totalCount;filteredRowCount=totalCount=(scrollableCount=this._retrievedRows.totalCount||this._retrievedRows.runningTotalCount)+this._retrievedRows.hiddenRowCount-this._retrievedRows.sectionCount,this._settings.fixedSource&&(sourceIsFiltered=this._sourceManager.isSearchValueSet()||this._settings.activeColumns.some(function(column){return column.isFiltered()}))&&(totalCount=this._sourceManager.getSourceRows().totalCount),scrollableCount&&(showScrollProgress=(totalHeight=this._getTotalRowHeight())>this._displayHeight)&&(scrollMeasurePoint=scrollTop<=0?0:scrollTop+this._displayHeight>=totalHeight?totalHeight:scrollTop+this._displayHeight/2,scrollProgress=Math.min(100,Math.round(scrollMeasurePoint/totalHeight*100))),this._legend.update({isFiltered:sourceIsFiltered,filteredCount:filteredRowCount,totalCount:totalCount,completeCountKnown:completeCountKnown,showScrollProgress:showScrollProgress,scrollProgress:scrollProgress,scrollBarWidth:this._scrollbarWidth,lastUpdate:this._sourceManager.lastUpdate,refreshable:this._sourceManager.isRefreshable(),autoRefreshable:this._sourceManager.isAutoRefreshable(),autoRefreshOptions:this._sourceManager.getAutoRefreshOptions()})}},VirtualizedRows.prototype._focusRow=function(row){this._settings.rowSelection&&!this._editingRow&&row!==this._focusedRow&&(this._focusedRow&&this._focusedRow.focus(!1),row.focus(!0),this._focusedRow=row)},VirtualizedRows.prototype._clearSelection=function(){this._selectedRows&&this._selectedRows.forEach(function(row){row.select(!1)}),this._selectedRows=new Set,this._lastSelectIndex=null},VirtualizedRows.prototype._selectRow=function(row,select){!this._settings.rowSelection||this._editingRow||row instanceof Section||(row.select(select),select?this._selectedRows.add(row):this._selectedRows.delete(row),this._lastSelectIndex=row.insertedIndex)},VirtualizedRows.prototype._notifySelectionChange=function(originalEvent){var entries,rows,lastSelectedRow;"function"==typeof this._selectionChangeCallback&&(entries=[],rows=[],this._selectedRows.forEach(function(row){entries.push(row.entry),rows.push(row)}),null!=this._lastSelectIndex&&(lastSelectedRow=this._retrievedRows[this._lastSelectIndex]),this._selectionChangeCallback({entries:entries,lastSelectedRow:lastSelectedRow,rows:rows,targetColumnID:this._targetColumnID,targetColumnValuePromise:this._targetColumnValuePromise,targetColumnCell:this._targetColumnCell,originalEvent:originalEvent}))},VirtualizedRows.prototype._mouseMoveRow=function(row){this.isReorderingRow()||this._header.isResizing()||this._header.isReordering()||this._focusRow(row)},VirtualizedRows.prototype._mouseDownRow=function(row,event){var cellElement,offset;!this._settings.reordering||!row.isReorderable()||this.isReorderingRow()||this._header.isResizing()||this._header.isReordering()||(cellElement=this._getCellElementFromEvent(event))&&cellElement.classList.contains("first-cell")&&(offset=dom.getElementOffset(row.render()),this._activeReorderingRow={originalInsertedIndex:row.insertedIndex,row:row,mouseTopOffset:offset.top-event.pageY})},VirtualizedRows.prototype._clickRow=function(row,event){var i,lastIndex,shiftModified=event&&event.shiftKey,controlModified=event&&(event.ctrlKey||event.metaKey);if(this._settings.rowSelection&&!this._editingRow&&!this.hasRowReorderingStarted()){if(controlModified)this._selectRow(row,!this._selectedRows.has(row));else if(shiftModified&&null!=this._lastSelectIndex){if((lastIndex=this._lastSelectIndex)<row.insertedIndex)for(this._clearSelection(),i=lastIndex;i<=row.insertedIndex;i++)this._selectRow(this._retrievedRows[i],!0);else if(lastIndex>row.insertedIndex)for(this._clearSelection(),i=row.insertedIndex;i<=lastIndex;i++)this._selectRow(this._retrievedRows[i],!0);this._lastSelectIndex=lastIndex}else this._clearSelection(),this._selectRow(row,!0);this._updateClickedColumn(row,event),this._notifySelectionChange(event)}},VirtualizedRows.prototype._doubleClickRow=function(row,event){this._settings.rowSelection&&!this._editingRow&&"function"==typeof this._doubleClickRowCallback&&this._doubleClickRowCallback(row,event)},VirtualizedRows.prototype._rowContextMenu=function(row,event){this._editingRow||(this.isReorderingRow()&&this.stopReorderingRow(),this._selectedRows.has(row)?this._lastSelectIndex!==row.insertedIndex&&(this._lastSelectIndex=row.insertedIndex):(this._clearSelection(),this._selectRow(row,!0)),this._updateClickedColumn(row,event),this._notifySelectionChange(event),document.getSelection().removeAllRanges(),"function"==typeof this._rowContextMenuCallback&&this._rowContextMenuCallback(row,event))},VirtualizedRows.prototype._getCellElementFromEvent=function(event){for(var element=event.target;element&&!util.elementMatchesSelector(element,".row-cell");)element=element.parentElement;return element},VirtualizedRows.prototype._updateClickedColumn=function(row,event){var columnID,element=this._getCellElementFromEvent(event);element&&(columnID=element.getAttribute("column-id"),this._targetColumnID=columnID,this._targetColumnValuePromise=Promise.resolve(row.getCellValue(this._settings.columnsMap[columnID])),this._targetColumnCell=element)},VirtualizedRows.prototype._rowReRendered=function(row){if(this._loadedRowOffsets&&(this._calculateOffsetsFromIndex(row.insertedIndex),this._addedRows.forEach(function(addedRow){var offset;addedRow.insertedIndex>row.insertedIndex&&(offset=this._loadedRowOffsets[addedRow.insertedIndex],addedRow.setTopOffset(offset))}.bind(this)),"function"==typeof this._settings.onChunkAdded))try{this._settings.onChunkAdded(this._element)}catch(e){log.error(e)}},VirtualizedRows.prototype._rowDisabled=function(row){this._selectedRows.has(row)&&(this._selectRow(row,!1),this._notifySelectionChange()),this._focusedRow===row&&(row.focus(!1),this._focusedRow=null)},VirtualizedRows.prototype._editRowCell=function(editingRow,column){column.getWidth()<230&&(column.setWidth(230),this._settings.updateColumnHeaderCellPositions(),this.calculateVisibleColumns(),this.updateVisibleRowCells()),this._editingRow=editingRow,this._editingColumn=column,this._selectedRows.has(editingRow)?this._allEditingRows=new Set(this._selectedRows.values()):this._allEditingRows=new Set([editingRow]),this._allEditingRows.add(editingRow),this._focusedRow&&this._focusedRow.focus(!1),this._clearSelection(),this._notifySelectionChange(),this._allEditingRows.forEach(row=>{row!==editingRow&&row instanceof Row&&row.setEditingColumnFromOtherRow(column)}),this._addedRows.forEach(row=>{row!==editingRow&&row instanceof Row&&row.showEditingMask(!0,this._editingRow)}),editingRow.startEditing(column)},VirtualizedRows.prototype._applyRowCellChange=async function(params={}){const afterRowEditingComplete=row=>{row.completeEditing().then(()=>row.deselectAndShowLoadingMask(!1))},undoOperations=async operations=>{let oneUndoFailure=!1;await Promise.all(operations.filter(operation=>operation.wasSuccessful()).map(operation=>{const row=operation.getRow();return row.deselectAndShowLoadingMask(!0),operation.undo().catch(()=>oneUndoFailure=!0).then(()=>{(row=>{row.reRender({clearAllCache:!0}).then(()=>row.deselectAndShowLoadingMask(!1))})(row)})})),oneUndoFailure?this._showUndoFailureMessage():this._showUndoSuccessMessage()},newValue=params.editedValue||this._editingRow.getCellValueSync(this._editingColumn).getEditedValue(),operations=[...this._allEditingRows].filter(row=>row instanceof Row).map(row=>new EditEntryOperation({row:row,column:this._editingColumn,newValue:newValue,source:this._sourceManager.getSourceInstance(),externalUpdate:this._settings.editingNeedsExternalUpdate})),count=operations.length;let successCount=0;(params.validated||await this._editingRow.validateEditingValue())&&(this._editApplying=!0,await Promise.all(operations.map(operation=>{const row=operation.getRow();return row.showEditingMask(!1),row.deselectAndShowLoadingMask(!0),operation.execute().then(()=>{successCount++,afterRowEditingComplete(row)},()=>{afterRowEditingComplete(row)})})),this._addedRows.forEach(row=>{row instanceof Row&&!this._allEditingRows.has(row)&&row.showEditingMask(!1)}),this._editingRow=null,this._editingColumn=null,this._allEditingRows=null,this._editApplying=!1,this._settings.editingNeedsExternalUpdate&&(successCount===count?this._showSaveUndoMessage(()=>undoOperations(operations)):successCount?this._showPartialFailureSaveUndoMessage(()=>undoOperations(operations)):this._showSaveFailedMessage()))},VirtualizedRows.prototype._cancelRowCellChange=function(){this._stopEditing()},VirtualizedRows.prototype._stopEditing=function(){this._editingRow&&!this._editApplying&&(this._allEditingRows.forEach(row=>{row!==this._editingRow&&row instanceof Row&&row.setEditingColumnFromOtherRow(null)}),this._addedRows.forEach(row=>{row!==this._editingRow&&row instanceof Row&&row.showEditingMask(!1)}),this._editingRow.cancelEditing(),this._editingRow=null,this._editingColumn=null,this._allEditingRows=null)},VirtualizedRows.prototype._toggleSection=function(){this.render({keepScrollPosition:!0,recalculateColumnWidths:!0,withoutChunking:!0})},VirtualizedRows.prototype._toggleParentRow=function(){this.render({keepScrollPosition:!0,recalculateColumnWidths:!0,withoutChunking:!0})},VirtualizedRows.prototype._showSectionContextMenu=function(section,pageX,pageY){this._sectionSettingsPopUp||(this._sectionSettingsPopUp=new SectionSettingsPopUp(this._settings,this._sourceManager),this._sectionSettingsPopUp.onCollapseAll(function(){this._sourceManager.collapseAllSections(),this.render({recalculateColumnWidths:!0})}.bind(this)),this._sectionSettingsPopUp.onExpandAll(function(){this._sourceManager.expandAllSections(),this.render({recalculateColumnWidths:!0})}.bind(this)),this._sectionSettingsPopUp.onRenameSequenceGrouping(function(renameSection,value){this.setRowSequenceGroupingValue(renameSection.firstRow,value)}.bind(this)),this._sectionSettingsPopUp.onDeleteSequenceGrouping(function(deleteSection){this.setRowSequenceGroupingValue(deleteSection.firstRow,null)}.bind(this))),this._sectionSettingsPopUp.showForSection(section,pageX,pageY)},VirtualizedRows.prototype._sectionColumnSettings=function(column,event){this._header.showColumnSettingsPopUp(column,event.pageX,event.pageY)},VirtualizedRows.prototype._triggerChunkAddedCallback=function(){"function"==typeof this._settings.onChunkAdded&&this._settings.onChunkAdded(this._element)},VirtualizedRows.prototype._startDragToReorderRows=function(){var rowElement=this._activeReorderingRow.row.render(),tableElement=this._element.parentElement;tableElement.classList.add("rows-reordering"),rowElement.classList.add("reordering-row"),tableElement.appendChild(rowElement),Object.assign(this._activeReorderingRow,{detached:!0,rowElement:rowElement}),this._updateReorderingRowThresholds()},VirtualizedRows.prototype._canSwapReorderingRowWithIndex=function(index,direction){var nextRow,originalIndex=this._activeReorderingRow.originalInsertedIndex,row=this._retrievedRows[index],isSection=row instanceof Section,nextIndex="up"===direction?index-1:index+1,canSwap=!1;return index===originalIndex||!isSection&&row.isReorderable()?canSwap=!0:this._settings.customSequenceGrouping&&isSection&&nextIndex>=0&&nextIndex<this._retrievedRows.lastLoadedIndex&&((nextRow=this._retrievedRows[nextIndex])instanceof Section||!nextRow.isReorderable()||(canSwap=!0)),canSwap},VirtualizedRows.prototype._updateReorderingRowThresholds=function(){var index,topThreshold,bottomThreshold,currentIndex=this._activeReorderingRow.row.insertedIndex;for(index=currentIndex-1;index>=this._retrievedRows.firstLoadedIndex;){if(this._canSwapReorderingRowWithIndex(index,"up")){topThreshold=this._getTopReorderThreshold(index);break}if(!this._settings.customSequenceGrouping)break;index--}for(index=currentIndex+1;index<=this._retrievedRows.lastLoadedIndex;){if(this._canSwapReorderingRowWithIndex(index,"down")){bottomThreshold=this._getBottomReorderThreshold(index);break}if(!this._settings.customSequenceGrouping)break;index++}this._activeReorderingRow.topThreshold=topThreshold,this._activeReorderingRow.bottomThreshold=bottomThreshold},VirtualizedRows.prototype._isIndexSection=function(index){return this._retrievedRows[index]instanceof Section},VirtualizedRows.prototype._getTopReorderThreshold=function(previousIndex){return this._loadedRowOffsets[previousIndex]+.4*this._retrievedRows[previousIndex].getHeight()},VirtualizedRows.prototype._getBottomReorderThreshold=function(nextIndex){return this._loadedRowOffsets[nextIndex]+.6*this._retrievedRows[nextIndex].getHeight()},VirtualizedRows.prototype._swapReorderingRow=function(direction,containerRelativeTop){const currentRow=this._activeReorderingRow.row,currentIndex=currentRow.insertedIndex;let i,newIndex,startIndex,endIndex;if("up"===direction)for(i=currentIndex;i>this._retrievedRows.firstLoadedIndex&&containerRelativeTop<=this._getTopReorderThreshold(i-1);)this._canSwapReorderingRowWithIndex(i-1,"up")&&(newIndex=i-1),i--;else for(i=currentIndex;i<this._retrievedRows.lastLoadedIndex&&containerRelativeTop+currentRow.getHeight()>=this._getBottomReorderThreshold(i+1);)this._canSwapReorderingRowWithIndex(i+1,"down")&&(newIndex=i+1),i++;if(currentIndex<=newIndex)for(startIndex=currentIndex,endIndex=newIndex,i=currentIndex+1;i<=newIndex;i++)this._retrievedRows[i].insertedIndex--,this._retrievedRows[i-1]=this._retrievedRows[i];else for(startIndex=newIndex,endIndex=currentIndex,i=currentIndex;i>newIndex;i--)this._retrievedRows[i]=this._retrievedRows[i-1],this._retrievedRows[i].insertedIndex++;for(this._retrievedRows[newIndex]=currentRow,currentRow.insertedIndex=newIndex,this._calculateOffsetsFromIndex(startIndex,endIndex),i=startIndex;i<=endIndex;i++){const offset=this._loadedRowOffsets[i],row=this._retrievedRows[i];row.render().setAttribute("inserted-index",i),i!==newIndex&&row.setTopOffset(offset)}this._updateReorderingRowThresholds()},VirtualizedRows.prototype._updateRowCount=function(){var previousCount=this._lastRowCount,currentCount=(this._retrievedRows.totalCount||this._retrievedRows.runningTotalCount)+this._retrievedRows.hiddenRowCount-this._retrievedRows.sectionCount;currentCount!==previousCount&&(this._lastRowCount=currentCount,"function"==typeof this._rowCountChangeCallback&&this._rowCountChangeCallback(currentCount))},VirtualizedRows.prototype._showUndoMessage=function(message,level,undoCallback){notify.clearAllForGroup(this._notifyGroupID),notify.post(lang.translate(message),level,1e4,{groupID:this._notifyGroupID,beforeDisplay:function($element){$element[0].querySelector("a").addEventListener("click",event=>{notify.clearAllForGroup(this._notifyGroupID),event.preventDefault(),undoCallback()})}})},VirtualizedRows.prototype._showPartialFailureSaveUndoMessage=function(undoCallback){this._showUndoMessage('Failed to save some changes. <b class="underlined"><a href="#">Undo successful changes</a></b>.',notify.LEVEL.ERROR,undoCallback)},VirtualizedRows.prototype._showSaveUndoMessage=function(undoCallback){this._showUndoMessage('Your changes have been saved. <b class="underlined"><a href="#">Undo</a></b>.',notify.LEVEL.SUCCESS,undoCallback)},VirtualizedRows.prototype._showUndoSuccessMessage=function(){notify.clearAllForGroup(this._notifyGroupID),notify.post(lang.translate("Changes undone"),null,null,{groupID:this._notifyGroupID})},VirtualizedRows.prototype._showUndoFailureMessage=function(){notify.clearAllForGroup(this._notifyGroupID),notify.post(lang.translate("Failed to undo changes"),notify.LEVEL.ERROR,null,{groupID:this._notifyGroupID})},VirtualizedRows.prototype._showSaveSuccessMessage=function(){notify.clearAllForGroup(this._notifyGroupID),notify.post(lang.translate("Your changes have been saved"),notify.LEVEL.SUCCESS,null,{groupID:this._notifyGroupID})},VirtualizedRows.prototype._showSaveFailedMessage=function(){notify.clearAllForGroup(this._notifyGroupID),notify.post(lang.translate("Failed to save changes"),notify.LEVEL.ERROR,null,{groupID:this._notifyGroupID})},module.exports=VirtualizedRows},function(module,exports,__webpack_require__){"use strict";var RowInterface=__webpack_require__(212);function PlaceholderRow(sourceIndex,placeholderRowTemplate){this.id="placeholder-row-"+(sourceIndex+1),this._placeholderRowTemplate=placeholderRowTemplate,this._rendered=null,this._topOffset=null}PlaceholderRow.prototype=Object.create(RowInterface.prototype),PlaceholderRow.prototype.constructor=PlaceholderRow,PlaceholderRow.prototype.render=function(){return this._rendered||(this._rendered=this._placeholderRowTemplate.render()),this._rendered},PlaceholderRow.prototype.setTopOffset=function(offset){const element=this.getRendered();element&&(element.style.top=`${offset}px`),this._topOffset=offset},PlaceholderRow.prototype.getTopOffset=function(){return this._topOffset},PlaceholderRow.prototype.updateCells=function(){},RowInterface.prototype.getRendered=function(){return this._rendered},PlaceholderRow.prototype.getReadyForMeasurePromise=function(){return null},PlaceholderRow.prototype.isAddedToDOM=function(){return!(!this._rendered||!this._rendered.parentElement)},PlaceholderRow.prototype.clearRenderingCache=function(){},module.exports=PlaceholderRow},function(module,exports,__webpack_require__){"use strict";var dom=__webpack_require__(40);function PlaceHolderRowTemplate(settings,averageRowHeight){this._settings=settings,this._averageRowHeight=averageRowHeight,this._template=null}PlaceHolderRowTemplate.prototype.render=function(){var cells;return this._template||(cells=(this._settings.mobileLayout?this._settings.getActiveColumnsInOrder():this._settings.activeColumns).map(function(column){var cellElement=dom.elem("div",{className:"row-cell",style:{padding:this._settings.cellPadding+"px"}},{attributes:{"column-id":column.id},children:[dom.elem("div",{className:"row-cell-content full-width"},{children:[dom.elem("div",{className:"row-inner-cell placeholder"},{children:[dom.elem("div",{className:"placeholder-graphic"})]})]})]});return cellElement.style.height=this._averageRowHeight+"px",this._settings.mobileLayout||(cellElement.style.width=column.getWidth()+"px",cellElement.style.left=column.getLeftOffset()+"px"),column.isFirstVisible()&&cellElement.classList.add("first-cell"),column.isLastVisible()&&cellElement.classList.add("last-cell"),cellElement}.bind(this)),this._template=dom.elem("div",{className:"row placeholder-row"},{children:cells})),this._template.cloneNode(!0)},module.exports=PlaceHolderRowTemplate},function(module,exports,__webpack_require__){"use strict";var PopUp=__webpack_require__(78),dom=__webpack_require__(40),lang=__webpack_require__(47);function SectionSettings(settings,sourceManager){this._settings=settings,this._sourceManager=sourceManager,this._popUp=null,this._currentSection=null,this._collapseAllCallback=null,this._expandAllCallback=null,this._renameSequenceGroupingValueCallback=null,this._deleteSequenceGroupingValueCallback=null,this._create()}SectionSettings.prototype.onCollapseAll=function(callback){this._collapseAllCallback=callback},SectionSettings.prototype.onExpandAll=function(callback){this._expandAllCallback=callback},SectionSettings.prototype.onRenameSequenceGrouping=function(callback){this._renameSequenceGroupingValueCallback=callback},SectionSettings.prototype.onDeleteSequenceGrouping=function(callback){this._deleteSequenceGroupingValueCallback=callback},SectionSettings.prototype.showForSection=function(section,pageX,pageY){var content=dom.elem("div");content.appendChild(PopUp.createMenuButton({lang:"Expand All",icon:"fa-plus",onClick:function(){"function"==typeof this._expandAllCallback&&this._expandAllCallback(),this._popUp.hide()}.bind(this)})),content.appendChild(PopUp.createMenuButton({lang:"Collapse All",icon:"fa-minus",onClick:function(){"function"==typeof this._collapseAllCallback&&this._collapseAllCallback(),this._popUp.hide()}.bind(this)})),this._settings.customSequenceGrouping&&this._addSequenceGroupingItems(section,content),this._popUp.show(content,pageX,pageY)},SectionSettings.prototype.destroy=function(){this._popUp.destroy()},SectionSettings.prototype._addSequenceGroupingItems=function(section,content){var value=section.firstRow.getSequenceGroupingValue();value&&!section.firstRow.isImplicitSequenceGrouping()&&(content.appendChild(dom.elem("div",{className:"separator"})),this._settings.ngInject(["$scope","slide",function($scope,slide){content.appendChild(PopUp.createMenuButton({lang:"Rename Sequence Grouping",icon:"fa-pencil",onClick:function(){var scope=$scope.$new(!0);scope.existing=value,scope.used=this._sourceManager.getAllSectionValues(),slide.open("editSequenceGrouping",{template:'<f-mutable-edit-sequence-grouping existing="::existing" used="::used"></f-mutable-edit-sequence-grouping>',parentScope:scope,options:{title:lang.translate("Rename Sequence Grouping"),fullHeight:!0}}).then(function(newValue){"function"==typeof this._renameSequenceGroupingValueCallback&&this._renameSequenceGroupingValueCallback(section,newValue)}.bind(this)).finally(function(){scope.$destroy()}),this._popUp.hide()}.bind(this)}))}.bind(this)]),content.appendChild(PopUp.createMenuButton({lang:"Delete Sequence Grouping",icon:"fa-trash-o",onClick:function(){"function"==typeof this._deleteSequenceGroupingValueCallback&&this._deleteSequenceGroupingValueCallback(section),this._popUp.hide()}.bind(this)})))},SectionSettings.prototype._create=function(){this._popUp=new PopUp({allowVerticalAdjustment:this._settings.inline,class:"mutable-section-settings"})},module.exports=SectionSettings},function(module,exports,__webpack_require__){"use strict";const Section=__webpack_require__(213),SequenceGroupingOperation=__webpack_require__(388),log=__webpack_require__(45);function MoveRowOperation(params){if(this._settings=params.settings,this._sourceManager=params.sourceManager,this._moveParams=null,this._sequenceGroupingOperations=[],this._attemptedMove=!1,this._moveSuccessful=!1,!params.afterRow&&!params.beforeRow)throw new Error("afterRow or beforeRow must be provided");this._prepare(params.row,params.afterRow,params.beforeRow)}MoveRowOperation.prototype.execute=function(){return Promise.all(this._sequenceGroupingOperations.map(function(operation){return operation.execute()})).then(function(){if(this._moveParams.originalSourceIndex!==this._moveParams.newSourceIndex){const source=this._sourceManager.getSourceInstance();this._attemptedMove=!0,this._sourceManager.moveRow(this._moveParams);try{source.onReorderEntry(this._moveParams)}catch(e){log.error(e)}return this._settings.editingNeedsExternalUpdate?"function"==typeof this._settings.reorderingExternalUpdate?(log.warn('Using deprecated settings function "reorderingExternalUpdate"'),this._settings.reorderingExternalUpdate(this._moveParams).then(()=>{this._moveSuccessful=!0})):source.externallyReorderEntry(this._moveParams).then(()=>{this._moveSuccessful=!0}):(this._moveSuccessful=!0,Promise.resolve())}}.bind(this))},MoveRowOperation.prototype.undo=function(){var reverseParams,undoMove=function(){if(this._attemptedMove&&(reverseParams=this._getReverseParams(),this._sourceManager.moveRow(reverseParams),this._moveSuccessful)){if("function"==typeof this._settings.reorderingExternalUpdate)return log.warn('Using deprecated settings function "reorderingExternalUpdate"'),this._settings.reorderingExternalUpdate(reverseParams);return this._sourceManager.getSourceInstance().externallyReorderEntry(reverseParams)}}.bind(this);return Promise.all(this._sequenceGroupingOperations.map(function(operation){return operation.undo()})).then(undoMove,undoMove)},MoveRowOperation.prototype._getReverseParams=function(){var beforeEntry,afterEntry,originalSourceIndex=this._moveParams.originalSourceIndex,newSourceIndex=this._moveParams.newSourceIndex,sourceRows=this._sourceManager.getSourceRows();return originalSourceIndex<newSourceIndex?beforeEntry=sourceRows[originalSourceIndex].entry:afterEntry=sourceRows[originalSourceIndex].entry,{originalSourceIndex:newSourceIndex,newSourceIndex:originalSourceIndex,entry:sourceRows[newSourceIndex].entry,beforeEntry:beforeEntry,afterEntry:afterEntry}},MoveRowOperation.prototype._prepare=function(row,afterRow,beforeRow){const params={originalSourceIndex:row.sourceIndex,entry:row.entry},rowSequenceGroupingValue=this._settings.customSequenceGrouping&&row.getSequenceGroupingValue(),changeGrouping=(changeRow,label)=>{this._sequenceGroupingOperations.push(new SequenceGroupingOperation(this._sourceManager.getSourceInstance(),changeRow,label))};if(rowSequenceGroupingValue&&row.section.firstRow===row){const sectionRows=this._sourceManager.getRowsWithinSameSequenceGrouping(row.section);sectionRows[0]===row&&sectionRows.length>1&&!sectionRows[1].getSequenceGroupingValue()&&changeGrouping(row.section.rows[1],rowSequenceGroupingValue)}if(afterRow){if(this._settings.customSequenceGrouping)if(afterRow instanceof Section){changeGrouping(row,afterRow.firstRow.getSequenceGroupingValue());const priorSection=this._sourceManager.getSourceRows()[afterRow.firstRow.sourceIndex-1].section,sectionRows=this._sourceManager.getRowsWithinSameSequenceGrouping(priorSection);afterRow=sectionRows[sectionRows.length-1]}else rowSequenceGroupingValue&&row.section!==afterRow.section&&changeGrouping(row,null);afterRow.sourceIndex<row.sourceIndex?params.newSourceIndex=afterRow.sourceIndex+1:params.newSourceIndex=afterRow.sourceIndex,params.afterEntry=afterRow.entry}else this._settings.customSequenceGrouping&&(beforeRow instanceof Section?(beforeRow=beforeRow.firstRow,rowSequenceGroupingValue&&changeGrouping(row,null)):beforeRow.section&&beforeRow.section.firstRow===beforeRow?changeGrouping(row,beforeRow.getSequenceGroupingValue()):rowSequenceGroupingValue&&row.section!==beforeRow.section&&changeGrouping(row,null)),params.newSourceIndex=beforeRow.sourceIndex,params.beforeEntry=beforeRow.entry;this._moveParams=params},module.exports=MoveRowOperation},function(module,exports,__webpack_require__){"use strict";const log=__webpack_require__(45),util=__webpack_require__(39);module.exports=class{constructor(params){this._row=params.row,this._column=params.column,this._newValue=params.newValue,this._source=params.source,this._externalUpdate=params.externalUpdate,this._originalEntry=this._row.entry,this._successful=!1}async execute(){let newEntry=util.cloneObject(this._originalEntry);if(this._source.setNewEntryValue(newEntry,this._row,this._column,this._newValue),this._row.notifyValueEditingStopped(),this._externalUpdate)try{await Promise.resolve(this._source.externallyUpdateEntry(newEntry,this._row,this._column,this._newValue)),newEntry=await Promise.resolve(this._source.processUpdatedEntry(newEntry)),this._row.entry=newEntry,this._successful=!0}catch(error){return log.error(`Failed to update entry: "${error}"`),Promise.reject()}else this._row.entry=newEntry,this._successful=!0}wasSuccessful(){return this._successful}getRow(){return this._row}async undo(){if(this._externalUpdate)try{await Promise.resolve(this._source.externallyUpdateEntry(this._originalEntry)),this._row.entry=this._originalEntry}catch(error){return log.error(`Failed to undo entry update: "${error}"`),Promise.reject()}else this._row.entry=this._originalEntry}}},function(module,exports,__webpack_require__){"use strict";const dom=__webpack_require__(40),dateTime=__webpack_require__(110),lang=__webpack_require__(47),PopUp=__webpack_require__(78);function Legend(){this.element=null,this._tableLoading=!0,this._timeout=null,this._refreshCallback=null,this._legendLocked=!1,this._autoRefreshSupported=!1,this._autoRefreshOptions=null,this._renderedLastUpdate=null,this._autoRefreshPeriod=null,this._autoRefreshInterval=null,this._lastAutoRefresh=null,this._refreshPending=!1,this._create(),this.setVisibility(!1)}Legend.prototype.setVisibility=function(visible){clearTimeout(this._timeout),visible?this._tableLoading||(this.element.classList.remove("legend-invisible"),this._legendLocked||(this._timeout=setTimeout(()=>{this._legendLocked||this.setVisibility(!1)},2e3))):(this.element.classList.add("legend-invisible"),this._timeout=null)},Legend.prototype.update=function(params){if(params.showScrollProgress?(this._progressElement.textContent=params.scrollProgress+"%",this._progressElement.style.display=null):this._progressElement.style.display="none",params.isFiltered)this._countElement.innerHTML="",this._countElement.appendChild(dom.elem("f-icon",{className:"fa-filter filter-icon"})),this._countElement.appendChild(dom.elem("span",{textContent:params.filteredCount.toLocaleString()+"/"+params.totalCount.toLocaleString()}));else{let label=params.totalCount.toLocaleString();params.completeCountKnown||(label+="+"),this._countElement.textContent=label}params.scrollBarWidth?(this.element.classList.add("right-border"),this.element.style.right=params.scrollBarWidth+"px"):(this.element.classList.remove("right-border"),this.element.style.right=null),params.refreshable?(this._renderedLastUpdate!==params.lastUpdate&&(this._lastUpdateElement.textContent=`${lang.translate("Updated")}: `+dateTime.formatTime(params.lastUpdate,{fromBrowser:!0}),this._renderedLastUpdate=params.lastUpdate),this._lastUpdateElement.style.display=null,this._autoRefreshSupported=params.autoRefreshable,this._autoRefreshOptions=params.autoRefreshOptions,this._refreshButton.classList.toggle("auto-refresh",this._autoRefreshSupported),this._refreshButton.classList.toggle("selected",this._autoRefreshSupported&&this._autoRefreshPeriod),this._refreshButton.parentElement||this.element.appendChild(this._refreshButton)):(this._refreshButton.parentElement&&this.element.removeChild(this._refreshButton),this._lastUpdateElement.style.display="none"),this.setVisibility(!0)},Legend.prototype.reset=function(){this._legendLocked=!1,this._stopAutoRefresh()},Legend.prototype.setTableLoading=function(loading){this._tableLoading=loading},Legend.prototype.onRefresh=function(callback){this._refreshCallback=callback},Legend.prototype.destroy=function(){this._popUp&&this._popUp.destroy()},Legend.prototype._create=function(){this._progressElement=dom.elem("span",{className:"legend-scroll-progress"}),this._countElement=dom.elem("span",{className:"legend-count"}),this._lastUpdateElement=dom.elem("span",{className:"legend-last-update"}),this._refreshButton=dom.elem("button",{type:"button",className:"legend-refresh-button"},{events:{click:event=>{this._autoRefreshSupported?this._showAutoRefreshPopUp(event):"function"==typeof this._refreshCallback&&this._refreshCallback()}},children:[dom.elem("f-icon",{className:"fa-refresh"}),dom.elem("span",{className:"caret-down"})]}),this.element=dom.elem("div",{className:"legend-container"},{children:[this._progressElement,this._countElement,this._lastUpdateElement]})},Legend.prototype._startAutoRefresh=function(period){this._stopAutoRefresh(),this._refreshPending=!1,this._autoRefreshPeriod=period,this._autoRefreshInterval=setInterval(()=>{if(!this._refreshPending&&Date.now()-this._lastAutoRefresh>1e3*this._autoRefreshPeriod){let promise=Promise.resolve();"function"==typeof this._refreshCallback&&(promise=this._refreshCallback()),this._refreshPending=!0,promise.then(()=>{this._lastAutoRefresh=Date.now(),this._refreshPending=!1})}},1e3),this._lastAutoRefresh=this._renderedLastUpdate||Date.now(),this._refreshButton.classList.add("selected")},Legend.prototype._stopAutoRefresh=function(){this._autoRefreshPeriod=null,clearInterval(this._autoRefreshInterval),this._refreshButton.classList.remove("selected")},Legend.prototype._showAutoRefreshPopUp=function(event){const content=dom.elem("div");this._popUp||(this._popUp=new PopUp,this._popUp.onShow(()=>this._legendLocked=!0),this._popUp.onHide(()=>{this._legendLocked=!1,this.setVisibility(!0)}));for(const option of[...this._autoRefreshOptions].reverse()){const isNow=null==option.period;content.appendChild(PopUp.createMenuButton({lang:isNow?lang.translate(option.label):lang.translate("Every {0}",[lang.translate(option.label)]),icon:isNow?"fa-refresh":"fa-clock-o",buttonClass:isNow||option.period!==this._autoRefreshPeriod?null:"selected",onClick:()=>{isNow?(this._stopAutoRefresh(),"function"==typeof this._refreshCallback&&this._refreshCallback()):this._startAutoRefresh(option.period),this._popUp.hide()}}))}this._popUp.show(content,event.pageX,event.pageY)},module.exports=Legend},function(module,exports,__webpack_require__){"use strict";const Table=__webpack_require__(374),Settings=__webpack_require__(382),Row=__webpack_require__(211),tableUtil=__webpack_require__(109),util=__webpack_require__(39),dom=__webpack_require__(40),log=__webpack_require__(45);class EntryFormatter{constructor(params){if(!params.columns)throw new Error("Columns not provided");if(this._settings=new Settings({columns:params.columns,collectionLimit:params.collectionLimit,showCompareBars:!!params.entries},!1,Table),this._entryRowMap=new Map,this._nextRowID=0,this.initialized=!0,this.initializationPromise=Promise.resolve(),params.entries){const promises=[];for(let entry of params.entries){const promise=this._getRowForEntry(entry).initialize();util.objectIsThenable(promise)&&promises.push(promise)}promises.length&&(this.initialized=!1,this.initializationPromise=Promise.all(promises))}}static formatEntry(params={}){const REQUIRED_PARAMS=["entry","column"];for(let param of REQUIRED_PARAMS)if(!params[param])throw new Error(`Missing required parameter "${param}"`);return new EntryFormatter({columns:[params.column],collectionLimit:params.collectionLimit}).formatEntry({entry:params.entry,columnID:params.column.id})}static getEntryValue(params={}){const REQUIRED_PARAMS=["entry","column"];for(let param of REQUIRED_PARAMS)if(!params[param])throw new Error(`Missing required parameter "${param}"`);return new EntryFormatter({columns:[params.column],collectionLimit:params.collectionLimit}).getEntryValue({entry:params.entry,columnID:params.column.id})}formatEntry(params){const REQUIRED_PARAMS=["entry","columnID"];for(let param of REQUIRED_PARAMS)if(!params[param])throw new Error(`Missing required parameter "${param}"`);if(!this.initialized)throw new Error("Formatter has not completed initialization");const row=this._getRowForEntry(params.entry),column=this._settings.columnsMap[params.columnID];if(!column)throw new Error(`Unknown column ID "${params.columnID}"`);const result=dom.elem("div",{className:"mutable-cell-formatted"}),cellValue=row.getCellValue(column);return util.objectIsThenable(cellValue)?(result.appendChild(dom.elem("f-icon",{className:"fa-loading"})),cellValue.then(resolveCellValue=>{this._setFormattedCellContent(row,column,resolveCellValue,result,params.withoutEventListeners)})):this._setFormattedCellContent(row,column,cellValue,result,params.withoutEventListeners),result}getEntryValue(params){const REQUIRED_PARAMS=["entry","columnID"];for(let param of REQUIRED_PARAMS)if(!params[param])throw new Error(`Missing required parameter "${param}"`);const row=this._getRowForEntry(params.entry),column=this._settings.columnsMap[params.columnID];if(!column)throw new Error(`Unknown column ID "${params.columnID}"`);const value=row.getCellValue(column);return util.objectIsThenable(value)?value.then(resolvedValue=>resolvedValue.getValue()):value.getValue()}_getRowForEntry(entry){let row=this._entryRowMap.get(entry);return row||(row=new Row(this._nextRowID++,entry,this._settings),this._entryRowMap.set(entry,row)),row}_setFormattedCellContent(row,column,cellValue,cellElement,withoutEventListeners){const formatted=withoutEventListeners?cellValue.format():cellValue.formatForTable();util.objectIsThenable(formatted)?(cellElement.childElementCount||cellElement.appendChild(dom.elem("f-icon",{className:"fa-loading"})),formatted.then(resolvedFormatted=>{cellElement.innerHTML="",tableUtil.setCellElementContent(cellElement,resolvedFormatted,{allowHTML:column.trustCellFormatterForHTML}),withoutEventListeners||this._attachListeners(row,column,cellValue,cellElement)})):(cellElement.innerHTML="",tableUtil.setCellElementContent(cellElement,formatted,{allowHTML:column.trustCellFormatterForHTML}),withoutEventListeners||this._attachListeners(row,column,cellValue,cellElement))}_attachListeners(row,column,cellValue,cellElement){if("function"==typeof column.onCellRendered)try{column.onCellRendered.call(row,cellElement,row.entry,column,cellValue.getValue())}catch(e){log.error(e)}}}module.exports=EntryFormatter},function(module,exports,__webpack_require__){"use strict";module.exports=SetSequence;var Sequencer=__webpack_require__(390);function SetSequence(iterable){var set=new Set(iterable);return Object.setPrototypeOf(set,SetSequence.prototype),set}Object.setPrototypeOf(SetSequence,Set),SetSequence.prototype=Object.create(Set.prototype,{constructor:{value:SetSequence}}),Object.assign(SetSequence.prototype,{sequencer:function(){return new Sequencer(this.values())},map:function(){var seq=this.sequencer();return seq.sizeHint=this.size,seq.map.apply(seq,arguments)}})},function(module,exports,__webpack_require__){"use strict";module.exports=MapSequence;var Sequencer=__webpack_require__(390);function MapSequence(iterable){var map=new Map(iterable);return Object.setPrototypeOf(map,MapSequence.prototype),map}function MapSequencer(iterator){iterator instanceof Sequencer&&(iterator=iterator._iterator);var seq=new Sequencer(iterator);return Object.setPrototypeOf(seq,MapSequencer.prototype),seq}MapSequence.Sequencer=MapSequencer,Object.setPrototypeOf(MapSequence,Map),MapSequence.prototype=Object.create(Map.prototype,{constructor:{value:MapSequence}}),Object.assign(MapSequence.prototype,{sequencer:function(){return new Sequencer(this.entries())},mapSequencer:function(){return new MapSequencer(this.entries())},map:function(callback,thisArg){return this.mapSequencer().map(callback,thisArg)},mapToMap:function(callback,thisArg){return this.mapSequencer().mapToMap(callback,thisArg)},filter:function(callback,thisArg){return this.mapSequencer().filter(callback,thisArg)}}),MapSequencer.prototype=Object.create(Sequencer.prototype,{constructor:MapSequencer}),Object.assign(MapSequencer.prototype,{map:function(callback,thisArg){var seq=new Sequencer(this);return seq.sizeHint=this.size,seq.map(function(args){return callback(args[1],args[0],thisArg)},thisArg)},mapToMap:function(callback,thisArg){var seq=new Sequencer(this);return seq.sizeHint=this.size,new MapSequencer(seq.map(function(args){return callback(args[1],args[0],thisArg)},thisArg))},filter:function(callback,thisArg){var seq=new Sequencer(this);return seq.sizeHint=this.size,new MapSequencer(seq.filter(function(args){return callback(args[1],args[0],thisArg)},thisArg))},toMap:function(){return new MapSequence(this._iterator)}})},function(module,exports,__webpack_require__){"use strict";module.exports={green:__webpack_require__(612),neutrino:__webpack_require__(613),blue:__webpack_require__(614),melongene:__webpack_require__(615),mariner:__webpack_require__(616)}},function(module){module.exports={text:"#262626","text-tooltip-hint":"#969696",body:{background:"#fff","light-gray-background":"#f6f6f6","disabled-opacity":.5},link:{text:"#236093",hover:"#12304a"},"link-usage":{normal:{text:"#fff",background:"#008b10"},high:{text:"#fff",background:"#f3bb2d"},critical:{text:"#fff",background:"#d9534f"}},header:{text:"#fff",icon:"#fff",background:"#008b10",border:"#c8c8c8",alert:{background:"#fff",text:"#dc291e"},button:{text:"rgba(255,255,255,0.8)",icon:"rgba(255,255,255,0.8)","hover-background":"#00b014"},error:{"svg-color":"rgba(220,41,30,0.1)"},hostname:{text:"rgba(255,255,255,0.8)"},"platform-state":{text:"rgba(255,255,255,0.8)"},"ftnt-grid":{background:"transparent",color:"#fff"}},mark:{background:"#ff0"},nav:{background:"#fff",text:"#262626",icon:"#262626","menu-item-icon-opacity":.5,"item-hover-background":"#e6e6e6",border:"#c8c8c8","inner-border":"#c8c8c8","selected-item":{text:"#fff",icon:"#fff",background:"#008b10"},expanded:{text:"#008b10",icon:"#008b10",background:"#f6f6f6","left-border":"#008b10",border:"#c8c8c8"},"vdom-selection":{icon:"#262626",text:"#262626",background:"#fff",border:"#a9a9a9"},"new-icon":"#008b10",search:{background:"#f6f6f6",border:"#c8c8c8"}},"compare-bar":{separator:"#000"},"progress-bar":{background:{bar:"#f6f6f6",value:"#008b10"},text:"#fff","text-shadow":"#008b10",severity:{"text-shadow":"#262626"}},"discrete-level-bar":{border:"#c8c8c8",background:{bar:"#fff","inactive-cell":"#c8c8c8"}},"progress-tracker":{text:"#fff",background:"#969696",number:{text:"#969696",background:"#fff"},current:{text:"#fff",background:"#008b10",number:{text:"#262626",background:"#fff"}},done:{text:"#fff",background:"#778694",number:{text:"#778694",background:"#fff"}}},"resource-bar":{background:{bar:"#f6f6f6","bar-gradient":"0% rgba(230,243,231,1), 80% rgba(254,247,237,1), 100% rgba(252,234,233,1)",value:{min:"#008b10",mid:"#f0ad4e",max:"#dc291e"}}},"signal-strength-bar":{background:{bar:"#f6f6f6","bar-gradient":"0% rgba(252,234,233,1), 40% rgba(254,247,237,1), 100% rgba(230,243,231,1)",value:{min:"#dc291e",mid:"#f0ad4e",max:"#008b10"}}},title:{weight:"normal",text:"#262626",background:"#e6e6e6"},"section-title":{weight:"bold",text:"#262626",background:"#fff"},dialog:{"section-title-highlight":"#f6f6f6","footer-background":"#f6f6f6",card:{background:"#fff",gutter:{background:"#f6f6f6","detail-title-opacity":.6},"box-shadow":"rgba(0,0,0,0.3)","title-footer-shadow":"rgba(0,0,0,0.5)"}},prompt:{background:"#fff","mask-background":"rgba(170,170,170,0.7)",header:{background:"#008b10",text:"#fff"},content:{background:"#f6f6f6",border:"#c8c8c8","border-masking":"#969696"},list:{icon:"#008b10"}},dashboard:{background:"#f6f6f6","mask-background":"rgba(170,170,170,0.3)","hover-mask-background":"rgba(0,0,0,0.4)",widget:{"title-opacity":.6,"disabled-opacity":.4,"information-opacity":.9,background:"#fff",border:"#c8c8c8","hover-border":"#646464","pinned-border":"#646464",critical:{"header-background":"#d9534f","widget-background":"rgba(251,238,237,1)"},high:{"header-background":"#e28722","widget-background":"rgba(252,243,233,1)"}},"block-resizer":{border:"#262626",background:"#f6f6f6","selected-background":"#969696","hover-background":"#008b10"}},messages:{info:{text:"#317a8f",background:"#d9edf7",border:"#bce8f1"},success:{text:"#3c763d",background:"#dff0d8",border:"#d6e9c6"},warning:{text:"#8a6d3b",background:"#fcf8e3",border:"#faebcc"},error:{text:"#a94442",background:"#f2dede",border:"#ebccd1"},notify:{border:"#262626","box-shadow":"rgba(0,0,0,0.3)"}},"percentage-colors":"#008b10","severity-labels":{none:{text:"#fff",background:"#008b10"},low:{text:"#fff",background:"#226093"},"low-light":{text:"#fff",background:"#5bc0de"},medium:{text:"#fff",background:"#f3bb2d"},high:{text:"#fff",background:"#e28722"},critical:{text:"#fff",background:"#d9534f"},icon:"#fff"},"log-severity-labels":{debug:{text:"#fff",background:"#c8c8c8"},information:{text:"#fff",background:"#008b10"},notice:{text:"#fff",background:"#0093ae"},warning:{text:"#fff",background:"#317a8f"},error:{text:"#fff",background:"#226093"},critical:{text:"#fff",background:"#f3bb2d"},alert:{text:"#fff",background:"#e28722"},emergency:{text:"#fff",background:"#d9534f"}},"severity-bar":{"severity-bar-cell":{background:"#c8c8c8"}},menu:{bar:{background:"#fff",border:"#c8c8c8",button:{"text-selected":"#fff","background-selected":"#008b10","icon-selected":"#fff"},search:{icon:"#646464"},separator:{border:"#c8c8c8"},"table-border":"#b4b4b4"},popup:{background:"#fff",border:"#262626","box-shadow":"rgba(0,0,0,0.3)",button:{text:"#262626","disabled-opacity":.4,background:"#fff","background-hover":"#e6e6e6",icon:"#262626","icon-selected":"#fff","text-selected":"#fff","background-selected":"#008b10","background-hover-selected":"#00b014"},separator:{border:"#c8c8c8"},heading:{background:"#778694",text:"#fff"}}},search:{border:"#a9a9a9",input:{background:"#f6f6f6"},results:{background:"#fff"}},table:{border:"#b4b4b4",background:"#fff",th:{text:"#262626",background:"#f6f6f6","filtered-background":"#c4e0c8","inner-border":"#b4b4b4","inner-border-resizing":"#969696","sort-icon":"#b4b4b4","sort-icon-current":"#008b10"},td:{"inner-border":"#e6e6e6","inner-border-resizing":"#969696",background:"#fff","even-background":"#f5f5f5","hover-background":"#f5f5f5","can-drop-background":"#ffa","can-drop-border":"#646464","disabled-opacity":.5,selected:{text:"#262626",background:"#ffa"},error:{background:"#fbb"},implicit:{background:"#d6dadf"},child:{"background-level-1":"#fafafa","background-level-2":"#f6f6f6","background-level-3":"#f2f2f2","background-level-4":"#eee"},section:{text:"#fff",background:"#778694","inner-border":"#778694"},located:{background:"#ffb291"}},footer:{text:"#262626",background:"#f6f6f6","inner-border":"#b4b4b4"},mask:{background:"rgba(170,170,170,0.3)","content-background":"#fff","content-border":"#969696"}},"mutable-chart":{border:"#b4b4b4"},icon:{"amazon-orange":"#f90","azure-blue":"#0071c5",black:"#000",blue:"#236093",brown:"#d2691e","cisco-blue":"#099fd9","csf-connected":"#53a3e0",default:"#262626","device-android":"#a4c649","device-apple":"#787878","device-windows":"#094ab2","ems-green":"#0c7e68","exchange-blue":"#0078d4","gcp-blue":"#4285f4",gray:"#969696",green:"#008b10","ibm-blue":"#1f70c1","kubernetes-blue":"#1b6de1","lime-green":"#00d73c","openstack-red":"#f6203a","oracle-red":"#ff6201",orange:"#ff9500",poe:"#007aff",red:"#dc291e","symantec-yellow":"#f9b939",teal:"#317a8f","vmware-green":"#0c7e68",wait:"#008b10",white:"#fff",yellow:"#f0ad4e"},input:{text:"#262626",border:"#a9a9a9",background:"#fff","focus-ring":"#646464","error-background":"#fbb","error-pristine-background":"#ffe",search:{icon:"#646464","hover-icon":"#464646"},"highlight-background":"#ffb291"},error:{text:"#a94442",background:"#fbb"},button:{text:"#262626",background:"#fff",border:"#ccc","disabled-opacity":.5,"focus-ring":"#646464",primary:{text:"#fff",background:"#008b10",border:"#007d0e"},emphasized:{text:"#008b10",background:"#fff",border:"#008b10"},prompt:{primary:{background:"#008b10",border:"#007d0e"}}},"hero-input":{unchecked:"#646464","unchecked-hover":"#747474",checked:"#008b10","checked-hover":"#00b014",inner:"#ccefd0","inner-hover":"rgba(230,247,232,1)"},toggle:{"focus-ring":"#646464",switch:{off:"#646464",on:"#008b10"},visual:{on:"#646464",off:"#646464"},hover:{background:"#e6e6e6"}},radio:{"focus-ring":"#646464",selected:{text:"#fff",background:"#008b10",border:"#008b10",focus:{border:"#191919",background:"#33a240"},"focus-ring":"#191919"}},tabs:{border:"#c8c8c8","unselected-border":"#fff",text:"#262626","unselected-text":"#236093",background:"#fff","unselected-hover-background":"#e6e6e6"},tooltip:{border:"#646464","box-shadow":"rgba(0,0,0,0.3)"},shadow:{l1:"rgba(0,0,0,0.3)",l2:"rgba(0,0,0,0.5)"},select:{"add-icon":"#646464","hover-add-icon":"#464646","focus-background":"#ffa","can-drop-background":"#ffa","can-drop-border":"#646464","selected-entry":{text:"#262626",background:"transparent","compact-background":"#fff","required-background":"rgba(0,0,0,0.035)","remove-icon":"#646464","hover-remove-icon":"#464646"},search:{icon:"#646464","hover-icon":"#464646"},selection:{background:"#fff",border:"#c8c8c8","processing-text":"#008b10",entry:{background:"#fff",text:"#262626","selected-background":"#ffa","selected-text":"#262626","new-background":"#ffb291",solitary:"#dc291e"},category:{text:"#262626",opacity:.6},subcategory:{text:"#262626",opacity:.6}}},slide:{"mask-background":"rgba(170,170,170,0.7)",background:"#fff",border:"#969696"},chart:{border:"#b4b4b4"},svg:{"group-node":{left:"#fff",right:"#969696"}},avatar:{border:"#969696","box-shadow":"#e6e6e6"},"security-fabric":{connected:"#53a3e0",discovered:"#969696",disconnected:"#dc291e","fabric-connectors":{orange:"#ffa12f",yellow:"#f9b939","red-1":"#ff6201","red-2":"#f6203a","red-3":"#dc291e",green:"#0c7e68","green-2":"#258c06","blue-1":"#0071c5","blue-2":"#4185f4","blue-3":"#3268a5","blue-4":"#099fd9","blue-5":"#1b6de1","blue-6":"#53a3e0","blue-7":"#1f70c1","blue-8":"#0078d4",grey:"#bbb","focus-ring":"#646464"}},"number-bubble":{text:"#fff",background:"#969696",focus:{background:"#ababab"}},scorecards:{"positive-value":"#00530a","negative-value":"#841912",coverage:{background:"#c93d3d",color:"#fff"},posture:{background:"#3276c3",color:"#fff"},optimization:{background:"#36853c",color:"#fff"}}}},function(module){module.exports={text:"#262626","text-tooltip-hint":"#969696",body:{background:"#fff","light-gray-background":"#f6f6f6","disabled-opacity":.5},link:{text:"#236093",hover:"#12304a"},"link-usage":{normal:{text:"#fff",background:"#81bc00"},high:{text:"#fff",background:"#f3bb2d"},critical:{text:"#fff",background:"#d9534f"}},header:{text:"#fff",icon:"#fff",background:"#414f68",border:"#969696",alert:{background:"#fff",text:"#dc291e"},button:{text:"rgba(255,255,255,0.8)",icon:"rgba(255,255,255,0.8)","hover-background":"#4e5f7d"},error:{"svg-color":"rgba(220,41,30,0.1)"},hostname:{text:"rgba(255,255,255,0.8)"},"platform-state":{text:"rgba(255,255,255,0.8)"},"ftnt-grid":{background:"#dc291e",color:"#fff"}},mark:{background:"#ff0"},nav:{background:"#fff",text:"#262626",icon:"#262626","menu-item-icon-opacity":.5,"item-hover-background":"#e6e6e6",border:"#969696","inner-border":"#969696","selected-item":{text:"#fff",icon:"#fff",background:"#414f68"},expanded:{text:"#414f68",icon:"#414f68",background:"#f6f6f6","left-border":"#414f68",border:"#969696"},"vdom-selection":{icon:"#262626",text:"#262626",background:"#fff",border:"#a9a9a9"},"new-icon":"#d43527",search:{background:"#f6f6f6",border:"#969696"}},"compare-bar":{separator:"#000"},"progress-bar":{background:{bar:"#f6f6f6",value:"#81bc00"},text:"#fff","text-shadow":"#81bc00",severity:{"text-shadow":"#262626"}},"discrete-level-bar":{border:"#969696",background:{bar:"#fff","inactive-cell":"#c8c8c8"}},"progress-tracker":{text:"#fff",background:"#969696",number:{text:"#969696",background:"#fff"},current:{text:"#fff",background:"#414f68",number:{text:"#262626",background:"#fff"}},done:{text:"#fff",background:"#1c1c1c",number:{text:"#1c1c1c",background:"#fff"}}},"resource-bar":{background:{bar:"#f6f6f6","bar-gradient":"0% rgba(242,248,230,1), 80% rgba(254,247,237,1), 100% rgba(252,234,233,1)",value:{min:"#81bc00",mid:"#f0ad4e",max:"#dc291e"}}},"signal-strength-bar":{background:{bar:"#f6f6f6","bar-gradient":"0% rgba(252,234,233,1), 40% rgba(254,247,237,1), 100% rgba(242,248,230,1)",value:{min:"#dc291e",mid:"#f0ad4e",max:"#81bc00"}}},title:{weight:"normal",text:"#262626",background:"#e6e6e6"},"section-title":{weight:"bold",text:"#262626",background:"#fff"},dialog:{"section-title-highlight":"#f6f6f6","footer-background":"#f6f6f6",card:{background:"#fff",gutter:{background:"#f6f6f6","detail-title-opacity":.6},"box-shadow":"rgba(0,0,0,0.3)","title-footer-shadow":"rgba(0,0,0,0.5)"}},prompt:{background:"#fff","mask-background":"rgba(170,170,170,0.7)",header:{background:"#414f68",text:"#fff"},content:{background:"#f6f6f6",border:"#969696","border-masking":"#969696"},list:{icon:"#d43527"}},dashboard:{background:"#f6f6f6","mask-background":"rgba(170,170,170,0.3)","hover-mask-background":"rgba(0,0,0,0.4)",widget:{"title-opacity":.6,"disabled-opacity":.4,"information-opacity":.9,background:"#fff",border:"#969696","hover-border":"#646464","pinned-border":"#646464",critical:{"header-background":"#d9534f","widget-background":"rgba(251,238,237,1)"},high:{"header-background":"#e28722","widget-background":"rgba(252,243,233,1)"}},"block-resizer":{border:"#262626",background:"#f6f6f6","selected-background":"#969696","hover-background":"#414f68"}},messages:{info:{text:"#317a8f",background:"#d9edf7",border:"#bce8f1"},success:{text:"#3c763d",background:"#dff0d8",border:"#d6e9c6"},warning:{text:"#8a6d3b",background:"#fcf8e3",border:"#faebcc"},error:{text:"#a94442",background:"#f2dede",border:"#ebccd1"},notify:{border:"#262626","box-shadow":"rgba(0,0,0,0.3)"}},"percentage-colors":"#81bc00","severity-labels":{none:{text:"#fff",background:"#81bc00"},low:{text:"#fff",background:"#226093"},"low-light":{text:"#fff",background:"#5bc0de"},medium:{text:"#fff",background:"#f3bb2d"},high:{text:"#fff",background:"#e28722"},critical:{text:"#fff",background:"#d9534f"},icon:"#fff"},"log-severity-labels":{debug:{text:"#fff",background:"#c8c8c8"},information:{text:"#fff",background:"#81bc00"},notice:{text:"#fff",background:"#0093ae"},warning:{text:"#fff",background:"#317a8f"},error:{text:"#fff",background:"#226093"},critical:{text:"#fff",background:"#f3bb2d"},alert:{text:"#fff",background:"#e28722"},emergency:{text:"#fff",background:"#d9534f"}},"severity-bar":{"severity-bar-cell":{background:"#c8c8c8"}},menu:{bar:{background:"#fff",border:"#969696",button:{"text-selected":"#fff","background-selected":"#414f68","icon-selected":"#fff"},search:{icon:"#646464"},separator:{border:"#969696"},"table-border":"#b4b4b4"},popup:{background:"#fff",border:"#262626","box-shadow":"rgba(0,0,0,0.3)",button:{text:"#262626","disabled-opacity":.4,background:"#fff","background-hover":"#e6e6e6",icon:"#262626","icon-selected":"#fff","text-selected":"#fff","background-selected":"#414f68","background-hover-selected":"#4e5f7d"},separator:{border:"#969696"},heading:{background:"#1c1c1c",text:"#fff"}}},search:{border:"#a9a9a9",input:{background:"#f6f6f6"},results:{background:"#fff"}},table:{border:"#b4b4b4",background:"#fff",th:{text:"#262626",background:"#f6f6f6","filtered-background":"#d1d4d9","inner-border":"#b4b4b4","inner-border-resizing":"#969696","sort-icon":"#b4b4b4","sort-icon-current":"#414f68"},td:{"inner-border":"#e6e6e6","inner-border-resizing":"#969696",background:"#fff","even-background":"#f5f5f5","hover-background":"#f5f5f5","can-drop-background":"#ffa","can-drop-border":"#646464","disabled-opacity":.5,selected:{text:"#262626",background:"#ffa"},error:{background:"#fbb"},implicit:{background:"#d6dadf"},child:{"background-level-1":"#fafafa","background-level-2":"#f6f6f6","background-level-3":"#f2f2f2","background-level-4":"#eee"},section:{text:"#fff",background:"#1c1c1c","inner-border":"#1c1c1c"},located:{background:"#ffb291"}},footer:{text:"#262626",background:"#f6f6f6","inner-border":"#b4b4b4"},mask:{background:"rgba(170,170,170,0.3)","content-background":"#fff","content-border":"#969696"}},"mutable-chart":{border:"#b4b4b4"},icon:{"amazon-orange":"#f90","azure-blue":"#0071c5",black:"#000",blue:"#414f68",brown:"#d2691e","cisco-blue":"#099fd9","csf-connected":"#53a3e0",default:"#262626","device-android":"#a4c649","device-apple":"#787878","device-windows":"#094ab2","ems-green":"#0c7e68","exchange-blue":"#0078d4","gcp-blue":"#4285f4",gray:"#969696",green:"#81bc00","ibm-blue":"#1f70c1","kubernetes-blue":"#1b6de1","lime-green":"#00d73c","openstack-red":"#f6203a","oracle-red":"#ff6201",orange:"#ff9500",poe:"#007aff",red:"#dc291e","symantec-yellow":"#f9b939",teal:"#317a8f","vmware-green":"#0c7e68",wait:"#414f68",white:"#fff",yellow:"#f0ad4e"},input:{text:"#262626",border:"#a9a9a9",background:"#fff","focus-ring":"#646464","error-background":"#fbb","error-pristine-background":"#ffe",search:{icon:"#646464","hover-icon":"#464646"},"highlight-background":"#ffb291"},error:{text:"#a94442",background:"#fbb"},button:{text:"#262626",background:"#fff",border:"#ccc","disabled-opacity":.5,"focus-ring":"#646464",primary:{text:"#fff",background:"#d43527",border:"#bf3023"},emphasized:{text:"#414f68",background:"#fff",border:"#414f68"},prompt:{primary:{background:"#d43527",border:"#bf3023"}}},"hero-input":{unchecked:"#646464","unchecked-hover":"#747474",checked:"#d43527","checked-hover":"#db473a",inner:"#f8dad8","inner-hover":"rgba(251,237,235,1)"},toggle:{"focus-ring":"#646464",switch:{off:"#646464",on:"#d43527"},visual:{on:"#646464",off:"#646464"},hover:{background:"#e6e6e6"}},radio:{"focus-ring":"#646464",selected:{text:"#fff",background:"#414f68",border:"#414f68",focus:{border:"#191919",background:"#677286"},"focus-ring":"#191919"}},tabs:{border:"#969696","unselected-border":"#fff",text:"#262626","unselected-text":"#236093",background:"#fff","unselected-hover-background":"#e6e6e6"},tooltip:{border:"#646464","box-shadow":"rgba(0,0,0,0.3)"},shadow:{l1:"rgba(0,0,0,0.3)",l2:"rgba(0,0,0,0.5)"},select:{"add-icon":"#646464","hover-add-icon":"#464646","focus-background":"#ffa","can-drop-background":"#ffa","can-drop-border":"#646464","selected-entry":{text:"#262626",background:"transparent","compact-background":"#fff","required-background":"rgba(0,0,0,0.035)","remove-icon":"#646464","hover-remove-icon":"#464646"},search:{icon:"#646464","hover-icon":"#464646"},selection:{background:"#fff",border:"#969696","processing-text":"#414f68",entry:{background:"#fff",text:"#262626","selected-background":"#ffa","selected-text":"#262626","new-background":"#ffb291",solitary:"#dc291e"},category:{text:"#262626",opacity:.6},subcategory:{text:"#262626",opacity:.6}}},slide:{"mask-background":"rgba(170,170,170,0.7)",background:"#fff",border:"#969696"},chart:{border:"#b4b4b4"},svg:{"group-node":{left:"#fff",right:"#969696"}},avatar:{border:"#969696","box-shadow":"#e6e6e6"},"security-fabric":{connected:"#53a3e0",discovered:"#969696",disconnected:"#dc291e","fabric-connectors":{orange:"#ffa12f",yellow:"#f9b939","red-1":"#ff6201","red-2":"#f6203a","red-3":"#dc291e",green:"#0c7e68","green-2":"#258c06","blue-1":"#0071c5","blue-2":"#4185f4","blue-3":"#3268a5","blue-4":"#099fd9","blue-5":"#1b6de1","blue-6":"#53a3e0","blue-7":"#1f70c1","blue-8":"#0078d4",grey:"#bbb","focus-ring":"#646464"}},"number-bubble":{text:"#fff",background:"#969696",focus:{background:"#ababab"}},scorecards:{"positive-value":"#4d7100","negative-value":"#841912",coverage:{background:"#c93d3d",color:"#fff"},posture:{background:"#3276c3",color:"#fff"},optimization:{background:"#36853c",color:"#fff"}}}},function(module){module.exports={text:"#262626","text-tooltip-hint":"#969696",body:{background:"#fff","light-gray-background":"#f6f6f6","disabled-opacity":.5},link:{text:"#236093",hover:"#12304a"},"link-usage":{normal:{text:"#fff",background:"#81bc00"},high:{text:"#fff",background:"#f3bb2d"},critical:{text:"#fff",background:"#d9534f"}},header:{text:"#fff",icon:"#fff",background:"#91b0c9",border:"#969696",alert:{background:"#fff",text:"#dc291e"},button:{text:"rgba(255,255,255,0.8)",icon:"rgba(255,255,255,0.8)","hover-background":"#839eb5"},error:{"svg-color":"rgba(220,41,30,0.1)"},hostname:{text:"rgba(255,255,255,0.8)"},"platform-state":{text:"rgba(255,255,255,0.8)"},"ftnt-grid":{background:"#dc291e",color:"#fff"}},mark:{background:"#ff0"},nav:{background:"#fff",text:"#262626",icon:"#262626","menu-item-icon-opacity":.5,"item-hover-background":"#e6e6e6",border:"#969696","inner-border":"#969696","selected-item":{text:"#fff",icon:"#fff",background:"#91b0c9"},expanded:{text:"#91b0c9",icon:"#91b0c9",background:"#f6f6f6","left-border":"#91b0c9",border:"#969696"},"vdom-selection":{icon:"#262626",text:"#262626",background:"#fff",border:"#a9a9a9"},"new-icon":"#3c926f",search:{background:"#f6f6f6",border:"#969696"}},"compare-bar":{separator:"#000"},"progress-bar":{background:{bar:"#f6f6f6",value:"#81bc00"},text:"#fff","text-shadow":"#81bc00",severity:{"text-shadow":"#262626"}},"discrete-level-bar":{border:"#969696",background:{bar:"#fff","inactive-cell":"#c8c8c8"}},"progress-tracker":{text:"#fff",background:"#969696",number:{text:"#969696",background:"#fff"},current:{text:"#fff",background:"#91b0c9",number:{text:"#262626",background:"#fff"}},done:{text:"#fff",background:"#637889",number:{text:"#637889",background:"#fff"}}},"resource-bar":{background:{bar:"#f6f6f6","bar-gradient":"0% rgba(242,248,230,1), 80% rgba(254,247,237,1), 100% rgba(252,234,233,1)",value:{min:"#81bc00",mid:"#f0ad4e",max:"#dc291e"}}},"signal-strength-bar":{background:{bar:"#f6f6f6","bar-gradient":"0% rgba(252,234,233,1), 40% rgba(254,247,237,1), 100% rgba(242,248,230,1)",value:{min:"#dc291e",mid:"#f0ad4e",max:"#81bc00"}}},title:{weight:"normal",text:"#262626",background:"#e6e6e6"},"section-title":{weight:"bold",text:"#262626",background:"#fff"},dialog:{"section-title-highlight":"#f6f6f6","footer-background":"#f6f6f6",card:{background:"#fff",gutter:{background:"#f6f6f6","detail-title-opacity":.6},"box-shadow":"rgba(0,0,0,0.3)","title-footer-shadow":"rgba(0,0,0,0.5)"}},prompt:{background:"#fff","mask-background":"rgba(170,170,170,0.7)",header:{background:"#91b0c9",text:"#fff"},content:{background:"#f6f6f6",border:"#969696","border-masking":"#969696"},list:{icon:"#3c926f"}},dashboard:{background:"#f6f6f6","mask-background":"rgba(170,170,170,0.3)","hover-mask-background":"rgba(0,0,0,0.4)",widget:{"title-opacity":.6,"disabled-opacity":.4,"information-opacity":.9,background:"#fff",border:"#969696","hover-border":"#646464","pinned-border":"#646464",critical:{"header-background":"#d9534f","widget-background":"rgba(251,238,237,1)"},high:{"header-background":"#e28722","widget-background":"rgba(252,243,233,1)"}},"block-resizer":{border:"#262626",background:"#f6f6f6","selected-background":"#969696","hover-background":"#91b0c9"}},messages:{info:{text:"#317a8f",background:"#d9edf7",border:"#bce8f1"},success:{text:"#3c763d",background:"#dff0d8",border:"#d6e9c6"},warning:{text:"#8a6d3b",background:"#fcf8e3",border:"#faebcc"},error:{text:"#a94442",background:"#f2dede",border:"#ebccd1"},notify:{border:"#262626","box-shadow":"rgba(0,0,0,0.3)"}},"percentage-colors":"#81bc00","severity-labels":{none:{text:"#fff",background:"#81bc00"},low:{text:"#fff",background:"#226093"},"low-light":{text:"#fff",background:"#5bc0de"},medium:{text:"#fff",background:"#f3bb2d"},high:{text:"#fff",background:"#e28722"},critical:{text:"#fff",background:"#d9534f"},icon:"#fff"},"log-severity-labels":{debug:{text:"#fff",background:"#c8c8c8"},information:{text:"#fff",background:"#81bc00"},notice:{text:"#fff",background:"#0093ae"},warning:{text:"#fff",background:"#317a8f"},error:{text:"#fff",background:"#226093"},critical:{text:"#fff",background:"#f3bb2d"},alert:{text:"#fff",background:"#e28722"},emergency:{text:"#fff",background:"#d9534f"}},"severity-bar":{"severity-bar-cell":{background:"#c8c8c8"}},menu:{bar:{background:"#fff",border:"#969696",button:{"text-selected":"#fff","background-selected":"#91b0c9","icon-selected":"#fff"},search:{icon:"#646464"},separator:{border:"#969696"},"table-border":"#b4b4b4"},popup:{background:"#fff",border:"#262626","box-shadow":"rgba(0,0,0,0.3)",button:{text:"#262626","disabled-opacity":.4,background:"#fff","background-hover":"#e6e6e6",icon:"#262626","icon-selected":"#fff","text-selected":"#fff","background-selected":"#91b0c9","background-hover-selected":"#839eb5"},separator:{border:"#969696"},heading:{background:"#637889",text:"#fff"}}},search:{border:"#a9a9a9",input:{background:"#f6f6f6"},results:{background:"#fff"}},table:{border:"#b4b4b4",background:"#fff",th:{text:"#262626",background:"#f6f6f6","filtered-background":"#e1e8ed","inner-border":"#b4b4b4","inner-border-resizing":"#969696","sort-icon":"#b4b4b4","sort-icon-current":"#91b0c9"},td:{"inner-border":"#e6e6e6","inner-border-resizing":"#969696",background:"#fff","even-background":"#f5f5f5","hover-background":"#f5f5f5","can-drop-background":"#ffa","can-drop-border":"#646464","disabled-opacity":.5,selected:{text:"#262626",background:"#ffa"},error:{background:"#fbb"},implicit:{background:"#d6dadf"},child:{"background-level-1":"#fafafa","background-level-2":"#f6f6f6","background-level-3":"#f2f2f2","background-level-4":"#eee"},section:{text:"#fff",background:"#637889","inner-border":"#637889"},located:{background:"#ffb291"}},footer:{text:"#262626",background:"#f6f6f6","inner-border":"#b4b4b4"},mask:{background:"rgba(170,170,170,0.3)","content-background":"#fff","content-border":"#969696"}},"mutable-chart":{border:"#b4b4b4"},icon:{"amazon-orange":"#f90","azure-blue":"#0071c5",black:"#000",blue:"#91b0c9",brown:"#d2691e","cisco-blue":"#099fd9","csf-connected":"#53a3e0",default:"#262626","device-android":"#a4c649","device-apple":"#787878","device-windows":"#094ab2","ems-green":"#0c7e68","exchange-blue":"#0078d4","gcp-blue":"#4285f4",gray:"#969696",green:"#81bc00","ibm-blue":"#1f70c1","kubernetes-blue":"#1b6de1","lime-green":"#00d73c","openstack-red":"#f6203a","oracle-red":"#ff6201",orange:"#ff9500",poe:"#007aff",red:"#dc291e","symantec-yellow":"#f9b939",teal:"#317a8f","vmware-green":"#0c7e68",wait:"#91b0c9",white:"#fff",yellow:"#f0ad4e"},input:{text:"#262626",border:"#a9a9a9",background:"#fff","focus-ring":"#646464","error-background":"#fbb","error-pristine-background":"#ffe",search:{icon:"#646464","hover-icon":"#464646"},"highlight-background":"#ffb291"},error:{text:"#a94442",background:"#fbb"},button:{text:"#262626",background:"#fff",border:"#ccc","disabled-opacity":.5,"focus-ring":"#646464",primary:{text:"#fff",background:"#3c926f",border:"#368364"},emphasized:{text:"#3c926f",background:"#fff",border:"#3c926f"},prompt:{primary:{background:"#3c926f",border:"#368364"}}},"hero-input":{unchecked:"#646464","unchecked-hover":"#747474",checked:"#3c926f","checked-hover":"#45a87f",inner:"#daeee5","inner-hover":"rgba(236,246,242,1)"},toggle:{"focus-ring":"#646464",switch:{off:"#646464",on:"#3c926f"},visual:{on:"#646464",off:"#646464"},hover:{background:"#e6e6e6"}},radio:{"focus-ring":"#646464",selected:{text:"#fff",background:"#91b0c9",border:"#91b0c9",focus:{border:"#191919",background:"#a7c0d4"},"focus-ring":"#191919"}},tabs:{border:"#969696","unselected-border":"#fff",text:"#262626","unselected-text":"#236093",background:"#fff","unselected-hover-background":"#e6e6e6"},tooltip:{border:"#646464","box-shadow":"rgba(0,0,0,0.3)"},shadow:{l1:"rgba(0,0,0,0.3)",l2:"rgba(0,0,0,0.5)"},select:{"add-icon":"#646464","hover-add-icon":"#464646","focus-background":"#ffa","can-drop-background":"#ffa","can-drop-border":"#646464","selected-entry":{text:"#262626",background:"transparent","compact-background":"#fff","required-background":"rgba(0,0,0,0.035)","remove-icon":"#646464","hover-remove-icon":"#464646"},search:{icon:"#646464","hover-icon":"#464646"},selection:{background:"#fff",border:"#969696","processing-text":"#91b0c9",entry:{background:"#fff",text:"#262626","selected-background":"#ffa","selected-text":"#262626","new-background":"#ffb291",solitary:"#dc291e"},category:{text:"#262626",opacity:.6},subcategory:{text:"#262626",opacity:.6}}},slide:{"mask-background":"rgba(170,170,170,0.7)",background:"#fff",border:"#969696"},chart:{border:"#b4b4b4"},svg:{"group-node":{left:"#fff",right:"#969696"}},avatar:{border:"#969696","box-shadow":"#e6e6e6"},"security-fabric":{connected:"#53a3e0",discovered:"#969696",disconnected:"#dc291e","fabric-connectors":{orange:"#ffa12f",yellow:"#f9b939","red-1":"#ff6201","red-2":"#f6203a","red-3":"#dc291e",green:"#0c7e68","green-2":"#258c06","blue-1":"#0071c5","blue-2":"#4185f4","blue-3":"#3268a5","blue-4":"#099fd9","blue-5":"#1b6de1","blue-6":"#53a3e0","blue-7":"#1f70c1","blue-8":"#0078d4",grey:"#bbb","focus-ring":"#646464"}},"number-bubble":{text:"#fff",background:"#969696",focus:{background:"#ababab"}},scorecards:{"positive-value":"#4d7100","negative-value":"#841912",coverage:{background:"#c93d3d",color:"#fff"},posture:{background:"#3276c3",color:"#fff"},optimization:{background:"#36853c",color:"#fff"}}}},function(module){module.exports={text:"#262626","text-tooltip-hint":"#969696",body:{background:"#fff","light-gray-background":"#f6f6f6","disabled-opacity":.5},link:{text:"#236093",hover:"#12304a"},"link-usage":{normal:{text:"#fff",background:"#008b10"},high:{text:"#fff",background:"#f3bb2d"},critical:{text:"#fff",background:"#d9534f"}},header:{text:"#fff",icon:"#fff",background:"#555248",border:!1,alert:{background:"#fff",text:"#dc291e"},button:{text:"rgba(255,255,255,0.8)",icon:"rgba(255,255,255,0.8)","hover-background":"#686458"},error:{"svg-color":"rgba(220,41,30,0.2)"},hostname:{text:"rgba(255,255,255,0.8)"},"platform-state":{text:"rgba(255,255,255,0.8)"},"ftnt-grid":{background:"#dc291e",color:"#fff"}},mark:{background:"#ff0"},nav:{background:"#3c2a3b",text:"#9e959d",icon:"#507b77","menu-item-icon-opacity":.7,"item-hover-background":"#543b53",border:"#3c2a3b","inner-border":"#635562","selected-item":{text:"#fff",icon:"#fff",background:"#507b77"},expanded:{text:"#fff",icon:"#fff",background:"#261c25","left-border":"#261c25",border:"#635562"},"vdom-selection":{icon:"#9e959d",text:"#9e959d",background:"#3c2a3b",border:"#a9a9a9"},"new-icon":"#649452",search:{background:"#f6f6f6",border:"#635562"}},"compare-bar":{separator:"#000"},"progress-bar":{background:{bar:"#f6f6f6",value:"#008b10"},text:"#fff","text-shadow":"#008b10",severity:{"text-shadow":"#262626"}},"discrete-level-bar":{border:"#c8c8c8",background:{bar:"#fff","inactive-cell":"#c8c8c8"}},"progress-tracker":{text:"#c8c8c8",background:"#9e959d",number:{text:"#969696",background:"#c8c8c8"},current:{text:"#fff",background:"#507b77",number:{text:"#262626",background:"#fff"}},done:{text:"#fff",background:"#3c2a3b",number:{text:"#3c2a3b",background:"#fff"}}},"resource-bar":{background:{bar:"#f6f6f6","bar-gradient":"0% rgba(230,243,231,1), 80% rgba(254,247,237,1), 100% rgba(252,234,233,1)",value:{min:"#008b10",mid:"#f0ad4e",max:"#dc291e"}}},"signal-strength-bar":{background:{bar:"#f6f6f6","bar-gradient":"0% rgba(252,234,233,1), 40% rgba(254,247,237,1), 100% rgba(230,243,231,1)",value:{min:"#dc291e",mid:"#f0ad4e",max:"#008b10"}}},title:{weight:"normal",text:"#fff",background:"#507b77"},"section-title":{weight:"bold",text:"#262626",background:"#fff"},dialog:{"section-title-highlight":"#f6f6f6","footer-background":"#f6f6f6",card:{background:"#fff",gutter:{background:"#f6f6f6","detail-title-opacity":.6},"box-shadow":"rgba(0,0,0,0.3)","title-footer-shadow":"rgba(0,0,0,0.5)"}},prompt:{background:"#fff","mask-background":"rgba(170,170,170,0.7)",header:{background:"#555248",text:"#fff"},content:{background:"#f6f6f6",border:"#c8c8c8","border-masking":"#969696"},list:{icon:"#649452"}},dashboard:{background:"#f6f6f6","mask-background":"rgba(170,170,170,0.3)","hover-mask-background":"rgba(0,0,0,0.4)",widget:{"title-opacity":.6,"disabled-opacity":.4,"information-opacity":.9,background:"#fff",border:"#c8c8c8","hover-border":"#646464","pinned-border":"#646464",critical:{"header-background":"#d9534f","widget-background":"rgba(251,238,237,1)"},high:{"header-background":"#e28722","widget-background":"rgba(252,243,233,1)"}},"block-resizer":{border:"#262626",background:"#f6f6f6","selected-background":"#969696","hover-background":"#507b77"}},messages:{info:{text:"#317a8f",background:"#d9edf7",border:"#bce8f1"},success:{text:"#3c763d",background:"#dff0d8",border:"#d6e9c6"},warning:{text:"#8a6d3b",background:"#fcf8e3",border:"#faebcc"},error:{text:"#a94442",background:"#f2dede",border:"#ebccd1"},notify:{border:"#262626","box-shadow":"rgba(0,0,0,0.3)"}},"percentage-colors":"#008b10","severity-labels":{none:{text:"#fff",background:"#008b10"},low:{text:"#fff",background:"#226093"},"low-light":{text:"#fff",background:"#5bc0de"},medium:{text:"#fff",background:"#f3bb2d"},high:{text:"#fff",background:"#e28722"},critical:{text:"#fff",background:"#d9534f"},icon:"#fff"},"log-severity-labels":{debug:{text:"#fff",background:"#c8c8c8"},information:{text:"#fff",background:"#008b10"},notice:{text:"#fff",background:"#0093ae"},warning:{text:"#fff",background:"#317a8f"},error:{text:"#fff",background:"#226093"},critical:{text:"#fff",background:"#f3bb2d"},alert:{text:"#fff",background:"#e28722"},emergency:{text:"#fff",background:"#d9534f"}},"severity-bar":{"severity-bar-cell":{background:"#c8c8c8"}},menu:{bar:{background:"#fff",border:"#c8c8c8",button:{"text-selected":"#fff","background-selected":"#507b77","icon-selected":"#fff"},search:{icon:"#646464"},separator:{border:"#c8c8c8"},"table-border":"#b4b4b4"},popup:{background:"#fff",border:"#262626","box-shadow":"rgba(0,0,0,0.3)",button:{text:"#262626","disabled-opacity":.4,background:"#fff","background-hover":"#e6e6e6",icon:"#262626","icon-selected":"#fff","text-selected":"#fff","background-selected":"#507b77","background-hover-selected":"#5c8e89"},separator:{border:"#c8c8c8"},heading:{background:"#3c2a3b",text:"#fff"}}},search:{border:"#a9a9a9",input:{background:"#f6f6f6"},results:{background:"#fff"}},table:{border:"#b4b4b4",background:"#fff",th:{text:"#262626",background:"#f6f6f6","filtered-background":"#d4dddc","inner-border":"#b4b4b4","inner-border-resizing":"#969696","sort-icon":"#b4b4b4","sort-icon-current":"#507b77"},td:{"inner-border":"#e6e6e6","inner-border-resizing":"#969696",background:"#fff","even-background":"#f5f5f5","hover-background":"#f5f5f5","can-drop-background":"#ffa","can-drop-border":"#646464","disabled-opacity":.5,selected:{text:"#262626",background:"#ffa"},error:{background:"#fbb"},implicit:{background:"#d6dadf"},child:{"background-level-1":"#fafafa","background-level-2":"#f6f6f6","background-level-3":"#f2f2f2","background-level-4":"#eee"},section:{text:"#fff",background:"#507b77","inner-border":"#507b77"},located:{background:"#ffb291"}},footer:{text:"#262626",background:"#f6f6f6","inner-border":"#b4b4b4"},mask:{background:"rgba(170,170,170,0.3)","content-background":"#fff","content-border":"#969696"}},"mutable-chart":{border:"#b4b4b4"},icon:{"amazon-orange":"#f90","azure-blue":"#0071c5",black:"#000",blue:"#236093",brown:"#d2691e","cisco-blue":"#099fd9","csf-connected":"#53a3e0",default:"#262626","device-android":"#a4c649","device-apple":"#787878","device-windows":"#094ab2","ems-green":"#0c7e68","exchange-blue":"#0078d4","gcp-blue":"#4285f4",gray:"#969696",green:"#008b10","ibm-blue":"#1f70c1","kubernetes-blue":"#1b6de1","lime-green":"#00d73c","openstack-red":"#f6203a","oracle-red":"#ff6201",orange:"#ff9500",poe:"#007aff",red:"#dc291e","symantec-yellow":"#f9b939",teal:"#317a8f","vmware-green":"#0c7e68",wait:"#008b10",white:"#fff",yellow:"#f0ad4e"},input:{text:"#262626",border:"#a9a9a9",background:"#fff","focus-ring":"#646464","error-background":"#fbb","error-pristine-background":"#ffe",search:{icon:"#646464","hover-icon":"#555248"},"highlight-background":"#ffb291"},error:{text:"#a94442",background:"#fbb"},button:{text:"#262626",background:"#fff",border:"#ccc","disabled-opacity":.5,"focus-ring":"#646464",primary:{text:"#fff",background:"#649452",border:"#5a854a"},emphasized:{text:"#507b77",background:"#fff",border:"#507b77"},prompt:{primary:{background:"#649452",border:"#5a854a"}}},"hero-input":{unchecked:"#646464","unchecked-hover":"#747474",checked:"#008b10","checked-hover":"#00b014",inner:"#ccefd0","inner-hover":"rgba(230,247,232,1)"},toggle:{"focus-ring":"#646464",switch:{off:"#646464",on:"#008b10"},visual:{on:"#646464",off:"#646464"},hover:{background:"#e6e6e6"}},radio:{"focus-ring":"#646464",selected:{text:"#fff",background:"#507b77",border:"#507b77",focus:{border:"#191919",background:"#739592"},"focus-ring":"#191919"}},tabs:{border:"#c8c8c8","unselected-border":"#fff",text:"#262626","unselected-text":"#236093",background:"#fff","unselected-hover-background":"#e6e6e6"},tooltip:{border:"#646464","box-shadow":"rgba(0,0,0,0.3)"},shadow:{l1:"rgba(0,0,0,0.3)",l2:"rgba(0,0,0,0.5)"},select:{"add-icon":"#646464","hover-add-icon":"#555248","focus-background":"#ffa","can-drop-background":"#ffa","can-drop-border":"#646464","selected-entry":{text:"#262626",background:"transparent","compact-background":"#fff","required-background":"rgba(0,0,0,0.035)","remove-icon":"#646464","hover-remove-icon":"#555248"},search:{icon:"#646464","hover-icon":"#555248"},selection:{background:"#fff",border:"#c8c8c8","processing-text":"#008b10",entry:{background:"#fff",text:"#262626","selected-background":"#ffa","selected-text":"#262626","new-background":"#ffb291",solitary:"#dc291e"},category:{text:"#262626",opacity:.6},subcategory:{text:"#262626",opacity:.6}}},slide:{"mask-background":"rgba(170,170,170,0.7)",background:"#fff",border:"#969696"},chart:{border:"#b4b4b4"},svg:{"group-node":{left:"#fff",right:"#969696"}},avatar:{border:"#969696","box-shadow":"#e6e6e6"},"security-fabric":{connected:"#53a3e0",discovered:"#969696",disconnected:"#dc291e","fabric-connectors":{orange:"#ffa12f",yellow:"#f9b939","red-1":"#ff6201","red-2":"#f6203a","red-3":"#dc291e",green:"#0c7e68","green-2":"#258c06","blue-1":"#0071c5","blue-2":"#4185f4","blue-3":"#3268a5","blue-4":"#099fd9","blue-5":"#1b6de1","blue-6":"#53a3e0","blue-7":"#1f70c1","blue-8":"#0078d4",grey:"#bbb","focus-ring":"#646464"}},"number-bubble":{text:"#fff",background:"#969696",focus:{background:"#ababab"}},scorecards:{"positive-value":"#00530a","negative-value":"#841912",coverage:{background:"#c93d3d",color:"#fff"},posture:{background:"#3276c3",color:"#fff"},optimization:{background:"#36853c",color:"#fff"}}}},function(module){module.exports={text:"#262626","text-tooltip-hint":"#969696",body:{background:"#fff","light-gray-background":"#f6f6f6","disabled-opacity":.5},link:{text:"#236093",hover:"#12304a"},"link-usage":{normal:{text:"#fff",background:"#81bc00"},high:{text:"#fff",background:"#f3bb2d"},critical:{text:"#fff",background:"#d9534f"}},header:{text:"#fff",icon:"#fff",background:"#2b76b9",border:"#969696",alert:{background:"#fff",text:"#dc291e"},button:{text:"rgba(255,255,255,0.8)",icon:"rgba(255,255,255,0.8)","hover-background":"#3185cf"},error:{"svg-color":"rgba(220,41,30,0.1)"},hostname:{text:"rgba(255,255,255,0.8)"},"platform-state":{text:"rgba(255,255,255,0.8)"},"ftnt-grid":{background:"#dc291e",color:"#fff"}},mark:{background:"#ff0"},nav:{background:"#fff",text:"#262626",icon:"#262626","menu-item-icon-opacity":.5,"item-hover-background":"#e6e6e6",border:"#969696","inner-border":"#969696","selected-item":{text:"#fff",icon:"#fff",background:"#2b76b9"},expanded:{text:"#2b76b9",icon:"#2b76b9",background:"#f6f6f6","left-border":"#2b76b9",border:"#969696"},"vdom-selection":{icon:"#262626",text:"#262626",background:"#fff",border:"#a9a9a9"},"new-icon":"#1ebd9c",search:{background:"#f6f6f6",border:"#969696"}},"compare-bar":{separator:"#000"},"progress-bar":{background:{bar:"#f6f6f6",value:"#81bc00"},text:"#fff","text-shadow":"#81bc00",severity:{"text-shadow":"#262626"}},"discrete-level-bar":{border:"#969696",background:{bar:"#fff","inactive-cell":"#c8c8c8"}},"progress-tracker":{text:"#fff",background:"#969696",number:{text:"#969696",background:"#fff"},current:{text:"#fff",background:"#2b76b9",number:{text:"#262626",background:"#fff"}},done:{text:"#fff",background:"#5badfb",number:{text:"#5badfb",background:"#fff"}}},"resource-bar":{background:{bar:"#f6f6f6","bar-gradient":"0% rgba(242,248,230,1), 80% rgba(254,247,237,1), 100% rgba(252,234,233,1)",value:{min:"#81bc00",mid:"#f0ad4e",max:"#dc291e"}}},"signal-strength-bar":{background:{bar:"#f6f6f6","bar-gradient":"0% rgba(252,234,233,1), 40% rgba(254,247,237,1), 100% rgba(242,248,230,1)",value:{min:"#dc291e",mid:"#f0ad4e",max:"#81bc00"}}},title:{weight:"normal",text:"#262626",background:"#e6e6e6"},"section-title":{weight:"bold",text:"#262626",background:"#fff"},dialog:{"section-title-highlight":"#f6f6f6","footer-background":"#f6f6f6",card:{background:"#fff",gutter:{background:"#f6f6f6","detail-title-opacity":.6},"box-shadow":"rgba(0,0,0,0.3)","title-footer-shadow":"rgba(0,0,0,0.5)"}},prompt:{background:"#fff","mask-background":"rgba(170,170,170,0.7)",header:{background:"#2b76b9",text:"#fff"},content:{background:"#f6f6f6",border:"#969696","border-masking":"#969696"},list:{icon:"#1ebd9c"}},dashboard:{background:"#f6f6f6","mask-background":"rgba(170,170,170,0.3)","hover-mask-background":"rgba(0,0,0,0.4)",widget:{"title-opacity":.6,"disabled-opacity":.4,"information-opacity":.9,background:"#fff",border:"#969696","hover-border":"#646464","pinned-border":"#646464",critical:{"header-background":"#d9534f","widget-background":"rgba(251,238,237,1)"},high:{"header-background":"#e28722","widget-background":"rgba(252,243,233,1)"}},"block-resizer":{border:"#262626",background:"#f6f6f6","selected-background":"#969696","hover-background":"#2b76b9"}},messages:{info:{text:"#317a8f",background:"#d9edf7",border:"#bce8f1"},success:{text:"#3c763d",background:"#dff0d8",border:"#d6e9c6"},warning:{text:"#8a6d3b",background:"#fcf8e3",border:"#faebcc"},error:{text:"#a94442",background:"#f2dede",border:"#ebccd1"},notify:{border:"#262626","box-shadow":"rgba(0,0,0,0.3)"}},"percentage-colors":"#81bc00","severity-labels":{none:{text:"#fff",background:"#81bc00"},low:{text:"#fff",background:"#226093"},"low-light":{text:"#fff",background:"#5bc0de"},medium:{text:"#fff",background:"#f3bb2d"},high:{text:"#fff",background:"#e28722"},critical:{text:"#fff",background:"#d9534f"},icon:"#fff"},"log-severity-labels":{debug:{text:"#fff",background:"#c8c8c8"},information:{text:"#fff",background:"#81bc00"},notice:{text:"#fff",background:"#0093ae"},warning:{text:"#fff",background:"#317a8f"},error:{text:"#fff",background:"#226093"},critical:{text:"#fff",background:"#f3bb2d"},alert:{text:"#fff",background:"#e28722"},emergency:{text:"#fff",background:"#d9534f"}},"severity-bar":{"severity-bar-cell":{background:"#c8c8c8"}},menu:{bar:{background:"#fff",border:"#969696",button:{"text-selected":"#fff","background-selected":"#2b76b9","icon-selected":"#fff"},search:{icon:"#646464"},separator:{border:"#969696"},"table-border":"#b4b4b4"},popup:{background:"#fff",border:"#262626","box-shadow":"rgba(0,0,0,0.3)",button:{text:"#262626","disabled-opacity":.4,background:"#fff","background-hover":"#e6e6e6",icon:"#262626","icon-selected":"#fff","text-selected":"#fff","background-selected":"#2b76b9","background-hover-selected":"#3185cf"},separator:{border:"#969696"},heading:{background:"#5badfb",text:"#fff"}}},search:{border:"#a9a9a9",input:{background:"#f6f6f6"},results:{background:"#fff"}},table:{border:"#b4b4b4",background:"#fff",th:{text:"#262626",background:"#f6f6f6","filtered-background":"#cddce9","inner-border":"#b4b4b4","inner-border-resizing":"#969696","sort-icon":"#b4b4b4","sort-icon-current":"#2b76b9"},td:{"inner-border":"#e6e6e6","inner-border-resizing":"#969696",background:"#fff","even-background":"#f5f5f5","hover-background":"#f5f5f5","can-drop-background":"#ffa","can-drop-border":"#646464","disabled-opacity":.5,selected:{text:"#262626",background:"#ffa"},error:{background:"#fbb"},implicit:{background:"#d6dadf"},child:{"background-level-1":"#fafafa","background-level-2":"#f6f6f6","background-level-3":"#f2f2f2","background-level-4":"#eee"},section:{text:"#fff",background:"#5badfb","inner-border":"#5badfb"},located:{background:"#ffb291"}},footer:{text:"#262626",background:"#f6f6f6","inner-border":"#b4b4b4"},mask:{background:"rgba(170,170,170,0.3)","content-background":"#fff","content-border":"#969696"}},"mutable-chart":{border:"#b4b4b4"},icon:{"amazon-orange":"#f90","azure-blue":"#0071c5",black:"#000",blue:"#2b76b9",brown:"#d2691e","cisco-blue":"#099fd9","csf-connected":"#53a3e0",default:"#262626","device-android":"#a4c649","device-apple":"#787878","device-windows":"#094ab2","ems-green":"#0c7e68","exchange-blue":"#0078d4","gcp-blue":"#4285f4",gray:"#969696",green:"#81bc00","ibm-blue":"#1f70c1","kubernetes-blue":"#1b6de1","lime-green":"#00d73c","openstack-red":"#f6203a","oracle-red":"#ff6201",orange:"#ff9500",poe:"#007aff",red:"#dc291e","symantec-yellow":"#f9b939",teal:"#317a8f","vmware-green":"#0c7e68",wait:"#2b76b9",white:"#fff",yellow:"#f0ad4e"},input:{text:"#262626",border:"#a9a9a9",background:"#fff","focus-ring":"#646464","error-background":"#fbb","error-pristine-background":"#ffe",search:{icon:"#646464","hover-icon":"#464646"},"highlight-background":"#ffb291"},error:{text:"#a94442",background:"#fbb"},button:{text:"#262626",background:"#fff",border:"#ccc","disabled-opacity":.5,"focus-ring":"#646464",primary:{text:"#fff",background:"#1ebd9c",border:"#1baa8c"},emphasized:{text:"#2b76b9",background:"#fff",border:"#2b76b9"},prompt:{primary:{background:"#1ebd9c",border:"#1baa8c"}}},"hero-input":{unchecked:"#646464","unchecked-hover":"#747474",checked:"#1ebd9c","checked-hover":"#22d6b1",inner:"#d3f7ef","inner-hover":"rgba(233,251,247,1)"},toggle:{"focus-ring":"#646464",switch:{off:"#646464",on:"#1ebd9c"},visual:{on:"#646464",off:"#646464"},hover:{background:"#e6e6e6"}},radio:{"focus-ring":"#646464",selected:{text:"#fff",background:"#2b76b9",border:"#2b76b9",focus:{border:"#191919",background:"#5591c7"},"focus-ring":"#191919"}},tabs:{border:"#969696","unselected-border":"#fff",text:"#262626","unselected-text":"#236093",background:"#fff","unselected-hover-background":"#e6e6e6"},tooltip:{border:"#646464","box-shadow":"rgba(0,0,0,0.3)"},shadow:{l1:"rgba(0,0,0,0.3)",l2:"rgba(0,0,0,0.5)"},select:{"add-icon":"#646464","hover-add-icon":"#464646","focus-background":"#ffa","can-drop-background":"#ffa","can-drop-border":"#646464","selected-entry":{text:"#262626",background:"transparent","compact-background":"#fff","required-background":"rgba(0,0,0,0.035)","remove-icon":"#646464","hover-remove-icon":"#464646"},search:{icon:"#646464","hover-icon":"#464646"},selection:{background:"#fff",border:"#969696","processing-text":"#2b76b9",entry:{background:"#fff",text:"#262626","selected-background":"#ffa","selected-text":"#262626","new-background":"#ffb291",solitary:"#dc291e"},category:{text:"#262626",opacity:.6},subcategory:{text:"#262626",opacity:.6}}},slide:{"mask-background":"rgba(170,170,170,0.7)",background:"#fff",border:"#969696"},chart:{border:"#b4b4b4"},svg:{"group-node":{left:"#fff",right:"#969696"}},avatar:{border:"#969696","box-shadow":"#e6e6e6"},"security-fabric":{connected:"#53a3e0",discovered:"#969696",disconnected:"#dc291e","fabric-connectors":{orange:"#ffa12f",yellow:"#f9b939","red-1":"#ff6201","red-2":"#f6203a","red-3":"#dc291e",green:"#0c7e68","green-2":"#258c06","blue-1":"#0071c5","blue-2":"#4185f4","blue-3":"#3268a5","blue-4":"#099fd9","blue-5":"#1b6de1","blue-6":"#53a3e0","blue-7":"#1f70c1","blue-8":"#0078d4",grey:"#bbb","focus-ring":"#646464"}},"number-bubble":{text:"#fff",background:"#969696",focus:{background:"#ababab"}},scorecards:{"positive-value":"#4d7100","negative-value":"#841912",coverage:{background:"#c93d3d",color:"#fff"},posture:{background:"#3276c3",color:"#fff"},optimization:{background:"#36853c",color:"#fff"}}}},function(module,exports,__webpack_require__){"use strict";const shortcuts=__webpack_require__(160),SearchScroll=__webpack_require__(618),SearchSource=__webpack_require__(217),SelectSearchSource=__webpack_require__(620),lang=__webpack_require__(47),Tooltip=__webpack_require__(59),dom=__webpack_require__(40),util=__webpack_require__(39),log=__webpack_require__(45),ROW_HEIGHT=24,CONTAINER_WIDTH=320,MAX_CONCURRENT_LOAD=4,BOTTOM_BUFFER=50,SEARCH_DEBOUNCE=100,WARNING_TOOLTIP="warning-tooltip";class Search{constructor({element:element,sources:sources,visibilityHandler:visibilityHandler,options:options={}}){this._visibilityHandler=visibilityHandler,this._element=element,this._settings=options,this._allSources=[],this._sources=[],this.init(),this.addSources(sources)}async addSources(sources){if(sources){this._loading(!0),this._searchInputElement.disabled=!0;try{util.objectIsThenable(sources)?(this._allSources=await sources,sources=await sources):Array.isArray(sources)&&(this._allSources=sources),this._sources=sources.filter(source=>source.isAvailable())}catch(e){log.error("Failed to load search sources"),this._allSources=[],this._sources=[]}this._createSourceToggles(),this._setDefaultEnabled(),this._searchInputElement.disabled=!1,await this._collectSourceSizes(),this._loading(!1)}}init(){this._sourceSizeMap={},this._virtualScroll=new SearchScroll({reachedTop:()=>{this._virtualScroll&&this._searchInputElement&&(this._searchInputElement.focus(),this._virtualScroll.clearFocused())},getMaxHeight:()=>{const elementTop=this._element.offsetTop;return this._targetContainer.offsetHeight-elementTop-BOTTOM_BUFFER},getSearchValue:()=>this._searchInputElement.value,onEntryClick:()=>{this.toggleVisible(!1)},onRender:()=>{this._loading(!0)},onRenderComplete:()=>{this._loading(!1)},maxConcurrentLoading:MAX_CONCURRENT_LOAD,rowHeight:ROW_HEIGHT,sources:this._sources}),this._create(),this._setDefaultEnabled(),this._settingsVisibility(!1),this._addListeners(),this._isVisible=!1,this._initialized=!0,this._searchCount=0,this._loading(!1)}_addListeners(){window.addEventListener("keydown",this._searchKeyListener.bind(this))}destroy(){window.removeEventListener("keydown",this._searchKeyListener.bind(this)),this._virtualScroll.destroy(),this._containerElement=null,this._virtualScroll=null,this._sources=[]}_setDefaultEnabled(event){for(let source of this._sources)this.toggleSource(source,null,source.defaultEnabled,!0);event&&this._searchCount&&this._virtualScroll&&this._virtualScroll.updateSources(this.availableSources)}_setAllSources(state,event){for(let source of this._sources)this.toggleSource(source,null,state,!0);event&&this._searchCount&&this._virtualScroll&&this._virtualScroll.updateSources(this.availableSources)}_searchKeyListener(event){const t=event.target;t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement||shortcuts.createShortcutChecker([shortcuts.SHORTCUTS.SEARCH],shortcut=>{switch(shortcut){case shortcuts.SHORTCUTS.SEARCH:this.toggleVisible()}event.preventDefault()}).bind(this)(event)}get _targetContainer(){return this.constructor.CONTAINER?this.constructor.CONTAINER:document.body}_create(){this._containerElement=this._element.querySelector(".search-panel-container"),this._containerElement.style.width=`${CONTAINER_WIDTH}px`,this._createSearchControls(),this._createSettings(),this._createScrollArea(),this._searchInputElement.addEventListener("keydown",shortcuts.createShortcutChecker([shortcuts.SHORTCUTS.PREVIOUS,shortcuts.SHORTCUTS.NEXT,shortcuts.SHORTCUTS.ACTION,shortcuts.SHORTCUTS.CLEAR],(shortcut,event)=>{if(this._virtualScroll)switch(shortcut){case shortcuts.SHORTCUTS.PREVIOUS:this._virtualScroll.focusPrevious();break;case shortcuts.SHORTCUTS.NEXT:this._virtualScroll.focusNext();break;case shortcuts.SHORTCUTS.ACTION:this._search();break;case shortcuts.SHORTCUTS.CLEAR:this.toggleVisible(!1)}event.preventDefault()}).bind(this)),this._searchResultsElement.addEventListener("keydown",shortcuts.createShortcutChecker([shortcuts.SHORTCUTS.PREVIOUS,shortcuts.SHORTCUTS.NEXT,shortcuts.SHORTCUTS.ACTION,shortcuts.SHORTCUTS.CLEAR,shortcuts.SHORTCUTS.SEARCH],(shortcut,event)=>{if(this._virtualScroll)switch(shortcut){case shortcuts.SHORTCUTS.PREVIOUS:this._virtualScroll.focusPrevious();break;case shortcuts.SHORTCUTS.NEXT:this._virtualScroll.focusNext();break;case shortcuts.SHORTCUTS.ACTION:this._virtualScroll.triggerFocusedAction(event),this.toggleVisible(!1);break;case shortcuts.SHORTCUTS.CLEAR:this.toggleVisible(!1);break;case shortcuts.SHORTCUTS.SEARCH:this.toggleVisible()}event.preventDefault()}).bind(this))}_createSearchControls(){const createSearchButton=()=>{const searchButton=dom.elem("button",{className:"button standard-button search-button"},{children:[dom.elem("f-icon",{className:"fa-search"})],events:{click:this._search.bind(this)}});return this._searchButton=searchButton,searchButton},createLoadingIcon=()=>{const loadingIcon=dom.elem("f-icon",{className:"fa-loading"});return this._loadingIcon=loadingIcon,loadingIcon},createSettingsButton=()=>(this._settingsIcon=dom.elem("f-icon",{className:"fa-filter"}),dom.elem("button",{className:"bare settings-toggle-button"},{children:[this._settingsIcon],events:{click:()=>{this._settingsVisibility(!this._settingsVisible)}}}));this._searchControlsElement=dom.elem("div",{className:"search-controls-container"},{children:[(()=>{const input=dom.elem("input",{className:"search-input",placeholder:lang.translate("Search"),type:"text"},{events:{keyup:event=>{event.target.value?this._searchInputClearElement.style.display="":this._searchInputClearElement.style.display="none"}}}),resetIcon=dom.elem("f-icon",{className:"fa-times clear-search",style:{display:"none"}},{events:{click:this.reset.bind(this)}}),inputContainer=dom.elem("div",{className:"search-input-container"},{children:[input,resetIcon]});return this._searchInputElement=input,this._searchInputClearElement=resetIcon,inputContainer})(),(()=>dom.elem("div",{className:"search-actions-container"},{children:[createSearchButton(),createSettingsButton(),createLoadingIcon()]}))()]}),this._containerElement&&this._containerElement.append(this._searchControlsElement)}_createSourceToggles(){const sourceSet=new Set,categorySet=new Set,categoryToggleContainer=this._categoryToggleContainerElement,sourceToggleContainer=this._searchToggleContainerElement,createToggle=(text,click)=>{const toggleIcon=dom.elem("f-icon",{className:"toggle-icon fa-apply",style:{visibility:"hidden"}}),toggleLabel=dom.elem("span",{className:"toggle-label"},{children:[dom.elem("span",{className:"toggle-text",textContent:lang.translate(text)}),dom.elem("span",{className:"toggle-source-count"})]}),toggleButton=dom.elem("button",{className:"button search-toggle"},{children:[toggleIcon,toggleLabel]});return dom.elem("div",{className:"menu-item"},{children:[toggleButton],events:{click:click}})};for(this._searchToggleElements={},this._searchToggleStatus={};categoryToggleContainer.firstChild;)categoryToggleContainer.removeChild(categoryToggleContainer.firstChild);for(;sourceToggleContainer.firstChild;)sourceToggleContainer.removeChild(sourceToggleContainer.firstChild);this._sources.forEach(source=>{if(this._settings.showSources&&!sourceSet.has(source.id)){let sourceToggleText=source.name;"function"==typeof source.name&&(sourceToggleText+=source.name());const sourceToggle=createToggle(sourceToggleText,event=>{this.toggleSource(source,event)});this._searchToggleContainerElement.append(sourceToggle),this._searchToggleElements[source.id]=sourceToggle,this._searchToggleStatus[source.id]=!0,sourceSet.add(source.id)}if(source.category&&!categorySet.has(source.category)){const categoryToggle=createToggle(source.category,event=>{this.toggleCategory(source,event)});this._categoryToggleContainerElement.append(categoryToggle),this._searchToggleElements[source.category]=categoryToggle,categorySet.add(source.category)}})}_createSettings(){const createLabel=text=>dom.elem("div",{className:"heading",textContent:text}),createButton=(text,icon,click)=>dom.elem("div",{className:"menu-item"},{children:[dom.elem("button",{className:"button"},{children:[dom.elem("f-icon",{className:icon}),dom.elem("span",{textContent:lang.translate(text)})],events:{click:click}})]});this._searchToggleContainerElement=dom.elem("div",{className:"source-toggles"}),this._categoryToggleContainerElement=dom.elem("div",{className:"category-toggles"}),this._createSourceToggles();const elements=[];elements.push(createLabel(lang.translate("Filters"))),elements.push(this._categoryToggleContainerElement),this._settings.showSources&&(elements.push(createLabel(lang.translate("Sources"))),elements.push(this._searchToggleContainerElement)),elements.push(dom.elem("div",{className:"separator"})),elements.push(createButton(lang.translate("Restore Defaults"),"fa-reset",event=>{this._setDefaultEnabled(event)})),elements.push(createButton(lang.translate("Unselect All"),"fa-trash-o",event=>{this._setAllSources(!1,event)})),this._settingsElement=dom.elem("div",{className:"search-settings-container",style:{display:"none"}},{children:[dom.fragment(elements)]}),this._containerElement&&this._containerElement.append(this._settingsElement)}_createScrollArea(){this._searchResultsElement=this._virtualScroll.containerElement,this._containerElement&&this._containerElement.append(this._searchResultsElement)}_settingsVisibility(showSettings){this._virtualScroll&&(this._virtualScroll.hideTooltip(),this._virtualScroll.isVisible=!showSettings),this._settingsVisible=showSettings,showSettings?(this._settingsElement.style.display="",this._searchResultsElement.style.display="none",this._settingsIcon.classList.add("active")):(this._settingsElement.style.display="none",this._searchResultsElement.style.display="",this._settingsIcon.classList.remove("active"),setTimeout(()=>{this._virtualScroll&&this._virtualScroll.needsRender&&this._virtualScroll.render()}))}_loading(isLoading){this.loading=isLoading,isLoading?(this._loadingIcon.style.display="",this._searchInputElement.disabled=!0,this._searchButton.disabled=!0,this._searchInputClearElement.style.display="none"):(this._loadingIcon.style.display="none",this._searchInputElement.disabled=!1,this._searchButton.disabled=!1,this._searchInputClearElement.style.display="")}toggleCategory(source,event,isEnabled){let newState;newState=null!=isEnabled?isEnabled:!this._searchToggleStatus[source.category],this._sources.filter(s=>s.category===source.category).forEach(s=>this.toggleSource(s,null,newState,!0)),event&&this._searchCount&&this._virtualScroll&&this._virtualScroll.updateSources(this.availableSources)}toggleSource(source,event,isEnabled,skipRefresh){const setToggle=(id,_isEnabled)=>{if(this._searchToggleElements&&this._searchToggleElements[id]){const icon=this._searchToggleElements[id].querySelector(".toggle-icon");icon&&_isEnabled?icon.style.visibility="":icon&&(icon.style.visibility="hidden")}};source.enabled=null!=isEnabled?isEnabled:!source.enabled,this._searchToggleStatus[source.id]=source.enabled,setToggle(source.id,source.enabled);const isCategoryEnabled=(category=>this._sources.filter(s=>s.category===category).every(s=>this._searchToggleStatus[s.id]))(source.category);this._searchToggleStatus[source.category]=isCategoryEnabled,setToggle(source.category,isCategoryEnabled),event&&!skipRefresh&&this._searchCount&&this._virtualScroll&&this._virtualScroll.updateSources(this.availableSources)}get availableSources(){return this._sources.filter(source=>source.enabled&&source.isAvailable())}get enabledSources(){return this._sources.filter(source=>source.enabled)}async _collectSourceSizes(){this._sourceSizeMap={};const checkForWarning=async(source,id,category)=>{const sourceSize=this._sourceSizeMap[id]||0,displayID=category||id,toggleElem=this._searchToggleElements[displayID],displaySize=this._sourceSizeMap[displayID]||0;if(toggleElem){const showWarning=await source.showSourceSizeWarning(sourceSize),countElem=toggleElem.querySelector(".toggle-source-count");if(countElem&&showWarning&&!countElem.hasAttribute(WARNING_TOOLTIP)){let html="";const tooltip=new Tooltip,msg=lang.translate("Due to the large number of entries, searching this source may take some time.");tooltip.setContent(msg),tooltip.showOnElementHover(countElem),countElem.setAttribute(WARNING_TOOLTIP,""),html+='<f-icon class="fa-warning"></f-icon>',html+=`<span class="size-label">(${displaySize.toLocaleString()})</span>`,countElem.innerHTML=html,this._settingsVisibility(!0)}}};this._loading(!0);const categorySizeMap={};for(let source of this._sources){const size=await source.size();null!=size&&(this._sourceSizeMap[source.id]=size,source.category&&(null!=categorySizeMap[source.category]?categorySizeMap[source.category]+=size:categorySizeMap[source.category]=size,this._sourceSizeMap[source.category]=categorySizeMap[source.category]))}for(let source of this._sources)checkForWarning(source,source.id),source.category&&checkForWarning(source,source.id,source.category);this._loading(!1)}_search(){this.debouncedSearch||(this.debouncedSearch=util.debounce(SEARCH_DEBOUNCE,async()=>{if(this._virtualScroll&&!this._virtualScroll.loading&&!this.loading){const wasInputFocused=document.activeElement===this._searchInputElement;this._loading(!0),this._settingsVisibility(!1);const availableSources=this.availableSources;await this._virtualScroll.updateSources(availableSources),this._searchCount++,this._loading(!1),wasInputFocused&&this._searchInputElement.focus()}})),this._searchInputElement.value&&this.debouncedSearch()}onShow(){this._initialized&&this._searchInputElement.focus()}onHide(){this._initialized&&this._virtualScroll&&this._virtualScroll.hideTooltip(!0)}toggleVisible(isVisible){this._initialized&&this._virtualScroll&&(this._isVisible=null!=isVisible?isVisible:!this._isVisible,this._virtualScroll.isVisible=this._isVisible,"function"==typeof this._visibilityHandler&&this._visibilityHandler(this._isVisible),this._isVisible?this.onShow():this.onHide())}reset(){this._virtualScroll&&this._virtualScroll.reset(),this._searchInputElement.value=""}refreshSourceAvailability(){this._sources=this._allSources.filter(source=>source.isAvailable())}}Search.SearchSource=SearchSource,Search.SelectSearchSource=SelectSearchSource,module.exports=window.Search=Search},function(module,exports,__webpack_require__){"use strict";const log=__webpack_require__(45),lang=__webpack_require__(47),Tooltip=__webpack_require__(59),util=__webpack_require__(39),SearchRow=__webpack_require__(217).SearchRow,dom=__webpack_require__(40),RENDER_BUFFER=20,createLoadingContent=()=>{const loadIcon=dom.elem("f-icon",{className:"fa-loading"});return dom.elem("div",{className:"tooltip-loading"},{children:[loadIcon]})};module.exports=class{constructor({sources:sources,getMaxHeight:getMaxHeight,getSearchValue:getSearchValue,onEntryClick:onEntryClick,onRender:onRender,onRenderComplete:onRenderComplete,rowHeight:rowHeight,maxConcurrentLoading:maxConcurrentLoading=0,preRender:preRender,postRender:postRender,reachedTop:reachedTop,reachedBottom:reachedBottom}){this._maxConcurrentLoading=maxConcurrentLoading,this._preRender=preRender,this._postRender=postRender,this._reachedTop=reachedTop,this._reachedBottom=reachedBottom,this._visibleRowsElements={},this._rowHeight=rowHeight,this._getMaxHeight=getMaxHeight,this._getSearchValue=(()=>{let searchValue=getSearchValue();return void 0===searchValue&&(searchValue=""),searchValue}),this._onEntryClick=onEntryClick,this._onRender=onRender,this._onRenderComplete=onRenderComplete,this._sources=sources,this.isVisible=!1,this._rows=[],this._createContainer(),this.containerElement.addEventListener("scroll",this._scrollListener.bind(this)),this._createTooltip()}destroy(){this._focused=null,this._sources.forEach(source=>source.destroy()),this._sources=[],this._rows=[],this._visibleRowsElements={},this.containerElement=null,this._tooltip&&this._tooltip.destroy()}_scrollListener(){if(this._keyScrolling)return;let[min,max]=this._viewingBounds;const NEAR_MAX=RENDER_BUFFER/2;this.hideTooltip(!0),(min<this.lastRenderMin+NEAR_MAX||max>this.lastRenderMax-NEAR_MAX)&&this.render()}_createContainer(){this.containerElement=dom.elem("div",{className:"virtual-scroll-container",tabIndex:0})}_createTooltip(){const content=createLoadingContent();this._tooltip||(this._tooltip=new Tooltip({class:"search-results-tooltip",showDelay:!0,fixed:!0,padContent:!1,placementType:Tooltip.PLACEMENT_TYPE.ELEMENT,placementLocation:Tooltip.PLACEMENT_LOCATION.TOP_RIGHT,stopContentClickPropagation:!0}),this._tooltip.setContent(content))}_getSearchRegex(){const search=this._getSearchValue();if(search)return new RegExp(util.preRegexEscape(search),"i")}_noResults(){const noResultsRow=new SearchRow({searchable:!1,formatter:function(){return dom.elem("div",{className:"results-message",textContent:lang.translate("No results")})}});noResultsRow.formatter(),this._rows.push(noResultsRow),this.render()}get _minRow(){return 0}get _maxRow(){return this._rows.length-1}get _topRow(){const topPosition=this.containerElement.scrollTop;return Math.ceil(topPosition/this._rowHeight)}get _bottomRow(){const bottomPosition=this.containerElement.scrollTop+this.containerElement.offsetHeight;return Math.floor(bottomPosition/this._rowHeight)}get _viewingBounds(){return[this._topRow,this._bottomRow]}get _renderingBounds(){return[Math.max(this._topRow-RENDER_BUFFER,this._minRow),Math.min(this._bottomRow+RENDER_BUFFER,this._maxRow)]}async collectRows({filter:filter=!1,persist:persist=!1}){const search=this._getSearchValue(),searchRegex=this._getSearchRegex(),refresh=!persist||!this._sourceOrdering,resultMapping={};let lastScroll=0;if(this.needsRender=!1,this._lastSearch=search,this.loading)return;if(""===search||null==search)return;refresh?(this._sourceOrdering=[],this.clearFocused()):lastScroll=this.containerElement.scrollTop,this.clearRenderData(),this._onRender(),this.loading=!0;const getRowsAndRender=async source=>{const filterAndRetrieve=async _source=>{filter&&await _source.filterRows(search,searchRegex),refresh&&this._sourceOrdering.push(_source.id);const rows=_source.getRows();resultMapping[_source.id]=rows,Object.assign(this._rowMapping,rows.mapping||{}),this._rows=[].concat.apply([],this._sourceOrdering.reduce((acc,value)=>(resultMapping[value]&&acc.push(resultMapping[value]),acc),[])),this.render()};await new Promise(async resolve=>{if(source)await filterAndRetrieve(source);else for(let _source of this._sources)await filterAndRetrieve(_source);resolve()})};if(await new Promise(resolve=>setTimeout(()=>resolve(),50)),this._maxConcurrentLoading&&refresh){const queue=this._sources.slice(),load=async()=>{for(;queue.length;){const s=queue.pop();await s.loadData(),await getRowsAndRender(s)}},promises=[];for(let i=0;i<this._maxConcurrentLoading;i++)promises.push(load());await Promise.all(promises)}else refresh&&await Promise.all(this._sources.map(async source=>await source.loadData())),await getRowsAndRender();refresh||(this.setFocused(),this.containerElement.scrollTop=lastScroll),this._rows.length||this._noResults(),this.isVisible||(this.needsRender=!0),this._onRenderComplete(),this.loading=!1}render(){const search=this._getSearchValue(),searchRegex=this._getSearchRegex();this._rowHeight=this._rows.reduce((acc,value)=>acc+value.height,0)/this._rows.length;const renderPlaceHolder=n=>dom.elem("div",{style:{height:`${n*this._rowHeight}px`}}),renderRow=row=>{let elem=dom.elem("div",{className:"virtual-row",style:{height:`${row.height}px`}});row.formatter(search,searchRegex);const content=row.getRowElement();return content instanceof HTMLElement&&elem.append(content),row.click&&(elem.style.cursor="pointer",elem.addEventListener("click",event=>{row.click(this,row,event),row.internalRow||this._onEntryClick(event)})),row.focusable&&(elem.tabIndex=0,elem.addEventListener("mouseenter",()=>{this.showTooltip(row),this._keyScrolling||this.setFocused(row)}),elem.addEventListener("mouseleave",()=>{this.hideTooltip()})),elem};if(!this._rows.length)return;(()=>{const maxHeight=this._getMaxHeight()||0,maxRowHeight=this._rows.length*this._rowHeight,height=Math.min(maxHeight,maxRowHeight);this.containerElement.style.height=`${height}px`})(),"function"==typeof this._preRender&&this._preRender();const[min,max]=this._renderingBounds,_temp={},_tempContainer=document.createDocumentFragment();_tempContainer.append(renderPlaceHolder(min));for(let i=min;i<=max;i++){let element,row=this._getRowByIndex(i);row.index=i,row.cache&&this._visibleRowsElements[row.id]?(row.highlight(search,searchRegex),element=this._visibleRowsElements[row.id]):element=renderRow(row),_temp[row.id]=element,_tempContainer.appendChild(element)}_tempContainer.append(renderPlaceHolder(this._maxRow-max));const scrollContainer=this.containerElement;for(let c=scrollContainer.lastChild;null!==c;c=scrollContainer.lastChild)scrollContainer.removeChild(c);scrollContainer.appendChild(_tempContainer),"function"==typeof this._postRender&&this._postRender(),this._visibleRowsElements=_temp,this.lastRenderMin=min,this.lastRenderMax=max}_getRowByIndex(i){return this._rows[i]}_getRowByID(id){return this._rowMapping[id]}async showTooltip(row){if(!row||!row.tooltip)return void this.hideTooltip(!0);let content;try{this._tooltipVisibleFor=row.id;const target=this._visibleRowsElements[row.id];if(null!==target.offsetParent){if(await this._tooltip.show(null,null,null,{targetElement:target,delayEvenWhenVisible:!0}),this._tooltipVisibleFor===row.id){const search=this._getSearchValue(),searchRegex=this._getSearchRegex();this._tooltip.setContent(createLoadingContent()),await row.tooltipFormatter(search,searchRegex),content=row.getTooltipElement()}this._tooltip.setContent(content)}else this.hideTooltip(!0)}catch(e){log.error(e)}}hideTooltip(immediate){this._tooltip&&this._tooltip.hide(immediate)}_findNearestFocusableRow(index,direction){let i=1;const len=this._rows.length;for(;;){if(index+i>=len&&index-i<0)return null;let rowAbove,rowBelow;if((direction<0||null==direction)&&(rowAbove=this._getRowByIndex(index-i)),(direction>0||null==direction)&&(rowBelow=this._getRowByIndex(index+i)),rowAbove&&rowAbove.focusable&&this._visibleRowsElements[rowAbove.id])return rowAbove;if(rowBelow&&rowBelow.focusable&&this._visibleRowsElements[rowBelow.id])return rowBelow;i++}}setFocused(row){let newFocusedElem,lastFocusedRow=this._focused&&this._getRowByID(this._focused.id),lastFocusedElem=lastFocusedRow&&this._visibleRowsElements[lastFocusedRow.id];if(row&&row.focusable?newFocusedElem=this._visibleRowsElements[row.id]:!row&&lastFocusedElem&&(newFocusedElem=lastFocusedElem,row=lastFocusedRow),lastFocusedElem&&lastFocusedElem.classList.remove("focused"),newFocusedElem&&(newFocusedElem.classList.add("focused"),this._focused=row),!lastFocusedRow&&!newFocusedElem){let start=0;this._focused&&(start=this._focused.index);const foundRow=this._findNearestFocusableRow(start);foundRow&&this.setFocused(foundRow)}}triggerFocusedAction(event){let focusedRow=this._focused&&this._getRowByID(this._focused.id);focusedRow&&(focusedRow.click(this,focusedRow,event),focusedRow.internalRow||this._onEntryClick(event))}focusNext(){if(!this._keyScrolling){let index=this._focused&&this._focused.index+1||0;const nextRow=this._getRowByIndex(index);this._moveFocused(nextRow,1)}}focusPrevious(){if(!this._keyScrolling){let index=this._focused&&this._focused.index-1||0;const previousRow=this._getRowByIndex(index);this._moveFocused(previousRow,-1)}}_moveFocused(row,direction){if(!row||row&&!row.focusable){let index=0;this._focused&&(index=this._focused.index+direction);const foundRow=this._findNearestFocusableRow(index,direction);return foundRow?void this._moveFocused(foundRow,direction):("function"==typeof this._reachedTop&&direction<0&&(this._reachedTop(),this.hideTooltip(!0)),void("function"==typeof this._reachedBottom&&direction>0&&this._reachedBottom()))}const index=row.index;this.containerElement.focus();const[viewMin,viewMax]=this._viewingBounds,containerElem=this.containerElement;index>viewMax?(this._keyScrolling=!0,this.render(),containerElem.scrollTop=(index+1)*this._rowHeight-containerElem.offsetHeight):index<viewMin&&(this._keyScrolling=!0,this.render(),containerElem.scrollTop=index*this._rowHeight),this.setFocused(row),this._moveTimer&&clearTimeout(this._moveTimer),this._moveTimer=setTimeout(()=>{this._keyScrolling=!1,this.showTooltip(row)})}async updateSources(sources){let _sources=null;if(!this.loading){if(util.objectIsThenable(sources))try{_sources=await sources}catch(e){log.error("Error getting virtual scroll rows"),_sources=[]}else Array.isArray(sources)&&(_sources=sources);this._sources=_sources,this.containerElement.scrollTop=0,await this.collectRows({filter:!0})}}clearFocused(){let lastFocusedRow=this._focused&&this._getRowByID(this._focused.id),lastFocusedElem=lastFocusedRow&&this._visibleRowsElements[lastFocusedRow.id];lastFocusedElem&&lastFocusedElem.classList.remove("focused"),this._focused=null}clearRenderData(){this.hideTooltip(!0),this._rows=[],this._rowMapping={}}get numberOfRows(){return this._rows.length}reset(){for(this.clearRenderData(),this.containerElement.style.height="0px",this._sources.forEach(source=>{source.destroy()}),this._visibleRowsElements={};this.containerElement.firstChild;)this.containerElement.removeChild(this.containerElement.firstChild)}}},function(module,exports,__webpack_require__){"use strict";const util=__webpack_require__(39),log=__webpack_require__(45),highlight=__webpack_require__(125).highlightMatchesInElement,dom=__webpack_require__(40);module.exports=class{constructor({entry:entry,tooltipFormatter:tooltipFormatter,formatter:formatter,click:click,category:category,internalRow:internalRow=!1,searchable:searchable=!1,alwaysInclude:alwaysInclude=!1,focusable:focusable=!1,cache:cache=!1,tooltip:tooltip=!0,height:height=24}){this.id=util.uniqueID(),this.index=0,this.height=height,this.entry=entry,this._tooltipFormatter=tooltipFormatter,this._formatter=formatter,this.click=click,this.searchable=searchable,this.internalRow=internalRow,this.alwaysInclude=alwaysInclude,this.focusable=focusable,this.tooltip=tooltip,this.cache=cache,this.category=category,this.highlighted=!1}async tooltipFormatter(search,searchRegex){if(this.tooltip)try{const elem=await this._tooltipFormatter(this,search,searchRegex);this.setTooltipElement(elem)}catch(e){this.setTooltipElement(null)}}formatter(search,searchRegex){let elem;this.setRowElement(null),this.setHighlightElement(null);try{elem=this._formatter(this,search,searchRegex),this.setRowElement(elem),this.getHighlightElement()||this.setHighlightElement(elem),this.highlight(search,searchRegex),this._infoIcon=dom.elem("f-icon",{className:"fa-help-info",style:{display:"none"}}),elem.append(this._infoIcon)}catch(e){elem=dom.elem("div",{},{children:[dom.elem("f-icon",{className:"fa-loading"})]}),this.setRowElement(elem),log.error("Failed to render search row")}}infoIconVisibility(visible){this._infoIcon&&(this._infoIcon.style.display=visible?"":"none")}setRowElement(elem){this._rowElem=elem}getRowElement(){return this._rowElem}setTooltipElement(elem){this.tooltip&&(this._tooltipElement=elem)}getTooltipElement(){return this._tooltipElement}setHighlightElement(elem){this._highlightElement=elem}getHighlightElement(){return this._highlightElement}highlight(search,searchRegex){if(!this.searchable||!search)return!1;const html=this.getHighlightElement();try{const didHighlight=highlight(html,searchRegex||search,!0);return didHighlight?(this.cache=!1,this.infoIconVisibility(!1)):this.infoIconVisibility(!0),this.highlighted=didHighlight,didHighlight}catch(e){return log.error("Failed to highlight search row"),!1}}}},function(module,exports,__webpack_require__){"use strict";const SearchSource=__webpack_require__(217),Omniselect=__webpack_require__(158),log=__webpack_require__(45),dom=__webpack_require__(40),_key=parts=>parts.join("::");module.exports=class extends SearchSource{constructor(options){if(!options.source)throw new Error("No Select source given");const SOURCE=Omniselect.prototype.SOURCES[options.source];if(!SOURCE)throw new Error("Invalid Omniselect source");super(Object.assign({id:options.source,name:SOURCE.name},options)),this._selectSourceMatcher=Omniselect.getSourceSearchMatcher(this.sourceID),this._selectSearchMatchMap=new Map}get sourceID(){return this.id}shouldRefresh(){try{return Omniselect.getSourceDataSync(this.sourceID)!==this._originalData}catch(e){return!0}}entryTooltipFormatter(row,search){const key=_key([search,row.id]),searchMatch=this._selectSearchMatchMap.get(key);return searchMatch&&(search=searchMatch),(0,Omniselect.processedFormatEntryTooltip)(row.entry,this.sourceID,search)}entryFormatter(row,search,searchRegex){const elem=dom.elem("div",{},{children:[dom.elem("f-icon",{className:"fa-loading"})]});try{Omniselect.processedFormatEntry(row.entry,this.sourceID).then(formatted=>{elem.innerHTML=formatted,row.highlight(search,searchRegex)})}catch(e){log.warn(`Failed to render entry: ${e}`)}return elem}entryClick(scroller,row){Omniselect.inlineEdit(row.entry,this.sourceID)}search(row,searchValue,searchRegex){try{const match=this._selectSourceMatcher(row.entry,searchRegex,searchValue),key=_key([searchValue,row.id]);return this._selectSearchMatchMap.set(key,match),match.isMatch()}catch(e){log.error(e)}return!1}async filterRows(search,searchRegex){this._selectSearchMatchMap=new Map,await super.filterRows(search,searchRegex)}data(){return Omniselect.getSourceData(this.sourceID)}}},function(module,exports,__webpack_require__){"use strict";module.exports={CONSTANTS:__webpack_require__(56),chartUtil:__webpack_require__(60),iconCode:__webpack_require__(69),topologyParser:__webpack_require__(391),SearchSourceEntry:__webpack_require__(627),SearchInformation:__webpack_require__(628),TopologySearchState:__webpack_require__(629),TopologyTreeNode:__webpack_require__(392),TopologyDescriptionEntry:__webpack_require__(630),TopologySettings:__webpack_require__(631),BaseTopologyNode:__webpack_require__(70),IconNode:__webpack_require__(218),IconNodeWithTable:__webpack_require__(396),IconGroupNode:__webpack_require__(632),ContainerNode:__webpack_require__(166),DonutContainerNode:__webpack_require__(633),MultiGroupNode:__webpack_require__(634),PackContainerNode:__webpack_require__(219),CirclePackContainerNode:__webpack_require__(635),SquarePackContainerNode:__webpack_require__(636),IconBadge:__webpack_require__(393),NumberBubbleBadge:__webpack_require__(394),SubIcon:__webpack_require__(395),LinkBadge:__webpack_require__(398),LinkPath:__webpack_require__(637),GroupNode:__webpack_require__(397),Toggle:__webpack_require__(128)}},function(module){module.exports={"ftnt-acs":"EA01","ftnt-address-explicit-proxy-group":"EA02","ftnt-address-explicit-proxy":"EA03","ftnt-address-fqdn":"EA04","ftnt-address-geo":"EA05","ftnt-address-group":"EA06","ftnt-address-iprange":"EA07","ftnt-address-ipv4":"EA08","ftnt-address-ipv6":"EA09","ftnt-address-mac":"EA0A","ftnt-address-multicast":"EA0B","ftnt-address-nsx":"EA0C","ftnt-address-wildcard-fqdn":"EA0D","ftnt-address":"EA0E","ftnt-adhoc":"EA0F","ftnt-administrator":"EA10","ftnt-aggregate":"EA11","ftnt-amazon-o":"EA12","ftnt-amazon":"EA13","ftnt-aws-lambda":"EA14","ftnt-aws":"EA15","ftnt-azure-o-no-border":"EA16","ftnt-azure-o":"EA17","ftnt-azure":"EA18","ftnt-bridging":"EA19","ftnt-bubbles":"EA1A","ftnt-ca-certificates-top":"EA1B","ftnt-ca-certificates":"EA1C","ftnt-certificate-local-top":"EA1D","ftnt-certificate-local":"EA1E","ftnt-certificate-remote-top":"EA1F","ftnt-certificate-remote":"EA20","ftnt-checkered-top-left-bottom-right":"EA21","ftnt-checkered-top-right-bottom-left":"EA22","ftnt-chip":"EA23","ftnt-cisco":"EA24","ftnt-clone":"EA25","ftnt-cloud-flow-trans":"EA26","ftnt-cloud-flow":"EA27","ftnt-cloud-group":"EA28","ftnt-cloud-o":"EA29","ftnt-cloud-proxy-trans":"EA2A","ftnt-cloud-proxy":"EA2B","ftnt-cloud-vm-current":"EA2C","ftnt-cloud-vm":"EA2D","ftnt-cloud":"EA2E","ftnt-cmgmt-ro-o":"EA2F","ftnt-cmgmt-rw-o":"EA30","ftnt-copy":"EA31","ftnt-crl-top":"EA32","ftnt-crl":"EA33","ftnt-device-group-custom":"EA34","ftnt-device":"EA35","ftnt-drag":"EA36","ftnt-email":"EA37","ftnt-esxi":"EA38","ftnt-event-trigger":"EA39","ftnt-eventlog":"EA3A","ftnt-exchange":"EA3B","ftnt-external-resource-address":"EA3C","ftnt-external-resource-category":"EA3D","ftnt-external-resource-domain":"EA3E","ftnt-external-resource-malware":"EA3F","ftnt-fabric-device":"EA40","ftnt-firewall":"EA41","ftnt-fmg-backup-mode":"EA42","ftnt-folder-group":"EA43","ftnt-fortiadc":"EA44","ftnt-fortianalyzer-o-no-border":"EA45","ftnt-fortianalyzer":"EA46","ftnt-fortiap-marketing":"EA47","ftnt-fortiap":"EA48","ftnt-fortiauthenticator":"EA49","ftnt-forticasb":"EA4A","ftnt-forticlient-ems":"EA4B","ftnt-forticlient-o":"EA4C","ftnt-forticlient-tag":"EA4D","ftnt-forticlient":"EA4E","ftnt-forticloud":"EA4F","ftnt-fortiddos":"EA50","ftnt-fortiextender":"EA51","ftnt-fortigate-marketing-current":"EA52","ftnt-fortigate-marketing-fwf-current":"EA53","ftnt-fortigate-marketing-fwf":"EA54","ftnt-fortigate-marketing-ha":"EA55","ftnt-fortigate-marketing-master":"EA56","ftnt-fortigate-marketing-slave":"EA57","ftnt-fortigate-marketing-vm-current":"EA58","ftnt-fortigate-marketing-vm":"EA59","ftnt-fortigate-marketing":"EA5A","ftnt-fortigate":"EA5B","ftnt-fortiguard":"EA5C","ftnt-fortimail":"EA5D","ftnt-fortimanager":"EA5E","ftnt-fortinac-tag":"EA5F","ftnt-fortinac":"EA60","ftnt-fortinet-grid":"EA61","ftnt-fortisandbox":"EA62","ftnt-fortiswitch-ha":"EA63","ftnt-fortiswitch-marketing":"EA64","ftnt-fortiswitch":"EA65","ftnt-fortitoken-cloud":"EA66","ftnt-fortitoken-revoke":"EA67","ftnt-fortitoken-send":"EA68","ftnt-fortitoken":"EA69","ftnt-fortiweb":"EA6A","ftnt-fortiwifi":"EA6B","ftnt-fortiwlc":"EA6C","ftnt-fsso-service":"EA6D","ftnt-ftp-server":"EA6E","ftnt-full-screen":"EA6F","ftnt-gcp-o-no-border":"EA70","ftnt-gcp-o":"EA71","ftnt-gcp":"EA72","ftnt-globe":"EA73","ftnt-ha":"EA74","ftnt-hamburger":"EA75","ftnt-help-o":"EA76","ftnt-hook-triangle-left":"EA77","ftnt-hook-triangle-right-bottom":"EA78","ftnt-ibm":"EA79","ftnt-import":"EA7A","ftnt-install":"EA7B","ftnt-interface-filtered":"EA7C","ftnt-interface-fortilink":"EA7D","ftnt-interface-modem":"EA7E","ftnt-interface-rj11-half-duplex":"EA7F","ftnt-interface-rj11":"EA80","ftnt-interface-rj45-half-duplex":"EA81","ftnt-interface-rj45":"EA82","ftnt-interface-sfp-half-duplex":"EA83","ftnt-interface-sfp":"EA84","ftnt-ioc":"EA85","ftnt-ip-pool":"EA86","ftnt-ipsec-aggregate":"EA87","ftnt-kubernetes":"EA88","ftnt-laptop":"EA89","ftnt-ldap-address":"EA8A","ftnt-ldap-city":"EA8B","ftnt-ldap-cn":"EA8C","ftnt-ldap-country":"EA8D","ftnt-ldap-dc":"EA8E","ftnt-ldap-organization":"EA8F","ftnt-ldap-ou":"EA90","ftnt-ldap-server":"EA91","ftnt-ldap-state":"EA92","ftnt-ldap-uid":"EA93","ftnt-ldap":"EA94","ftnt-load-balance":"EA95","ftnt-loopback":"EA96","ftnt-mail-server":"EA97","ftnt-new":"EA98","ftnt-np-accelerated":"EA99","ftnt-npu":"EA9A","ftnt-nuage-networks":"EA9B","ftnt-null":"EA9C","ftnt-opc-o":"EA9D","ftnt-opc":"EA9E","ftnt-openstack":"EA9F","ftnt-oracle-oci":"EAA0","ftnt-packet-download":"EAA1","ftnt-peer":"EAA2","ftnt-pending":"EAA3","ftnt-policy-objects":"EAA4","ftnt-profile-antivirus":"EAA5","ftnt-profile-application":"EAA6","ftnt-profile-dlp":"EAA7","ftnt-profile-emailfilter":"EAA8","ftnt-profile-ips":"EAA9","ftnt-profile-webfilter":"EAAA","ftnt-purge":"EAAB","ftnt-radius-server":"EAAC","ftnt-responsive":"EAAD","ftnt-ring-network":"EAAE","ftnt-rogue-ap":"EAAF","ftnt-rsso":"EAB0","ftnt-salesforce-o":"EAB1","ftnt-salesforce":"EAB2","ftnt-samba-server":"EAB3","ftnt-schedule-group":"EAB4","ftnt-schedule-recurring":"EAB5","ftnt-schedule-trigger":"EAB6","ftnt-schedule":"EAB7","ftnt-search-o":"EAB8","ftnt-security-fabric":"EAB9","ftnt-service-group":"EABA","ftnt-service":"EABB","ftnt-shutdown":"EABC","ftnt-solid":"EABD","ftnt-standard-fortigate-vm":"EABE","ftnt-standard-fortigate":"EABF","ftnt-standard-fortiswitch":"EAC0","ftnt-standard-fortiwifi":"EAC1","ftnt-switch-vdom":"EAC2","ftnt-switch":"EAC3","ftnt-symantec-checkmark":"EAC4","ftnt-symantec-circle":"EAC5","ftnt-tacacs-server":"EAC6","ftnt-tacacs":"EAC7","ftnt-traffic":"EAC8","ftnt-usb-o":"EAC9","ftnt-usb-warn-o":"EACA","ftnt-usb":"EACB","ftnt-user-o":"EACC","ftnt-user-radius":"EACD","ftnt-vdom-transparent":"EACE","ftnt-vdom":"EACF","ftnt-view":"EAD0","ftnt-virtual-ip-group":"EAD1","ftnt-virtual-ip":"EAD2","ftnt-virtual-server-load-balance":"EAD3","ftnt-virtual-wan-link":"EAD4","ftnt-virtual-wire-pair":"EAD5","ftnt-vlan":"EAD6","ftnt-vm":"EAD7","ftnt-vmware-esxi":"EAD8","ftnt-vmware-nsx":"EAD9","ftnt-vpn-lock-o":"EADA","ftnt-vpn-lock":"EADB","ftnt-vpn-tunnel":"EADC","ftnt-warning-out-of-memory":"EADD","ftnt-web-server":"EADE","ftnt-wifi-bridging":"EADF","ftnt-wifi-controller":"EAE0","ftnt-wifi-mesh":"EAE1","ftnt-wizard-o":"EAE2"}},function(module){module.exports={"fa-500px":"EA01","fa-address-book-o":"EA02","fa-address-book":"EA03","fa-address-card-o":"EA04","fa-address-card":"EA05","fa-adjust":"EA06","fa-adn":"EA07","fa-align-center":"EA08","fa-align-justify":"EA09","fa-align-left":"EA0A","fa-align-right":"EA0B","fa-amazon":"EA0C","fa-ambulance":"EA0D","fa-american-sign-language-interpreting":"EA0E","fa-anchor":"EA0F","fa-android":"EA10","fa-angellist":"EA11","fa-angle-double-down":"EA12","fa-angle-double-left":"EA13","fa-angle-double-right":"EA14","fa-angle-double-up":"EA15","fa-angle-down":"EA16","fa-angle-left":"EA17","fa-angle-right":"EA18","fa-angle-up":"EA19","fa-apple":"EA1A","fa-archive":"EA1B","fa-area-chart":"EA1C","fa-arrow-circle-down":"EA1D","fa-arrow-circle-left":"EA1E","fa-arrow-circle-o-down":"EA1F","fa-arrow-circle-o-left":"EA20","fa-arrow-circle-o-right":"EA21","fa-arrow-circle-o-up":"EA22","fa-arrow-circle-right":"EA23","fa-arrow-circle-up":"EA24","fa-arrow-down":"EA25","fa-arrow-left":"EA26","fa-arrow-right":"EA27","fa-arrow-up":"EA28","fa-arrows-alt":"EA29","fa-arrows-h":"EA2A","fa-arrows-v":"EA2B","fa-arrows":"EA2C","fa-assistive-listening-systems":"EA2D","fa-asterisk":"EA2E","fa-at":"EA2F","fa-audio-description":"EA30","fa-automobile":"EA31","fa-backward":"EA32","fa-balance-scale":"EA33","fa-ban":"EA34","fa-bandcamp":"EA35","fa-bank":"EA36","fa-bar-chart":"EA37","fa-barcode":"EA38","fa-bars":"EA39","fa-bath":"EA3A","fa-battery-0":"EA3B","fa-battery-1":"EA3C","fa-battery-2":"EA3D","fa-battery-3":"EA3E","fa-battery":"EA3F","fa-bed":"EA40","fa-beer":"EA41","fa-behance-square":"EA42","fa-behance":"EA43","fa-bell-o":"EA44","fa-bell-slash-o":"EA45","fa-bell-slash":"EA46","fa-bell":"EA47","fa-bicycle":"EA48","fa-binoculars":"EA49","fa-birthday-cake":"EA4A","fa-bitbucket-square":"EA4B","fa-bitbucket":"EA4C","fa-bitcoin":"EA4D","fa-black-tie":"EA4E","fa-blind":"EA4F","fa-bluetooth-b":"EA50","fa-bluetooth":"EA51","fa-bold":"EA52","fa-bolt":"EA53","fa-bomb":"EA54","fa-book":"EA55","fa-bookmark-o":"EA56","fa-bookmark":"EA57","fa-braille":"EA58","fa-briefcase":"EA59","fa-bug":"EA5A","fa-building-o":"EA5B","fa-building":"EA5C","fa-bullhorn":"EA5D","fa-bullseye":"EA5E","fa-bus":"EA5F","fa-buysellads":"EA60","fa-cab":"EA61","fa-calculator":"EA62","fa-calendar-check-o":"EA63","fa-calendar-minus-o":"EA64","fa-calendar-o":"EA65","fa-calendar-plus-o":"EA66","fa-calendar-times-o":"EA67","fa-calendar":"EA68","fa-camera-retro":"EA69","fa-camera":"EA6A","fa-caret-down":"EA6B","fa-caret-left":"EA6C","fa-caret-right":"EA6D","fa-caret-square-o-down":"EA6E","fa-caret-square-o-left":"EA6F","fa-caret-square-o-right":"EA70","fa-caret-square-o-up":"EA71","fa-caret-up":"EA72","fa-cart-arrow-down":"EA73","fa-cart-plus":"EA74","fa-cc-amex":"EA75","fa-cc-diners-club":"EA76","fa-cc-discover":"EA77","fa-cc-jcb":"EA78","fa-cc-mastercard":"EA79","fa-cc-paypal":"EA7A","fa-cc-stripe":"EA7B","fa-cc-visa":"EA7C","fa-cc":"EA7D","fa-certificate":"EA7E","fa-chain-broken":"EA7F","fa-chain":"EA80","fa-check-circle-o":"EA81","fa-check-circle":"EA82","fa-check-square-o":"EA83","fa-check-square":"EA84","fa-check":"EA85","fa-chevron-circle-down":"EA86","fa-chevron-circle-left":"EA87","fa-chevron-circle-right":"EA88","fa-chevron-circle-up":"EA89","fa-chevron-down":"EA8A","fa-chevron-left":"EA8B","fa-chevron-right":"EA8C","fa-chevron-up":"EA8D","fa-child":"EA8E","fa-chrome":"EA8F","fa-circle-o-notch":"EA90","fa-circle-o":"EA91","fa-circle-thin":"EA92","fa-circle":"EA93","fa-clipboard":"EA94","fa-clock-o":"EA95","fa-clone":"EA96","fa-close":"EA97","fa-cloud-download":"EA98","fa-cloud-upload":"EA99","fa-cloud":"EA9A","fa-cny":"EA9B","fa-code-fork":"EA9C","fa-code":"EA9D","fa-codepen":"EA9E","fa-codiepie":"EA9F","fa-coffee":"EAA0","fa-cog":"EAA1","fa-cogs":"EAA2","fa-columns":"EAA3","fa-comment-o":"EAA4","fa-comment":"EAA5","fa-commenting-o":"EAA6","fa-commenting":"EAA7","fa-comments-o":"EAA8","fa-comments":"EAA9","fa-compass":"EAAA","fa-compress":"EAAB","fa-connectdevelop":"EAAC","fa-contao":"EAAD","fa-copyright":"EAAE","fa-creative-commons":"EAAF","fa-credit-card-alt":"EAB0","fa-credit-card":"EAB1","fa-crop":"EAB2","fa-crosshairs":"EAB3","fa-css3":"EAB4","fa-cube":"EAB5","fa-cubes":"EAB6","fa-cut":"EAB7","fa-cutlery":"EAB8","fa-dashboard":"EAB9","fa-dashcube":"EABA","fa-database":"EABB","fa-deaf":"EABC","fa-dedent":"EABD","fa-delicious":"EABE","fa-desktop":"EABF","fa-deviantart":"EAC0","fa-diamond":"EAC1","fa-digg":"EAC2","fa-dollar":"EAC3","fa-dot-circle-o":"EAC4","fa-download":"EAC5","fa-dribbble":"EAC6","fa-drivers-license-o":"EAC7","fa-drivers-license":"EAC8","fa-dropbox":"EAC9","fa-drupal":"EACA","fa-edge":"EACB","fa-edit":"EACC","fa-eercast":"EACD","fa-eject":"EACE","fa-ellipsis-h":"EACF","fa-ellipsis-v":"EAD0","fa-empire":"EAD1","fa-envelope-o":"EAD2","fa-envelope-open-o":"EAD3","fa-envelope-open":"EAD4","fa-envelope-square":"EAD5","fa-envelope":"EAD6","fa-envira":"EAD7","fa-eraser":"EAD8","fa-etsy":"EAD9","fa-eur":"EADA","fa-exchange":"EADB","fa-exclamation-circle":"EADC","fa-exclamation-triangle":"EADD","fa-exclamation":"EADE","fa-expand":"EADF","fa-expeditedssl":"EAE0","fa-external-link-square":"EAE1","fa-external-link":"EAE2","fa-eye-slash":"EAE3","fa-eye":"EAE4","fa-eyedropper":"EAE5","fa-fa":"EAE6","fa-facebook-official":"EAE7","fa-facebook-square":"EAE8","fa-facebook":"EAE9","fa-fast-backward":"EAEA","fa-fast-forward":"EAEB","fa-fax":"EAEC","fa-feed":"EAED","fa-female":"EAEE","fa-fighter-jet":"EAEF","fa-file-archive-o":"EAF0","fa-file-audio-o":"EAF1","fa-file-code-o":"EAF2","fa-file-excel-o":"EAF3","fa-file-image-o":"EAF4","fa-file-movie-o":"EAF5","fa-file-o":"EAF6","fa-file-pdf-o":"EAF7","fa-file-powerpoint-o":"EAF8","fa-file-text-o":"EAF9","fa-file-text":"EAFA","fa-file-word-o":"EAFB","fa-file":"EAFC","fa-files-o":"EAFD","fa-film":"EAFE","fa-filter":"EAFF","fa-fire-extinguisher":"EB00","fa-fire":"EB01","fa-firefox":"EB02","fa-first-order":"EB03","fa-flag-checkered":"EB04","fa-flag-o":"EB05","fa-flag":"EB06","fa-flask":"EB07","fa-flickr":"EB08","fa-floppy-o":"EB09","fa-folder-o":"EB0A","fa-folder-open-o":"EB0B","fa-folder-open":"EB0C","fa-folder":"EB0D","fa-font":"EB0E","fa-fonticons":"EB0F","fa-fort-awesome":"EB10","fa-forumbee":"EB11","fa-forward":"EB12","fa-foursquare":"EB13","fa-free-code-camp":"EB14","fa-frown-o":"EB15","fa-futbol-o":"EB16","fa-gamepad":"EB17","fa-gavel":"EB18","fa-gbp":"EB19","fa-genderless":"EB1A","fa-get-pocket":"EB1B","fa-gg-circle":"EB1C","fa-gg":"EB1D","fa-gift":"EB1E","fa-git-square":"EB1F","fa-git":"EB20","fa-github-alt":"EB21","fa-github-square":"EB22","fa-github":"EB23","fa-gitlab":"EB24","fa-gittip":"EB25","fa-glass":"EB26","fa-glide-g":"EB27","fa-glide":"EB28","fa-globe":"EB29","fa-google-plus-circle":"EB2A","fa-google-plus-square":"EB2B","fa-google-plus":"EB2C","fa-google-wallet":"EB2D","fa-google":"EB2E","fa-graduation-cap":"EB2F","fa-grav":"EB30","fa-group":"EB31","fa-h-square":"EB32","fa-hacker-news":"EB33","fa-hand-grab-o":"EB34","fa-hand-lizard-o":"EB35","fa-hand-o-down":"EB36","fa-hand-o-left":"EB37","fa-hand-o-right":"EB38","fa-hand-o-up":"EB39","fa-hand-paper-o":"EB3A","fa-hand-peace-o":"EB3B","fa-hand-pointer-o":"EB3C","fa-hand-scissors-o":"EB3D","fa-hand-spock-o":"EB3E","fa-handshake-o":"EB3F","fa-hashtag":"EB40","fa-hdd-o":"EB41","fa-header":"EB42","fa-headphones":"EB43","fa-heart-o":"EB44","fa-heart":"EB45","fa-heartbeat":"EB46","fa-history":"EB47","fa-home":"EB48","fa-hospital-o":"EB49","fa-hourglass-1":"EB4A","fa-hourglass-2":"EB4B","fa-hourglass-3":"EB4C","fa-hourglass-o":"EB4D","fa-hourglass":"EB4E","fa-houzz":"EB4F","fa-html5":"EB50","fa-i-cursor":"EB51","fa-id-badge":"EB52","fa-ils":"EB53","fa-image":"EB54","fa-imdb":"EB55","fa-inbox":"EB56","fa-indent":"EB57","fa-industry":"EB58","fa-info-circle":"EB59","fa-info":"EB5A","fa-inr":"EB5B","fa-instagram":"EB5C","fa-internet-explorer":"EB5D","fa-intersex":"EB5E","fa-ioxhost":"EB5F","fa-italic":"EB60","fa-joomla":"EB61","fa-jsfiddle":"EB62","fa-key":"EB63","fa-keyboard-o":"EB64","fa-krw":"EB65","fa-language":"EB66","fa-laptop":"EB67","fa-lastfm-square":"EB68","fa-lastfm":"EB69","fa-leaf":"EB6A","fa-leanpub":"EB6B","fa-lemon-o":"EB6C","fa-level-down":"EB6D","fa-level-up":"EB6E","fa-life-bouy":"EB6F","fa-lightbulb-o":"EB70","fa-line-chart":"EB71","fa-linkedin-square":"EB72","fa-linkedin":"EB73","fa-linode":"EB74","fa-linux":"EB75","fa-list-alt":"EB76","fa-list-ol":"EB77","fa-list-ul":"EB78","fa-list":"EB79","fa-location-arrow":"EB7A","fa-lock":"EB7B","fa-long-arrow-down":"EB7C","fa-long-arrow-left":"EB7D","fa-long-arrow-right":"EB7E","fa-long-arrow-up":"EB7F","fa-low-vision":"EB80","fa-magic":"EB81","fa-magnet":"EB82","fa-mail-forward":"EB83","fa-mail-reply-all":"EB84","fa-mail-reply":"EB85","fa-male":"EB86","fa-map-marker":"EB87","fa-map-o":"EB88","fa-map-pin":"EB89","fa-map-signs":"EB8A","fa-map":"EB8B","fa-mars-double":"EB8C","fa-mars-stroke-h":"EB8D","fa-mars-stroke-v":"EB8E","fa-mars-stroke":"EB8F","fa-mars":"EB90","fa-maxcdn":"EB91","fa-meanpath":"EB92","fa-medium":"EB93","fa-medkit":"EB94","fa-meetup":"EB95","fa-meh-o":"EB96","fa-mercury":"EB97","fa-microchip":"EB98","fa-microphone-slash":"EB99","fa-microphone":"EB9A","fa-minus-circle":"EB9B","fa-minus-square-o":"EB9C","fa-minus-square":"EB9D","fa-minus":"EB9E","fa-mixcloud":"EB9F","fa-mobile":"EBA0","fa-modx":"EBA1","fa-money":"EBA2","fa-moon-o":"EBA3","fa-motorcycle":"EBA4","fa-mouse-pointer":"EBA5","fa-music":"EBA6","fa-neuter":"EBA7","fa-newspaper-o":"EBA8","fa-object-group":"EBA9","fa-object-ungroup":"EBAA","fa-odnoklassniki-square":"EBAB","fa-odnoklassniki":"EBAC","fa-opencart":"EBAD","fa-openid":"EBAE","fa-opera":"EBAF","fa-optin-monster":"EBB0","fa-pagelines":"EBB1","fa-paint-brush":"EBB2","fa-paper-plane-o":"EBB3","fa-paper-plane":"EBB4","fa-paperclip":"EBB5","fa-paragraph":"EBB6","fa-pause-circle-o":"EBB7","fa-pause-circle":"EBB8","fa-pause":"EBB9","fa-paw":"EBBA","fa-paypal":"EBBB","fa-pencil-square":"EBBC","fa-pencil":"EBBD","fa-percent":"EBBE","fa-phone-square":"EBBF","fa-phone":"EBC0","fa-pie-chart":"EBC1","fa-pied-piper-alt":"EBC2","fa-pied-piper-pp":"EBC3","fa-pied-piper":"EBC4","fa-pinterest-p":"EBC5","fa-pinterest-square":"EBC6","fa-pinterest":"EBC7","fa-plane":"EBC8","fa-play-circle-o":"EBC9","fa-play-circle":"EBCA","fa-play":"EBCB","fa-plug":"EBCC","fa-plus-circle":"EBCD","fa-plus-square-o":"EBCE","fa-plus-square":"EBCF","fa-plus":"EBD0","fa-podcast":"EBD1","fa-power-off":"EBD2","fa-print":"EBD3","fa-product-hunt":"EBD4","fa-puzzle-piece":"EBD5","fa-qq":"EBD6","fa-qrcode":"EBD7","fa-question-circle-o":"EBD8","fa-question-circle":"EBD9","fa-question":"EBDA","fa-quora":"EBDB","fa-quote-left":"EBDC","fa-quote-right":"EBDD","fa-ra":"EBDE","fa-random":"EBDF","fa-ravelry":"EBE0","fa-recycle":"EBE1","fa-reddit-alien":"EBE2","fa-reddit-square":"EBE3","fa-reddit":"EBE4","fa-refresh":"EBE5","fa-registered":"EBE6","fa-renren":"EBE7","fa-repeat":"EBE8","fa-retweet":"EBE9","fa-road":"EBEA","fa-rocket":"EBEB","fa-rotate-left":"EBEC","fa-rouble":"EBED","fa-rss-square":"EBEE","fa-safari":"EBEF","fa-scribd":"EBF0","fa-search-minus":"EBF1","fa-search-plus":"EBF2","fa-search":"EBF3","fa-sellsy":"EBF4","fa-server":"EBF5","fa-share-alt-square":"EBF6","fa-share-alt":"EBF7","fa-share-square-o":"EBF8","fa-share-square":"EBF9","fa-shield":"EBFA","fa-ship":"EBFB","fa-shirtsinbulk":"EBFC","fa-shopping-bag":"EBFD","fa-shopping-basket":"EBFE","fa-shopping-cart":"EBFF","fa-shower":"EC00","fa-sign-in":"EC01","fa-sign-language":"EC02","fa-sign-out":"EC03","fa-signal":"EC04","fa-simplybuilt":"EC05","fa-sitemap":"EC06","fa-skyatlas":"EC07","fa-skype":"EC08","fa-slack-hash":"EC09","fa-slack":"EC0A","fa-sliders":"EC0B","fa-slideshare":"EC0C","fa-smile-o":"EC0D","fa-snapchat-ghost":"EC0E","fa-snapchat-square":"EC0F","fa-snapchat":"EC10","fa-snowflake-o":"EC11","fa-sort-alpha-asc":"EC12","fa-sort-alpha-desc":"EC13","fa-sort-amount-asc":"EC14","fa-sort-amount-desc":"EC15","fa-sort-asc":"EC16","fa-sort-desc":"EC17","fa-sort-numeric-asc":"EC18","fa-sort-numeric-desc":"EC19","fa-sort":"EC1A","fa-soundcloud":"EC1B","fa-space-shuttle":"EC1C","fa-spinner":"EC1D","fa-spoon":"EC1E","fa-spotify":"EC1F","fa-square-o":"EC20","fa-square":"EC21","fa-stack-exchange":"EC22","fa-stack-overflow":"EC23","fa-star-half-empty":"EC24","fa-star-half":"EC25","fa-star-o":"EC26","fa-star":"EC27","fa-steam-square":"EC28","fa-steam":"EC29","fa-step-backward":"EC2A","fa-step-forward":"EC2B","fa-stethoscope":"EC2C","fa-sticky-note-o":"EC2D","fa-sticky-note":"EC2E","fa-stop-circle-o":"EC2F","fa-stop-circle":"EC30","fa-stop":"EC31","fa-street-view":"EC32","fa-strikethrough":"EC33","fa-stumbleupon-circle":"EC34","fa-stumbleupon":"EC35","fa-subscript":"EC36","fa-subway":"EC37","fa-suitcase":"EC38","fa-sun-o":"EC39","fa-superpowers":"EC3A","fa-superscript":"EC3B","fa-table":"EC3C","fa-tablet":"EC3D","fa-tag":"EC3E","fa-tags":"EC3F","fa-tasks":"EC40","fa-telegram":"EC41","fa-television":"EC42","fa-tencent-weibo":"EC43","fa-terminal":"EC44","fa-text-height":"EC45","fa-text-width":"EC46","fa-th-large":"EC47","fa-th-list":"EC48","fa-th":"EC49","fa-themeisle":"EC4A","fa-thermometer-0":"EC4B","fa-thermometer-1":"EC4C","fa-thermometer-2":"EC4D","fa-thermometer-3":"EC4E","fa-thermometer":"EC4F","fa-thumb-tack":"EC50","fa-thumbs-down":"EC51","fa-thumbs-o-down":"EC52","fa-thumbs-o-up":"EC53","fa-thumbs-up":"EC54","fa-ticket":"EC55","fa-times-circle-o":"EC56","fa-times-circle":"EC57","fa-times-rectangle-o":"EC58","fa-times-rectangle":"EC59","fa-tint":"EC5A","fa-toggle-off":"EC5B","fa-toggle-on":"EC5C","fa-trademark":"EC5D","fa-train":"EC5E","fa-transgender-alt":"EC5F","fa-trash-o":"EC60","fa-trash":"EC61","fa-tree":"EC62","fa-trello":"EC63","fa-tripadvisor":"EC64","fa-trophy":"EC65","fa-truck":"EC66","fa-try":"EC67","fa-tty":"EC68","fa-tumblr-square":"EC69","fa-tumblr":"EC6A","fa-twitch":"EC6B","fa-twitter-square":"EC6C","fa-twitter":"EC6D","fa-umbrella":"EC6E","fa-underline":"EC6F","fa-universal-access":"EC70","fa-unlock-alt":"EC71","fa-unlock":"EC72","fa-upload":"EC73","fa-usb":"EC74","fa-user-circle-o":"EC75","fa-user-circle":"EC76","fa-user-md":"EC77","fa-user-o":"EC78","fa-user-plus":"EC79","fa-user-secret":"EC7A","fa-user-times":"EC7B","fa-user":"EC7C","fa-venus-double":"EC7D","fa-venus-mars":"EC7E","fa-venus":"EC7F","fa-viacoin":"EC80","fa-viadeo-square":"EC81","fa-viadeo":"EC82","fa-video-camera":"EC83","fa-vimeo-square":"EC84","fa-vimeo":"EC85","fa-vine":"EC86","fa-vk":"EC87","fa-volume-control-phone":"EC88","fa-volume-down":"EC89","fa-volume-off":"EC8A","fa-volume-up":"EC8B","fa-wechat":"EC8C","fa-weibo":"EC8D","fa-whatsapp":"EC8E","fa-wheelchair-alt":"EC8F","fa-wheelchair":"EC90","fa-wifi":"EC91","fa-wikipedia-w":"EC92","fa-window-maximize":"EC93","fa-window-minimize":"EC94","fa-window-restore":"EC95","fa-windows":"EC96","fa-wordpress":"EC97","fa-wpbeginner":"EC98","fa-wpexplorer":"EC99","fa-wpforms":"EC9A","fa-wrench":"EC9B","fa-xing-square":"EC9C","fa-xing":"EC9D","fa-y-combinator":"EC9E","fa-yahoo":"EC9F","fa-yelp":"ECA0","fa-yoast":"ECA1","fa-youtube-play":"ECA2","fa-youtube-square":"ECA3","fa-youtube":"ECA4"}},function(module){module.exports={"fa-accepted":"fa-check","fa-apply":"fa-check","fa-authorized":"fa-check","fa-blocked":"fa-minus-circle","fa-cancel":"fa-ban","fa-connected":"fa-check-circle","fa-copy":"fa-files-o","fa-custom-action":"fa-circle-o","fa-denied":"fa-ban","fa-device-android":"fa-android","fa-device-apple":"fa-apple","fa-device-windows":"fa-windows","fa-disable":"fa-times-circle","fa-disabled":"fa-times-circle","fa-discard":"fa-ban","fa-disconnected":"fa-minus-circle","fa-dismiss":"fa-close","fa-enable":"fa-check-circle","fa-enabled":"fa-check-circle","fa-endpoint-compliant":"fa-check","fa-endpoint-exempt":"fa-check","fa-endpoint-no-fortitelemetry":"fa-exclamation-triangle","fa-endpoint-non-compliant":"fa-exclamation-triangle","fa-error":"fa-exclamation-circle","fa-ethernet":"fa-sitemap","fa-exempt":"fa-minus-circle","fa-expired":"fa-exclamation-circle","fa-fake-ap":"fa-user-secret","fa-favorite":"fa-star","fa-fortilink":"fa-chain","fa-guest":"fa-group","fa-ha-disconnect":"fa-close","fa-help-info":"fa-info-circle","fa-link":"fa-chain","fa-link-down-disabled":"fa-chain","fa-link-up":"fa-chain","fa-list-plus":"fa-list","fa-loading":"fa-spinner","fa-monitor":"fa-eye","fa-negate":"fa-exclamation-circle","fa-notification":"fa-bell-o","fa-offline":"fa-circle","fa-online":"fa-circle","fa-poe":"fa-bolt","fa-poe-disabled":"fa-times-circle","fa-poe-powered":"fa-bolt","fa-poe-up":"fa-arrow-circle-up","fa-power":"fa-bars","fa-profile-feature-proxy":"fa-product-hunt","fa-recording":"fa-circle","fa-remove-folder":"fa-folder-o","fa-reset":"fa-repeat","fa-severity-critical":"fa-exclamation-circle","fa-severity-high":"fa-exclamation-triangle","fa-severity-low":"fa-info-circle","fa-severity-medium":"fa-exclamation-triangle","fa-severity-none":"fa-check-circle","fa-status-down":"fa-arrow-circle-down","fa-status-down-disabled":"fa-arrow-circle-down","fa-status-poe-disabled":"fa-times-circle","fa-status-poe-down":"fa-arrow-circle-down","fa-status-poe-down-disabled":"fa-arrow-circle-down","fa-status-poe-powered":"fa-arrow-circle-up","fa-status-poe-up":"fa-arrow-circle-up","fa-status-up":"fa-arrow-circle-up","fa-success":"fa-check-circle","fa-times":"fa-close","fa-undo":"fa-rotate-left","fa-unknown":"fa-question-circle","fa-user-authenticated":"fa-user","fa-user-firewall":"fa-user","fa-user-local":"fa-user","fa-user-ntlm":"fa-windows","fa-user-unauthenticated":"fa-user","fa-user-unknown":"fa-user","fa-users":"fa-group","fa-warning":"fa-exclamation-triangle","fa-wifi-disabled":"fa-wifi","fa-wifi-down-disabled":"fa-wifi","fa-wifi-up":"fa-wifi","fa-wsso-service":"fa-wifi","fa-zone-down":"fa-square-o","fa-zone-up":"fa-square-o","ftnt-48px-symantec":"ftnt-48px-symantec-circle","ftnt-address-dynamic":"ftnt-ldap-organization","ftnt-address-global-wildcard-fqdn":"ftnt-address-wildcard-fqdn","ftnt-address-invalid-dynamic":"ftnt-ldap-organization","ftnt-address-invalid-fqdn":"ftnt-address-fqdn","ftnt-adhoc-down":"ftnt-adhoc","ftnt-adhoc-up":"ftnt-adhoc","ftnt-aggregate-down":"ftnt-aggregate","ftnt-aggregate-down-disabled":"ftnt-aggregate","ftnt-aggregate-up":"ftnt-aggregate","ftnt-application-group":"ftnt-folder-group","ftnt-device-fortinet":"ftnt-fortinet-grid","ftnt-enforce-fortiheartbeat":"ftnt-forticlient","ftnt-expired-schedule":"ftnt-schedule","ftnt-faceplate-port-filtered":"ftnt-interface-filtered","ftnt-faceplate-port-fortilink":"ftnt-interface-fortilink","ftnt-faceplate-port-fortilink-down":"ftnt-interface-fortilink","ftnt-faceplate-port-fortilink-up":"ftnt-interface-fortilink","ftnt-faceplate-port-modem":"ftnt-interface-modem","ftnt-faceplate-port-modem-down":"ftnt-interface-modem","ftnt-faceplate-port-modem-up":"ftnt-interface-modem","ftnt-faceplate-port-rj11":"ftnt-interface-rj11","ftnt-faceplate-port-rj11-down":"ftnt-interface-rj11","ftnt-faceplate-port-rj11-half-duplex":"ftnt-interface-rj11-half-duplex","ftnt-faceplate-port-rj11-up":"ftnt-interface-rj11","ftnt-faceplate-port-rj45":"ftnt-interface-rj45","ftnt-faceplate-port-rj45-down":"ftnt-interface-rj45","ftnt-faceplate-port-rj45-half-duplex":"ftnt-interface-rj45-half-duplex","ftnt-faceplate-port-rj45-up":"ftnt-interface-rj45","ftnt-faceplate-port-sfp":"ftnt-interface-sfp","ftnt-faceplate-port-sfp-down":"ftnt-interface-sfp","ftnt-faceplate-port-sfp-half-duplex":"ftnt-interface-sfp-half-duplex","ftnt-faceplate-port-sfp-up":"ftnt-interface-sfp","ftnt-forticlient-blocked":"ftnt-forticlient","ftnt-forticlient-captive":"ftnt-forticlient","ftnt-forticlient-quarantined":"ftnt-forticlient","ftnt-forticlient-registered":"ftnt-forticlient","ftnt-forticlient-registered-offline":"ftnt-forticlient","ftnt-forticlient-registered-offnet":"ftnt-forticlient","ftnt-forticlient-registered-onnet":"ftnt-forticlient","ftnt-forticlient-unregistered":"ftnt-forticlient","ftnt-forticontroller-trunk":"ftnt-load-balance","ftnt-forticontroller-trunk-down":"ftnt-load-balance","ftnt-forticontroller-trunk-down-disabled":"ftnt-load-balance","ftnt-forticontroller-trunk-up":"ftnt-load-balance","ftnt-fortiextender-down":"ftnt-fortiextender","ftnt-fortiextender-down-disabled":"ftnt-fortiextender","ftnt-fortiextender-up":"ftnt-fortiextender","ftnt-fortimail-disabled":"ftnt-fortimail","ftnt-fortiswitch-block":"ftnt-ring-network","ftnt-ha-heartbeat":"fa-heartbeat","ftnt-ha-mgmt":"fa-cog","ftnt-ha-monitor":"fa-eye","ftnt-interface":"ftnt-interface-rj45","ftnt-interface-down":"ftnt-interface-rj45","ftnt-interface-down-disabled":"ftnt-interface-rj45","ftnt-interface-rj11-down":"ftnt-interface-rj11","ftnt-interface-rj11-down-disabled":"ftnt-interface-rj11","ftnt-interface-rj11-poe-up":"ftnt-interface-rj11","ftnt-interface-rj11-up":"ftnt-interface-rj11","ftnt-interface-rj45-down":"ftnt-interface-rj45","ftnt-interface-rj45-down-disabled":"ftnt-interface-rj45","ftnt-interface-rj45-poe-up":"ftnt-interface-rj45","ftnt-interface-rj45-up":"ftnt-interface-rj45","ftnt-interface-sfp-down":"ftnt-interface-sfp","ftnt-interface-sfp-down-disabled":"ftnt-interface-sfp","ftnt-interface-sfp-poe-up":"ftnt-interface-sfp","ftnt-interface-sfp-up":"ftnt-interface-sfp","ftnt-interface-up":"ftnt-interface-rj45","ftnt-ioc-alert":"ftnt-ioc","ftnt-ip-pool-exhausted":"ftnt-ip-pool","ftnt-ipsec-aggregate-disabled":"ftnt-ipsec-aggregate","ftnt-ipsec-aggregate-down":"ftnt-ipsec-aggregate","ftnt-ipsec-aggregate-up":"ftnt-ipsec-aggregate","ftnt-ipsec-vpn-custom":"ftnt-laptop","ftnt-ipsec-vpn-dialup-android":"fa-android","ftnt-ipsec-vpn-dialup-cisco":"ftnt-cisco","ftnt-ipsec-vpn-dialup-cisco-fw":"ftnt-cisco","ftnt-ipsec-vpn-dialup-forticlient":"ftnt-fortinet-grid","ftnt-ipsec-vpn-dialup-fortigate":"ftnt-fortinet-grid","ftnt-ipsec-vpn-dialup-ios":"fa-apple","ftnt-ipsec-vpn-dialup-windows":"fa-windows","ftnt-ipsec-vpn-hub-fortigate-auto-discovery":"ftnt-fortinet-grid","ftnt-ipsec-vpn-simplified-static-fortigate":"ftnt-fortinet-grid","ftnt-ipsec-vpn-spoke-fortigate-auto-discovery":"ftnt-fortinet-grid","ftnt-ipsec-vpn-static-cisco":"ftnt-cisco","ftnt-ipsec-vpn-static-fortigate":"ftnt-fortinet-grid","ftnt-loopback-down-disabled":"ftnt-loopback","ftnt-loopback-up":"ftnt-loopback","ftnt-npu-vdom-link":"ftnt-npu","ftnt-npu-vdom-link-down":"ftnt-npu","ftnt-npu-vdom-link-down-disabled":"ftnt-npu","ftnt-npu-vdom-link-up":"ftnt-npu","ftnt-quarantine":"ftnt-checkered-top-right-bottom-left","ftnt-sdn-azure":"ftnt-azure-o-no-border","ftnt-sdn-cisco":"ftnt-cisco","ftnt-sdn-esxi":"ftnt-esxi","ftnt-sdn-ibm":"ftnt-ibm","ftnt-sdn-kubernetes":"ftnt-kubernetes","ftnt-sdn-openstack":"ftnt-openstack","ftnt-sdn-oracle-oci":"ftnt-oracle-oci","ftnt-security-fabric-fortigate":"ftnt-fortigate","ftnt-suppressed-rogue-ap":"ftnt-rogue-ap","ftnt-switch-down":"ftnt-switch","ftnt-switch-down-disabled":"ftnt-switch","ftnt-switch-up":"ftnt-switch","ftnt-symantec":"ftnt-symantec-circle","ftnt-truncated-security-fabric":"fa-ellipsis-v","ftnt-vap-group":"fa-wifi","ftnt-vap-local-bridging":"ftnt-wifi-bridging","ftnt-vap-mesh-backhaul":"ftnt-wifi-mesh","ftnt-vap-traffic-normal":"ftnt-wifi-controller","ftnt-virtual-wan-link-down":"ftnt-virtual-wan-link","ftnt-virtual-wan-link-down-disabled":"ftnt-virtual-wan-link","ftnt-virtual-wan-link-up":"ftnt-virtual-wan-link","ftnt-vlan-down":"ftnt-vlan","ftnt-vlan-down-disabled":"ftnt-vlan","ftnt-vlan-up":"ftnt-vlan","ftnt-vpn-tunnel-down-disabled":"ftnt-vpn-tunnel","ftnt-vpn-tunnel-down":"ftnt-vpn-tunnel","ftnt-vpn-tunnel-up":"ftnt-vpn-tunnel","ftnt-web-proxy":"ftnt-address-explicit-proxy","ftnt-webhook":"ftnt-hook-triangle-left"}},function(module){module.exports={"fa-accepted":"green","fa-apply":"green","fa-authorized":"green","fa-blocked":"red","fa-cancel":"red","fa-connected":"green","fa-denied":"red","fa-device-android":"device-android","fa-device-apple":"device-apple","fa-device-windows":"device-windows","fa-disable":"red","fa-disabled":"red","fa-disconnected":"red","fa-enable":"green","fa-enabled":"green","fa-endpoint-compliant":"green","fa-endpoint-exempt":"gray","fa-endpoint-non-compliant":"orange","fa-error":"red","fa-exempt":"gray","fa-expired":"yellow","fa-favorite":"yellow","fa-fortilink":"teal","fa-forward":"green","fa-discard":"orange","fa-help-info":"blue","fa-link-down-disabled":"gray","fa-link-up":"green","fa-loading":"wait","fa-monitor":"blue","fa-negate":"red","fa-offline":"red","fa-online":"green","fa-profile-feature-proxy":"red","fa-poe":"gray","fa-poe-disabled":"gray","fa-poe-powered":"blue","fa-power":"green","fa-recording":"red","fa-severity-none":"green","fa-status-down":"red","fa-status-down-disabled":"gray","fa-status-poe-disabled":"gray","fa-status-poe-down":"red","fa-status-poe-down-disabled":"gray","fa-status-poe-powered":"green","fa-status-poe-up":"green","fa-status-up":"green","fa-unknown":"gray","fa-user-unknown":"gray","fa-warning":"yellow","fa-wifi-disabled":"gray","fa-wifi-down-disabled":"gray","fa-wifi-up":"green","fa-zone-down":"red","fa-zone-up":"green","ftnt-48px-active-directory":"device-windows","ftnt-48px-azure":"azure-blue","ftnt-48px-cisco-aci":"cisco-blue","ftnt-48px-exchange":"exchange-blue","ftnt-48px-forticlient-ems":"ems-green","ftnt-48px-fortinac":"red","ftnt-48px-fortinet-grid":"red","ftnt-48px-ibm":"ibm-blue","ftnt-48px-kubernetes":"kubernetes-blue","ftnt-48px-openstack-text":"openstack-red","ftnt-48px-oracle-oci":"oracle-red","ftnt-48px-symantec-circle":"symantec-yellow","ftnt-48px-vmware":"vmware-green","ftnt-48px-vmware-esxi":"vmware-green","ftnt-adhoc-down":"gray","ftnt-adhoc-up":"green","ftnt-aggregate-down":"red","ftnt-aggregate-down-disabled":"gray","ftnt-aggregate-up":"green","ftnt-device-fortinet":"red","ftnt-exchange":"exchange-blue","ftnt-fortiap-connected":"green","ftnt-fortiap-disconnected":"red","ftnt-fortiap-discovered":"gray","ftnt-forticlient-registered":"green","ftnt-forticlient-registered-offline":"gray","ftnt-forticlient-registered-offnet":"orange","ftnt-forticlient-registered-onnet":"green","ftnt-forticontroller-trunk-down":"red","ftnt-forticontroller-trunk-down-disabled":"gray","ftnt-forticontroller-trunk-up":"green","ftnt-fortiextender-down":"red","ftnt-fortiextender-down-disabled":"gray","ftnt-fortiextender-up":"green","ftnt-fortigate":"red","ftnt-fortiswitch":"green","ftnt-ha-heartbeat":"red","ftnt-ha-mgmt":"brown","ftnt-ha-monitor":"blue","ftnt-interface-down":"red","ftnt-interface-down-disabled":"gray","ftnt-interface-rj11-down":"red","ftnt-interface-rj11-down-disabled":"gray","ftnt-interface-rj11-poe-up":"poe","ftnt-interface-rj11-up":"green","ftnt-interface-rj45-down":"red","ftnt-interface-rj45-down-disabled":"gray","ftnt-interface-rj45-poe-up":"poe","ftnt-interface-rj45-up":"green","ftnt-interface-sfp-down":"red","ftnt-interface-sfp-down-disabled":"gray","ftnt-interface-sfp-poe-up":"poe","ftnt-interface-sfp-up":"green","ftnt-interface-up":"green","ftnt-ioc-alert":"red","ftnt-ipsec-aggregate-disabled":"gray","ftnt-ipsec-aggregate-down":"red","ftnt-ipsec-aggregate-up":"green","ftnt-ipsec-vpn-dialup-android":"device-android","ftnt-ipsec-vpn-dialup-forticlient":"red","ftnt-ipsec-vpn-dialup-fortigate":"red","ftnt-ipsec-vpn-dialup-ios":"device-apple","ftnt-ipsec-vpn-dialup-windows":"device-windows","ftnt-ipsec-vpn-hub-fortigate-auto-discovery":"red","ftnt-ipsec-vpn-simplified-static-fortigate":"red","ftnt-ipsec-vpn-spoke-fortigate-auto-discovery":"red","ftnt-ipsec-vpn-static-fortigate":"red","ftnt-loopback-down-disabled":"gray","ftnt-loopback-up":"green","ftnt-npu-vdom-link-down":"red","ftnt-npu-vdom-link-down-disabled":"gray","ftnt-npu-vdom-link-up":"green","ftnt-sdn-azure":"azure-blue","ftnt-sdn-cisco":"cisco-blue","ftnt-sdn-ibm":"ibm-blue","ftnt-sdn-kubernetes":"kubernetes-blue","ftnt-sdn-openstack":"openstack-red","ftnt-sdn-oracle-oci":"oracle-red","ftnt-switch-down":"red","ftnt-switch-down-disabled":"gray","ftnt-switch-up":"green","ftnt-symnantec-circle":"symantec-yellow","ftnt-virtual-wan-link-down":"red","ftnt-virtual-wan-link-down-disabled":"gray","ftnt-virtual-wan-link-up":"green","ftnt-vlan-down":"red","ftnt-vlan-down-disabled":"gray","ftnt-vlan-up":"green","ftnt-vpn-tunnel-down-disabled":"gray","ftnt-vpn-tunnel-down":"red","ftnt-vpn-tunnel-up":"green"}},function(module){module.exports={"amazon-orange":"rgb(255, 153, 0)","azure-blue":"rgb(0, 113, 197)",black:"rgb(0, 0, 0)",blue:"rgb(35, 96, 147)",brown:"rgb(210, 105, 30)","cisco-blue":"rgb(9, 159, 217)","csf-connected":"rgb(83, 163, 224)",default:"rgb(38, 38, 38)","device-android":"rgb(164, 198, 73)","device-apple":"rgb(120, 120, 120)","device-windows":"rgb(9, 74, 178)","ems-green":"rgb(12, 126, 104)","exchange-blue":"rgb(0, 120, 212)","gcp-blue":"rgb(66, 133, 244)",gray:"rgb(150, 150, 150)",green:"rgb(129, 188, 0)","ibm-blue":"rgb(31, 112, 193)","kubernetes-blue":"rgb(27, 109, 225)","lime-green":"rgb(0, 215, 60)","openstack-red":"rgb(246, 32, 58)","oracle-red":"rgb(255, 98, 1)",orange:"rgb(255, 149, 0)",poe:"rgb(0, 122, 255)",red:"rgb(220, 41, 30)","symantec-yellow":"rgb(249, 185, 57)",teal:"rgb(49, 122, 143)","vmware-green":"rgb(12, 126, 104)",wait:"rgb(0, 139, 16)",white:"rgb(255, 255, 255)",yellow:"rgb(240, 173, 78)"}},function(module,exports,__webpack_require__){"use strict";module.exports=class{constructor(sourceLabel,searchKeys){this.label=sourceLabel,this.searchKeys=searchKeys}}},function(module,exports,__webpack_require__){"use strict";module.exports=class{constructor(title,searchSources){this.title=title,this.searchSources=searchSources}}},function(module,exports,__webpack_require__){"use strict";module.exports=class{constructor(matchedIds){this.matchedIds=matchedIds}matches(id){return!this.matchedIds||this.matchedIds.has(id)}}},function(module,exports,__webpack_require__){"use strict";const topologyParser=__webpack_require__(391);module.exports=class{constructor(data){this.data=this._transformGraph(data)}_transformGraph(data){if(!data||!data.topology)throw new Error("Invalid topology document data.");let topology=data.topology;if(topology.edges&&topology.nodes){const spanningTree=topologyParser.graphToSpanningTree(data.topology),interactTypeOrders=topology.interactTypeOrders||["fortigate","fortiswitch","fortiap","fortinac","generic-fabric-device","servers","server-group","endpoint-devices","os-group","hardware-vendor-group"];topologyParser.sortAllChildrenInSpanningTree(spanningTree,interactTypeOrders),data.nodes=topology.nodes,data.edges=topology.edges,data.topology=spanningTree.tree}return data}}},function(module,exports,__webpack_require__){"use strict";module.exports=class{constructor(searchEnabled,searchInformation,physicalTopology){this.searchEnabled=searchEnabled,this.searchInformation=searchInformation,this.physicalTopology=physicalTopology}}},function(module,exports,__webpack_require__){"use strict";const TOPOLOGY=__webpack_require__(56).TOPOLOGY,NO_SEARCH_MATCH=TOPOLOGY.CLASS.NO_SEARCH_MATCH,chartUtil=__webpack_require__(60),BaseTopologyNode=__webpack_require__(70),IconNode=__webpack_require__(218),IconNodeWithTable=__webpack_require__(396);class IconGroupNode extends BaseTopologyNode{constructor(data,parentId){super(),this.$parentId=parentId,this.validateAndSetRequiredKeys(data),this._preProcess(data)}get $PROPERTIES(){return IconGroupNode.PROPERTIES}static get d3SelectorClass(){return"icon-group-node"}_preProcess(data){const members=[Object.assign({},data,{type:"icon"}),...this.iconGroupMembers];this.members=members.map(member=>{let ClassModel;return new(ClassModel=Array.isArray(member.tableContent)?IconNodeWithTable:IconNode)(member,this.$parentId)})}static createNodeGAttrsFn(searchState){return selection=>{selection.attr("transform",chartUtil.transformOffset).attr("class",d=>{let className=IconGroupNode.d3SelectorClass;const id=BaseTopologyNode.d3KeyFn(d);return searchState&&!searchState.matches(id)&&(className=`${className} ${NO_SEARCH_MATCH}`),className})}}static rectAttrs(selection){selection.attr("width",d=>d.width).attr("height",d=>d.height).style("stroke","green").style("stroke-dasharray","5,5").style("fill","none")}static textAttrs(selection){selection.attr("x",d=>d.width/2).attr("dy",TOPOLOGY.HA.TEXT.DY).attr("text-anchor","middle").attr("font-weight","bold").text(d=>d.iconGroupLabel)}static nodeContent(selection){selection.append("rect").call(IconGroupNode.rectAttrs),selection.append("text").call(IconGroupNode.textAttrs)}get width(){return TOPOLOGY.FABRIC_DEVICE.ROW.WIDTH+2*TOPOLOGY.HA.PADDING.H}get height(){const memberHeight=this.members.reduce((acc,iconNode)=>acc+iconNode.topMargin+iconNode.height+TOPOLOGY.CHART_OBJECT.MARGIN.V,0);return this.paddingTop+memberHeight+this.paddingBottom}getRightMidpoint(tableRowId){const first=this.members&&this.members[0];return first?first.getRightMidpoint(tableRowId):0}getLeftMidpoint(tableRowId){const first=this.members&&this.members[0];return first?first.getLeftMidpoint(tableRowId):0}get paddingTop(){return TOPOLOGY.HA.PADDING.TOP}get paddingBottom(){return TOPOLOGY.HA.PADDING.BOTTOM}}IconGroupNode.PROPERTIES=[{name:"iconGroupMembers",required:!0},{name:"iconGroupLabel",required:!0}],module.exports=IconGroupNode},function(module,exports,__webpack_require__){"use strict";const d3=__webpack_require__(48),TOPOLOGY=__webpack_require__(56).TOPOLOGY,NO_SEARCH_MATCH=TOPOLOGY.CLASS.NO_SEARCH_MATCH,ContainerNode=__webpack_require__(166),BaseTopologyNode=__webpack_require__(70),Toggle=__webpack_require__(128),chartUtil=__webpack_require__(60),OUTER_RADIUS=TOPOLOGY.FABRIC_DEVICE.ROW.WIDTH/2,INNER_RADIUS=OUTER_RADIUS*TOPOLOGY.DONUT.INNER_RADIUS_RATIO;class PieData{constructor(entries,groupingMethod){this.pies=[],this.total=0,this.label="",groupingMethod(this,entries)}}class DonutContainerNode extends ContainerNode{constructor(data,groupingMethod){super(data),this.pieData=null,this._calculatePieData(groupingMethod)}get $PROPERTIES(){return DonutContainerNode.PROPERTIES}_calculatePieData(groupingMethod){this.pieData=new PieData(this.contents,groupingMethod),this.pieData.label=this.donutLabel,this.pieData.pies=this.pieData.pies.map(pie=>Object.assign(pie,{parentId:this.id,interactType:`${this.interactType}::donut-path`}))}static get d3SelectorClass(){return"donut-container"}static get d3PathSelectorClass(){return"donut-path"}static createNodeGAttrsFn(searchState){return selection=>{selection.attr("transform",chartUtil.transformDonut).attr("class",d=>{let className=DonutContainerNode.d3SelectorClass;const id=BaseTopologyNode.d3KeyFn(d);return searchState&&!searchState.matches(id)&&(className=`${className} ${NO_SEARCH_MATCH}`),className})}}static innerCircleAttrs(selection){selection.attr("r",INNER_RADIUS).attr("fill","white")}static donutCenterNumberAttrs(selection){selection.attr("class","donut-center-number").attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size",d=>{const len=`${d.pieData&&d.pieData.total||""}`.length+1,innerSquareSideLength=chartUtil.pluckInnerSquareSideLength({r:INNER_RADIUS}),maxTextHeight=innerSquareSideLength,maxTextWidth=innerSquareSideLength/len,textFontSize=Math.min(maxTextWidth,maxTextHeight);return chartUtil.toPx(textFontSize)}).text(d=>d.pieData&&d.pieData.total||"")}static donutCenterLabelAttrs(selection){selection.attr("class","donut-center-text").attr("text-anchor","middle").attr("dominant-baseline","middle").attr("dy",2.5*TOPOLOGY.BUBBLE.TEXT.SIZE).attr("font-size",1.8*TOPOLOGY.BUBBLE.TEXT.SIZE).text(d=>d.pieData&&d.pieData.label||"")}static createPiePathAttrsFn(zoomState){const color=d3.scaleOrdinal(d3.schemeCategory10);return selection=>{selection.attr("interact-type",d=>d.interactType).attr("class",`${TOPOLOGY.CLASS.CUSTOM_ZOOM} ${DonutContainerNode.d3PathSelectorClass}`).style("fill",(d,i)=>color(i)).style("cursor",d=>{return d.parentId===zoomState.currentZoomInDonutId?"zoom-out":"zoom-in"})}}static createPiePathContentFn(clickHandlerFn,piePathAttrsFn){return selection=>{const arc=d3.arc().innerRadius(INNER_RADIUS).outerRadius(OUTER_RADIUS),pruneData=object=>{let pruned=Object.assign({},object);return delete pruned.data,pruned},updateTween=function(d){let interpolate=d3.interpolateObject(this._current,pruneData(d));return this._current=interpolate(0),t=>arc(interpolate(t))},createTransition=()=>d3.transition().duration(TOPOLOGY.TRANSITION_DURATION.QUICK),paths=selection.selectAll(`path.${DonutContainerNode.d3PathSelectorClass}`).data(d=>d.pieData&&d.pieData.pies,d=>`${d.parentId}::${d.data.type}`),pathExit=paths.exit(),pathEnter=paths.enter().append("path").call(piePathAttrsFn).each(function(d){this._current=Object.assign({},pruneData(d),{startAngle:d.endAngle})});paths.merge(pathEnter).call(clickHandlerFn);let enterTransition,exitTransition=createTransition(),updateTransition=pathExit.size()?exitTransition.transition():createTransition();enterTransition=paths.size()?updateTransition.transition():pathExit.size()?exitTransition.transition():createTransition(),pathEnter.transition(enterTransition).attrTween("d",updateTween),paths.transition(updateTransition).attrTween("d",updateTween).call(piePathAttrsFn),pathExit.transition(exitTransition).attrTween("d",function(d){let end=Object.assign({},this._current,{startAngle:this._current.endAngle}),interpolate=d3.interpolateObject(d,end);return t=>arc(interpolate(t))}).remove()}}static createNodeContentFn(toggleNodeContentFn){return selection=>{selection.append("circle").call(DonutContainerNode.innerCircleAttrs),selection.append("g").call(Toggle.inDonutGAttrs).call(toggleNodeContentFn),selection.append("text").call(DonutContainerNode.donutCenterNumberAttrs),selection.append("text").call(DonutContainerNode.donutCenterLabelAttrs)}}static createDonutGroupingMethod(groupByKey,groupSumKey){return(model,entries)=>{model.total=0;const map=entries.reduce((allValues,entry)=>{const groupBy=entry[groupByKey]||"Unknown";allValues[groupBy]=allValues[groupBy]||0;const count=groupSumKey&&entry[groupSumKey]||1;return allValues[groupBy]+=count,model.total+=count,allValues},{}),pies=Object.entries(map).sort((a,b)=>b[1]-a[1]).map(([key,value])=>({type:key,count:value})),pie=d3.pie().value(d=>d.count).padAngle(TOPOLOGY.DONUT.ARC_PADDING);model.pies=pies&&pie(pies)||[]}}get height(){return TOPOLOGY.FABRIC_DEVICE.ROW.WIDTH}get width(){return TOPOLOGY.FABRIC_DEVICE.ROW.WIDTH}}DonutContainerNode.PROPERTIES=[...ContainerNode.PROPERTIES,{name:"contents",required:!0},{name:"donutLabel"},{name:"donutGroupByKey"},{name:"donutGroupSumKey"}],module.exports=DonutContainerNode},function(module,exports,__webpack_require__){"use strict";const TOPOLOGY=__webpack_require__(56).TOPOLOGY,NO_SEARCH_MATCH=TOPOLOGY.CLASS.NO_SEARCH_MATCH,chartUtil=__webpack_require__(60),BaseTopologyNode=__webpack_require__(70),ContainerNode=__webpack_require__(166),GroupNode=__webpack_require__(397);class MultiGroupNode extends ContainerNode{constructor(data){super(data);let maxMemberCount=0;this.contents.forEach(member=>{member.count>maxMemberCount&&(maxMemberCount=member.count)}),this.contents=this.contents.map(member=>new GroupNode(member,this.id,maxMemberCount)),this.contents.sort(chartUtil.sort.groupNode)}get $PROPERTIES(){return MultiGroupNode.PROPERTIES}static get d3SelectorClass(){return"multi-group-node"}static createNodeGAttrsFn(zoomState,searchState){return selection=>{selection.attr("transform",chartUtil.transformOffset).attr("class",d=>{let className=MultiGroupNode.d3SelectorClass;const id=BaseTopologyNode.d3KeyFn(d);return searchState&&!searchState.matches(id)&&(className=`${className} ${NO_SEARCH_MATCH}`),className}).style("cursor",d=>{return d.id===zoomState.currentZoomInMultiGroupId?"zoom-out":"zoom-in"})}}static onD3SelectionEnterOrUpdate(selection){const groupNodes=selection.selectAll(`g.${GroupNode.d3SelectorClass}`).data(d=>d.contents,GroupNode.d3KeyFn);groupNodes.exit().remove();const groupNodeEnter=groupNodes.enter().append("g").call(GroupNode.nodeGAttrs);groupNodeEnter.call(GroupNode.onD3SelectionEnter),groupNodes.merge(groupNodeEnter).call(GroupNode.onD3SelectionUpdate)}get width(){return TOPOLOGY.GROUP_NODE.ROW.WIDTH}get height(){return TOPOLOGY.GROUP_NODE.ROW.HEIGHT*this.contents.length}getLeftMidpoint(){return this.headLeftMidpoint}get headLeftMidpoint(){return{x:this.offset.x,y:this.offset.y+TOPOLOGY.GROUP_NODE.ROW.HEIGHT/2}}}MultiGroupNode.PROPERTIES=[...ContainerNode.PROPERTIES,{name:"contents",required:!0}],module.exports=MultiGroupNode},function(module,exports,__webpack_require__){"use strict";const TOPOLOGY=__webpack_require__(56).TOPOLOGY,{HIDDEN:HIDDEN,NO_SEARCH_MATCH:NO_SEARCH_MATCH}=TOPOLOGY.CLASS,chartUtil=__webpack_require__(60),PackContainerNode=__webpack_require__(219),Toggle=__webpack_require__(128);class CirclePackContainerNode extends PackContainerNode{constructor(data){super(data)}isCircleType(){return!0}static createNodeGAttrsFn(searchState){return selection=>{selection.attr("transform",chartUtil.transformD).attr("class",d=>{let className=CirclePackContainerNode.d3ContentSelectorClass;const id=d.data&&d.data.id;return searchState&&!searchState.matches(id)&&(className=`${className} ${NO_SEARCH_MATCH}`),className}).attr("interact-type",d=>d.data.interactType)}}static toggleGAttrs(selection){Toggle.inCirclePackGAttrs(selection)}static packGAttrs(selection){selection.attr("transform",d=>chartUtil.transformD(d.pack)).attr("class",()=>CirclePackContainerNode.d3SelectorClass).attr("interact-type",d=>d.interactType)}static get svgShape(){return"circle"}static get d3SelectorClass(){return"circle-pack"}static get d3ContentSelectorClass(){return"circle-node"}static get d3PackChildIconSelectorClass(){return"pack-child-icon"}static createPackShapeAttrsFn(zoomState){return selection=>{const cls=`${TOPOLOGY.CLASS.CUSTOM_ZOOM} `+`${CirclePackContainerNode.d3SelectorClass}`;selection.attr("r",d=>d.pack.r).attr("class",cls).style("fill",TOPOLOGY.BUBBLE.COLOR_LIGHT_GRAY).style("stroke",TOPOLOGY.BUBBLE.COLOR_GRAY).style("cursor",d=>{return d.id===zoomState.currentZoomInPackId?"zoom-out":"zoom-in"})}}static createPackChildrenMainShapeAttrsFn(zoomState){return selection=>{selection.attr("r",chartUtil.pluckR).attr("fill",d=>d.data.fillColor||TOPOLOGY.BUBBLE.COLOR_GRAY).attr("class",d=>{let cls=`${TOPOLOGY.CLASS.CUSTOM_ZOOM} `+`${CirclePackContainerNode.d3ContentSelectorClass}`;const data=d.data;return data&&data.className&&(cls=`${cls} ${data.className}`),cls}).style("cursor",d=>{return d.data.id===zoomState.currentZoomInNodeId?"zoom-out":"zoom-in"})}}static effectCircleAttrs(selection){selection.attr("r",d=>d.r).attr("fill","none").attr("class","extra-effect").attr("stroke",d=>d.value).attr("stroke-width","3px").attr("stroke-dashoffset",(d,i)=>{const segment=2*d.r*Math.PI/(d.numColor*TOPOLOGY.BUBBLE.MULTI_COLOR_BORDER_MIN_SEGMENT);return 1===d.numColor?0:chartUtil.toPx(segment*i)}).attr("stroke-dasharray",d=>{const segment=2*d.r*Math.PI/(d.numColor*TOPOLOGY.BUBBLE.MULTI_COLOR_BORDER_MIN_SEGMENT);return 1===d.numColor?chartUtil.toPx(segment):`${segment}px ${segment*(d.numColor-1)}px`})}static createIconAttrsFn(zoomState,masterIconSizeFn,masterIconDyFn){return selection=>{selection.attr("dy",d=>chartUtil.toPx(masterIconDyFn(d))).attr("font-size",d=>chartUtil.toPx(masterIconSizeFn(d))).attr("class",d=>{let cls=CirclePackContainerNode.d3PackChildIconSelectorClass;return PackContainerNode.viewableIcon(zoomState,d.$availableIconHeight)||(cls=`${cls} ${HIDDEN}`),cls}).attr("font-family",d=>d.$iconCode&&d.$iconCode.fontFamily||"").attr("text-anchor","middle").attr("fill","white").style("pointer-events","none").text(d=>d.$iconCode&&d.$iconCode.unicode||"")}}static createDescriptionAttrsFn(zoomState,descriptionType){return selection=>{const isNameText="name"===descriptionType;let txtDy,textFn;txtDy=isNameText?d=>chartUtil.toPx(d.$textFontSize/2):d=>chartUtil.toPx(4*d.r/TOPOLOGY.BUBBLE.MAX_AREA),textFn=isNameText?d=>d.data&&d.data.label||"":d=>d.data&&d.data.formattedValue||"",selection.attr("dy",txtDy).attr("font-size",d=>chartUtil.toPx(d.$textFontSize)).attr("text-anchor","middle").attr("fill","white").attr("class",d=>{let cls=descriptionType;return PackContainerNode.viewableText(zoomState,d.$textFontSize)||(cls=`${cls} ${HIDDEN}`),cls}).style("pointer-events","none").text(textFn)}}static createMasterIconSize(zoomState){return d=>PackContainerNode.viewableIcon(zoomState,d.$availableIconHeight)&&PackContainerNode.viewableText(zoomState,d.$textFontSize)?4*d.r/TOPOLOGY.BUBBLE.MAX_AREA:Math.min(d.r,TOPOLOGY.BUBBLE.ICON.MAX)}static createMasterIconDy(zoomState){return d=>PackContainerNode.viewableIcon(zoomState,d.$availableIconHeight)&&PackContainerNode.viewableText(zoomState,d.$textFontSize)?-1.5*d.r/TOPOLOGY.BUBBLE.MAX_AREA:Math.min(d.r,TOPOLOGY.BUBBLE.ICON.MAX)/2}static createBadgeAttrsFn(zoomState,roleType,masterIconSizeFn,masterIconDyFn){return selection=>{const isMainRole="main"===roleType,mainClass=isMainRole?CirclePackContainerNode.d3PackChildBadgeMainIconSelectorClass:CirclePackContainerNode.d3PackChildBadgeEffectIconSelectorClass,iconColor=d=>d.$badgeIconColor||null,iconSize=d=>masterIconSizeFn(d)*TOPOLOGY.SCALE.BUBBLE_BADGE;selection.attr("dx",d=>chartUtil.toPx(-masterIconSizeFn(d)*(1-TOPOLOGY.SCALE.BUBBLE_BADGE))).attr("dy",d=>chartUtil.toPx(masterIconDyFn(d)-iconSize(d))).attr("font-size",d=>chartUtil.toPx(iconSize(d))).attr("font-family",d=>(d.$badgeIconCodeMap[roleType]||{}).fontFamily||"").attr("class",d=>{let cls=`${mainClass}`;return PackContainerNode.viewableIcon(zoomState,d.$availableIconHeight)||(cls=`${cls} ${HIDDEN}`),cls}).attr("text-anchor","middle").style("pointer-events","none").text(d=>(d.$badgeIconCodeMap[roleType]||{}).unicode||""),isMainRole&&selection.attr("fill",iconColor)}}static addEffectCircles(selectionEnter){const circles=selectionEnter.filter(d=>Array.isArray(d.data.borderColors)).selectAll("circle.extra-effect").data(PackContainerNode.colorBorderDataFn,d=>d.id);circles.exit().remove();const circleEnter=circles.enter().append("circle");circleEnter.call(CirclePackContainerNode.effectCircleAttrs);const merged=circles.merge(circleEnter);chartUtil.quickTransition(merged,CirclePackContainerNode.effectCircleAttrs)}static createNodeContentFn(nodeGAttrsFn,mainShapeAttrsFn,clickHandlerFn,iconAttrsFn,nameAttrsFn,valueAttrsFn,badgeMainAttrsFn,badgeEffectAttrsFn){return selectionEnter=>{selectionEnter.call(nodeGAttrsFn),selectionEnter.append("circle").call(mainShapeAttrsFn).call(clickHandlerFn),CirclePackContainerNode.addEffectCircles(selectionEnter),selectionEnter.filter(d=>d.$iconCode).append("text").call(iconAttrsFn),selectionEnter.append("text").call(nameAttrsFn),selectionEnter.append("text").call(valueAttrsFn),PackContainerNode.addBadges(selectionEnter,badgeMainAttrsFn,badgeEffectAttrsFn)}}}module.exports=CirclePackContainerNode},function(module,exports,__webpack_require__){"use strict";const TOPOLOGY=__webpack_require__(56).TOPOLOGY,{HIDDEN:HIDDEN,NO_SEARCH_MATCH:NO_SEARCH_MATCH}=TOPOLOGY.CLASS,chartUtil=__webpack_require__(60),PackContainerNode=__webpack_require__(219),Toggle=__webpack_require__(128);class SquarePackContainerNode extends PackContainerNode{constructor(data){super(data)}isSquareType(){return!0}static createNodeGAttrsFn(searchState){return selection=>{selection.attr("transform",chartUtil.transformRectGroup).attr("class",d=>{let className=SquarePackContainerNode.d3ContentSelectorClass;const id=d.data&&d.data.id;return searchState&&!searchState.matches(id)&&(className=`${className} ${NO_SEARCH_MATCH}`),className}).attr("interact-type",d=>d.data.interactType)}}static toggleGAttrs(selection){Toggle.inSquarePackGAttrs(selection)}static packGAttrs(selection){selection.attr("transform",chartUtil.transformOffset).attr("class",()=>SquarePackContainerNode.d3SelectorClass).attr("interact-type",d=>d.interactType)}static get svgShape(){return"rect"}static get d3SelectorClass(){return"square-pack"}static get d3ContentSelectorClass(){return"square-node"}static get d3PackChildIconSelectorClass(){return"pack-child-icon"}static createPackShapeAttrsFn(zoomState){return selection=>{const cls=`${TOPOLOGY.CLASS.CUSTOM_ZOOM} `+`${SquarePackContainerNode.d3SelectorClass}`,size=d=>chartUtil.pluckOuterSquareSideLength(d.pack),rxy=d=>chartUtil.pluckOuterSquareRoundedCornerRadius(d.pack);selection.attr("width",size).attr("height",size).attr("rx",rxy).attr("ry",rxy).attr("class",cls).style("fill",TOPOLOGY.BUBBLE.COLOR_LIGHT_GRAY).style("stroke",TOPOLOGY.BUBBLE.COLOR_GRAY).style("cursor",d=>{return d.id===zoomState.currentZoomInPackId?"zoom-out":"zoom-in"})}}static createPackChildrenMainShapeAttrsFn(zoomState){return selection=>{const innerSize=chartUtil.pluckInnerSquareSideLength;selection.attr("width",innerSize).attr("height",innerSize).attr("rx",chartUtil.pluckInnerSquareRoundedCornerRadius).attr("ry",chartUtil.pluckInnerSquareRoundedCornerRadius).attr("fill",d=>d.data.fillColor||TOPOLOGY.BUBBLE.COLOR_GRAY).attr("class",d=>{let cls=`${TOPOLOGY.CLASS.CUSTOM_ZOOM} `+`${SquarePackContainerNode.d3ContentSelectorClass}`;const data=d.data;return data&&data.className&&(cls=`${cls} ${data.className}`),cls}).style("cursor",d=>{return d.data.id===zoomState.currentZoomInNodeId?"zoom-out":"zoom-in"})}}static effectRectAttrs(selection){const innerSize=chartUtil.pluckInnerSquareSideLength;selection.attr("width",innerSize).attr("height",innerSize).attr("rx",chartUtil.pluckInnerSquareRoundedCornerRadius).attr("ry",chartUtil.pluckInnerSquareRoundedCornerRadius).attr("fill","none").attr("class","extra-effect").attr("stroke",d=>d.value).attr("stroke-width","3px").attr("stroke-dashoffset",(d,i)=>{const segment=4*innerSize(d)/(d.numColor*TOPOLOGY.BUBBLE.MULTI_COLOR_BORDER_MIN_SEGMENT);return 1===d.numColor?0:chartUtil.toPx(segment*i)}).attr("stroke-dasharray",d=>{const segment=4*innerSize(d)/(d.numColor*TOPOLOGY.BUBBLE.MULTI_COLOR_BORDER_MIN_SEGMENT);return 1===d.numColor?chartUtil.toPx(segment):`${segment}px ${segment*(d.numColor-1)}px`})}static createIconAttrsFn(zoomState,masterIconSizeFn,masterIconDyFn){return selection=>{const iconXY=d=>(d=>chartUtil.pluckInnerSquareSideLength(d))(d)/2;selection.attr("x",iconXY).attr("y",iconXY).attr("dy",d=>chartUtil.toPx(masterIconDyFn(d))).attr("font-size",d=>chartUtil.toPx(masterIconSizeFn(d))).attr("class",d=>{let cls=SquarePackContainerNode.d3PackChildIconSelectorClass;return PackContainerNode.viewableIcon(zoomState,d.$availableIconHeight)||(cls=`${cls} ${HIDDEN}`),cls}).attr("font-family",d=>d.$iconCode&&d.$iconCode.fontFamily||"").attr("text-anchor","middle").attr("alignment-baseline","central").attr("fill","white").style("pointer-events","none").text(d=>d.$iconCode&&d.$iconCode.unicode||"")}}static createDescriptionAttrsFn(zoomState,descriptionType){return selection=>{const isNameText="name"===descriptionType;let txtDy,textFn;txtDy=isNameText?d=>chartUtil.toPx(d.$textFontSize/2):d=>chartUtil.toPx(2*chartUtil.pluckInnerSquareSideLength(d)/TOPOLOGY.BUBBLE.MAX_AREA),textFn=isNameText?d=>d.data&&d.data.label||"":d=>d.data&&d.data.value||"";const txtXY=d=>chartUtil.pluckInnerSquareSideLength(d)/2;selection.attr("x",txtXY).attr("y",txtXY).attr("dy",txtDy).attr("font-size",d=>chartUtil.toPx(d.$textFontSize)).attr("text-anchor","middle").attr("alignment-baseline","central").attr("fill","white").attr("class",d=>{let cls=descriptionType;return PackContainerNode.viewableText(zoomState,d.$textFontSize)||(cls=`${cls} ${HIDDEN}`),cls}).style("pointer-events","none").text(textFn)}}static createMasterIconSize(zoomState){return d=>{const innerSize=chartUtil.pluckInnerSquareSideLength;return PackContainerNode.viewableIcon(zoomState,d.$availableIconHeight)&&PackContainerNode.viewableText(zoomState,d.$textFontSize)?2*innerSize(d)/TOPOLOGY.BUBBLE.MAX_AREA:Math.min(1*innerSize(d)/2,2*TOPOLOGY.BUBBLE.ICON.MAX/3)}}static createMasterIconDy(zoomState){return d=>{const innerSize=chartUtil.pluckInnerSquareSideLength;return PackContainerNode.viewableIcon(zoomState,d.$availableIconHeight)&&PackContainerNode.viewableText(zoomState,d.$textFontSize)?-1.5*innerSize(d)/TOPOLOGY.BUBBLE.MAX_AREA:0}}static createBadgeAttrsFn(zoomState,roleType,masterIconSizeFn,masterIconDyFn){return selection=>{const isMainRole="main"===roleType,mainClass=isMainRole?SquarePackContainerNode.d3PackChildBadgeMainIconSelectorClass:SquarePackContainerNode.d3PackChildBadgeEffectIconSelectorClass,iconColor=d=>d.$badgeIconColor||null,iconSize=d=>masterIconSizeFn(d)*TOPOLOGY.SCALE.BUBBLE_BADGE,txtXY=d=>chartUtil.pluckInnerSquareSideLength(d)/2;selection.attr("x",txtXY).attr("y",txtXY).attr("dx",d=>chartUtil.toPx(-masterIconSizeFn(d)*(1-TOPOLOGY.SCALE.BUBBLE_BADGE))).attr("dy",d=>chartUtil.toPx(masterIconDyFn(d)-iconSize(d))).attr("font-size",d=>chartUtil.toPx(iconSize(d))).attr("font-family",d=>(d.$badgeIconCodeMap[roleType]||{}).fontFamily||"").attr("class",d=>{let cls=`${mainClass}`;return PackContainerNode.viewableIcon(zoomState,d.$availableIconHeight)||(cls=`${cls} ${HIDDEN}`),cls}).attr("text-anchor","middle").attr("alignment-baseline","central").style("pointer-events","none").text(d=>(d.$badgeIconCodeMap[roleType]||{}).unicode||""),isMainRole&&selection.attr("fill",iconColor)}}static addEffectRects(selectionEnter){const squares=selectionEnter.filter(d=>Array.isArray(d.data.borderColors)).selectAll("rect.extra-effect").data(PackContainerNode.colorBorderDataFn,d=>d.id);squares.exit().remove();const squareEnter=squares.enter().append("rect");squareEnter.call(SquarePackContainerNode.effectRectAttrs);const merged=squares.merge(squareEnter);chartUtil.quickTransition(merged,SquarePackContainerNode.effectCircleAttrs)}static createNodeContentFn(nodeGAttrsFn,mainShapeAttrsFn,clickHandlerFn,iconAttrsFn,nameAttrsFn,valueAttrsFn,badgeMainAttrsFn,badgeEffectAttrsFn){return selectionEnter=>{selectionEnter.call(nodeGAttrsFn),selectionEnter.append("rect").call(mainShapeAttrsFn).call(clickHandlerFn),SquarePackContainerNode.addEffectRects(selectionEnter),selectionEnter.filter(d=>d.$iconCode).append("text").call(iconAttrsFn),selectionEnter.append("text").call(nameAttrsFn),selectionEnter.append("text").call(valueAttrsFn),PackContainerNode.addBadges(selectionEnter,badgeMainAttrsFn,badgeEffectAttrsFn)}}}SquarePackContainerNode.PROPERTIES=[...PackContainerNode.PROPERTIES,{name:"verticalPlacement"}],module.exports=SquarePackContainerNode},function(module,exports,__webpack_require__){"use strict";const d3=__webpack_require__(48),browser=__webpack_require__(74),chartUtil=__webpack_require__(60),TOPOLOGY=__webpack_require__(56).TOPOLOGY,LinkBadge=__webpack_require__(398),NO_SEARCH_MATCH=TOPOLOGY.CLASS.NO_SEARCH_MATCH;class LinkPath{constructor(source,target,edge){this.source=source,this.target=target,edge&&edge.iconBadge&&(this.linkBadge=new LinkBadge(edge.iconBadge)),edge&&edge.interactType&&(this.interactType=edge.interactType),edge&&edge.strokeWidth&&(this.strokeWidth=edge.strokeWidth),edge&&edge.color&&(this.color=edge.color)}static get d3SelectorClass(){return"link"}static d3KeyFn(d){return`link-path-${d.source.linkId}`}static straightPath(d){const src=d.source,dst=d.target;return`M${src.x},${src.y}L${dst.x},${dst.y}`}static createCustomDiagonal(){const diagonal=d3.linkHorizontal().x(chartUtil.pluckY).y(chartUtil.pluckX).source(chartUtil.childrenDivisionMinX).target(chartUtil.parentDivisionMaxX);return(d,i)=>{const src=d.source,dst=d.target,cDivisionMinX=(src.divisionHMargin||{}).minX,pDivisionMaxX=(dst.divisionHMargin||{}).maxX;let startSegment="",endSegment="";return src.x>cDivisionMinX&&(startSegment=`M${src.x},${src.y}L${cDivisionMinX},${src.y}`),dst.x<pDivisionMaxX&&(endSegment=`M${pDivisionMaxX},${dst.y}L${dst.x},${dst.y}`),`${startSegment}${diagonal(d,i)}${endSegment}`}}static createLinkPathFn(){const customDiagonal=LinkPath.createCustomDiagonal();return(d,i)=>d.source.verticalPlacement?LinkPath.straightPath(d,i):customDiagonal(d,i)}static createPathAttrsFn(searchState,linkPathFn){return selection=>{selection.attr("class",d=>{let className=LinkPath.d3SelectorClass;const id=d.source&&d.source.linkId;return searchState&&!searchState.matches(id)&&(className=`${className} ${NO_SEARCH_MATCH}`),className}).attr("interact-type",d=>d.interactType).attr("d",linkPathFn),selection.style("fill","none").style("stroke",d=>d.color||TOPOLOGY.LINK.STROKE.COLOR).style("stroke-width",d=>d.strokeWidth||TOPOLOGY.LINK.STROKE.WIDTH)}}static onD3SelectionEnter(selectionEnter){browser.isIE()||selectionEnter.on("mouseover",function(){d3.select(this).attr("filter","url(#yellow-outline)")}).on("mouseout",function(){d3.select(this).attr("filter","")})}static yellowOutlineFilterAttrs(filter){filter.attr("id","yellow-outline").attr("filterUnits","userSpaceOnUse"),filter.append("feFlood").attr("flood-color","yellow").attr("result","base"),filter.append("feMorphology").attr("result","bigger").attr("in","SourceGraphic").attr("operator","dilate").attr("radius","3"),filter.append("feColorMatrix").attr("result","mask").attr("in","bigger").attr("type","matrix").attr("value","0 0 0 0 00 0 0 0 00 0 0 0 00 0 0 1 0"),filter.append("feComposite").attr("result","drop").attr("operator","in").attr("in","base").attr("in2","mask"),filter.append("feBlend").attr("in","SourceGraphic").attr("mode","normal").attr("in2","drop")}}module.exports=LinkPath},,,,,,,,function(module,exports,__webpack_require__){"use strict";__webpack_require__(646),__webpack_require__(647),__webpack_require__(648),__webpack_require__(649),__webpack_require__(650),__webpack_require__(651),__webpack_require__(652),__webpack_require__(653),__webpack_require__(654),__webpack_require__(656),__webpack_require__(662),__webpack_require__(663),__webpack_require__(664),__webpack_require__(665),__webpack_require__(666),__webpack_require__(667),__webpack_require__(668),__webpack_require__(669),__webpack_require__(670),__webpack_require__(671),__webpack_require__(672),__webpack_require__(673),__webpack_require__(674),__webpack_require__(675),__webpack_require__(676),__webpack_require__(678),__webpack_require__(679),__webpack_require__(680),__webpack_require__(682),__webpack_require__(683),__webpack_require__(684),__webpack_require__(685),__webpack_require__(686),__webpack_require__(687),__webpack_require__(688),__webpack_require__(689),__webpack_require__(691),__webpack_require__(693),__webpack_require__(695),__webpack_require__(697),__webpack_require__(698),__webpack_require__(700),__webpack_require__(701),__webpack_require__(702),__webpack_require__(703),__webpack_require__(705),__webpack_require__(707),__webpack_require__(709),__webpack_require__(711),__webpack_require__(713),__webpack_require__(715),__webpack_require__(414),__webpack_require__(718),__webpack_require__(719),__webpack_require__(721),__webpack_require__(727),__webpack_require__(734)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(401);var ngModule=__webpack_require__(35);function BlockResizer($scope,$element){this.mouseOver(-1,-1),$element.on("mouseleave",function(){$scope.$apply(function(){this.mouseOver(-1,-1)}.bind(this))}.bind(this))}BlockResizer.prototype.mouseOver=function(x,y){this.includedX=x,this.includedY=y},BlockResizer.prototype.clickBlock=function(x,y){this.mouseOver(-1,-1),this.onClick({width:x+1,height:y+1})},BlockResizer.prototype.widthLabel=function(){return this.includedX+1||Math.min(this.width,this.maxWidth)},BlockResizer.prototype.heightLabel=function(){return this.includedY+1||Math.min(this.height,this.maxHeight)},BlockResizer.prototype.range=function(value){for(var result=[],i=0;i<value;)result.push(i),i++;return result},ngModule.component("fBlockResizer",{templateUrl:__webpack_require__(401),bindings:{maxWidth:"<",maxHeight:"<",width:"<",height:"<",onClick:"&"},controller:BlockResizer})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(35).directive("fChart",function(){return{restrict:"A",scope:{params:"=fChart",resizing:"<?"},link:function(scope,elem){var chart=new Chart({element:elem});scope.$watchGroup(["params","params.data"],function(scopeParams){scopeParams[0]?chart.update(scopeParams[0],!0):chart.update({data:null})}),scope.$watch(function(){return{width:elem.width(),height:elem.height()}},function(dimensions){dimensions.height&&dimensions.width&&chart.check_needs_redraw()},!0),scope.$on("fChartSizeChangeStart",function(){chart.toggle_resizing(!0)}),scope.$on("fChartSizeChangeEnd",function(){chart.toggle_resizing(!1)}),scope.$watch("resizing",function(value){"boolean"==typeof value&&chart.toggle_resizing(value)}),chart.redraw_on_window_resize(!0),scope.$on("$destroy",function(){chart.redraw_on_window_resize(!1)})}}})},function(module,exports,__webpack_require__){"use strict";class ReadOnlyManager{setReadOnly(readOnly){this.readOnly=readOnly}isReadOnly(){return this.readOnly}}__webpack_require__(35).directive("fReadOnlyManager",function(){return{restrict:"A",controller:ReadOnlyManager}})},function(module,exports,__webpack_require__){"use strict";const log=__webpack_require__(8).log;__webpack_require__(35).directive("fReadOnlyHide",function(){return{restrict:"A",require:["?^fReadOnlyManager"],link:function($scope,element,attributes,controllers){const readOnlyManager=controllers[0];readOnlyManager?$scope.$watch(()=>readOnlyManager.isReadOnly(),isReadOnly=>{element.css("display",isReadOnly?"none":"")}):log.error("fReadOnlyHide is used without fReadOnlyManager.")}}})},function(module,exports,__webpack_require__){"use strict";const ngModule=__webpack_require__(35);ngModule.directive("fCheckboxGroup",function(){return{restrict:"E",scope:!1,replace:!0,transclude:!0,template:'<div class="checkbox-group" ng-transclude></div>'}}),ngModule.directive("fCheckbox",function(){let lastId=0;const ID_PREFIX="f-checkbox-group-checkbox-";return{restrict:"E",scope:{ngModel:"=?",ngDisabled:"<?"},link:{pre:function(scope,elem,attr){scope.ngModelOptions=angular.copy(scope.$eval(attr.ngModelOptions))||{},scope.ngTrueValue=!attr.ngTrueValue||`'${scope.$eval(attr.ngTrueValue)}'`,scope.ngFalseValue=!!attr.ngFalseValue&&`'${scope.$eval(attr.ngFalseValue)}'`},post:function(scope,elem,attr){attr.id||(attr.id=`${ID_PREFIX}${scope.$id}-${++lastId}`),scope.id=attr.id}},replace:!0,transclude:!0,template:'<label><input type="checkbox" class="checkbox" id="{{id}}" name="{{id}}" ng-model="ngModel" ng-model-options="ngModelOptions" ng-true-value="{{ngTrueValue}}" ng-false-value="{{ngFalseValue}}" ng-disabled="ngDisabled"><label for="{{id}}"></label><f-transclude-replace></f-transclude-replace></label>'}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(35).directive("fCopyable",function(){return{restrict:"A",link:function(scope,element,attrs){if(!["INPUT","TEXTAREA"].includes(element[0].tagName))throw new Error("Copying from "+element[0].tagName+"is not implemented");attrs.$observe("fCopyable",function(expr){scope.$eval(expr,{$copyable:{element:element[0]}})})}}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(402);var ngModule=__webpack_require__(35),ftnt_shared=__webpack_require__(8);function Dashboard($scope,$element,$attrs,$compile,$window,$timeout,$q,DashboardWidgetModel,$location){this._id=ftnt_shared.util.uniqueID();var $win=angular.element($window),resizeEvent="resize.dashboard."+this._id;this._$scope=$scope,this._$element=$element,this._$compile=$compile,this._$timeout=$timeout,this._$q=$q,this._DashboardWidgetModel=DashboardWidgetModel,this._initialized=!1,this._widgets={},this._numWidgets=0,this._$moduleContainer=$element.find(".module-container"),this._$moduleList=$element.find(".module-list"),this._gridList=null,this._numColumns=null,this._numRowsInView=null,this._actualWidgetSize=null,this._widthHeightRatio=null,this._mouseMoveTimeout=null,this._zoomedWidgetID=null,this._zoomedWidgetPreviousStyle=null,this._moduleListPreviousStyle=null,this.currentDraggingID=null,this.expandedPinnedID=null,this._setupWatches(),this._setupDragListeners(),$win.on(resizeEvent,ftnt_shared.util.debounce(1e3,function(){this._initialized&&!this._zoomedWidgetID&&$scope.$apply(function(){this._reinstantiateGrid()}.bind(this))}.bind(this))),$scope.$on("$destroy",function(){$win.off(resizeEvent)}),$location.search("zoomedWidget",null),this.dashboard=this}Dashboard.prototype.addWidget=function(widgetModel){if(!(widgetModel instanceof this._DashboardWidgetModel))throw new Error('"widgetModel" must be an instance of "DashboardWidgetModel"');var id=widgetModel.getID(),scope=this._$scope.$new(!0),widget=document.createElement(widgetModel.getComponentTag()),element=document.createElement("li");scope.id=id,scope.widgetModel=widgetModel,widget.setAttribute("widget-model","::widgetModel"),element.setAttribute("data-widget-id",id),element.classList.add("just-added"),element.appendChild(widget),this._widgets[id]={scope:scope,element:element,linkFunction:this._$compile(element),widgetModel:widgetModel},this._setWidgetDimensionAttributes(this._widgets[id]),this._numWidgets++,this._$moduleList.append(element),this._initialized&&(this._reinstantiateGrid(),this._linkWidget(id))},Dashboard.prototype.getFirstAvailablePosition=function(widgetWidth,widgetHeight){var x,y,startX,valid,key,occupiedSet,startY=0,maxX=this._numColumns-1;if(!this.fixed)return{x:this._numWidgets,y:0};for(occupiedSet=this._getGridPositionsState().occupiedSet;;){for(startX=0;startX<=maxX;startX++){valid=!0;attempt:for(y=startY;y<startY+widgetHeight;y++)for(x=startX;x<startX+widgetWidth;x++)if(key=x+":"+y,x>maxX||occupiedSet.has(key)){valid=!1;break attempt}if(valid)return{x:startX,y:startY}}startY++}},Dashboard.prototype._convertRelativeToActual=function(relative){return Math.ceil(relative*(this.widgetSize||300)/(this._actualWidgetSize-10))},Dashboard.prototype.convertRelativeWidgetWidthToActual=function(relativeWidth){return this._convertRelativeToActual(relativeWidth)},Dashboard.prototype.convertRelativeWidgetHeightToActual=function(relativeHeight){return this._convertRelativeToActual(relativeHeight)},Dashboard.prototype.setWidgets=function(widgetModels){Array.isArray(widgetModels)&&(Object.keys(this._widgets).forEach(function(id){this._destroyWidget(id)}.bind(this)),this._initialized||this._resetLayout(),this._reorderWidgetModels(widgetModels).forEach(function(widgetModel){this.addWidget(widgetModel)}.bind(this)),this._initialized||this._initialize())},Dashboard.prototype.removeWidget=function(id){var widget=this._getWidget(id);this._destroyWidget(id),this.onWidgetRemoved({widget:widget.widgetModel})},Dashboard.prototype.reinstantiateWidget=function(id,modelData){var widgetModel=this._getWidget(id).widgetModel;modelData&&widgetModel.extendModelData(modelData),this._destroyWidget(id),this.addWidget(widgetModel)},Dashboard.prototype.widgetFinishedLoading=function(id){var widget=this._getWidget(id);this._$timeout(function(){widget.element.classList.remove("just-added")},!1)},Dashboard.prototype.zoomWidget=function(id){var moduleListElement=this._$moduleList[0];return this._zoomedWidgetID=id,this._moduleListPreviousStyle=moduleListElement.getAttribute("style"),moduleListElement.setAttribute("style","height: 100%;"),this._$moduleList.children(".ui-draggable").draggable("disable"),Object.keys(this._widgets).forEach(function(widgetID){var widget=this._widgets[widgetID];widgetID===this._zoomedWidgetID?(this._zoomedWidgetPreviousStyle=widget.element.getAttribute("style"),widget.element.setAttribute("style",""),widget.element.classList.add("zoomed-widget","frontmost-widget")):widget.element.classList.add("non-zoomed-widget")}.bind(this)),this._notifyChartsAndWaitForTransitionEnd()},Dashboard.prototype.stopZooming=function(){Object.keys(this._widgets).forEach(function(widgetID){var widget=this._widgets[widgetID];widgetID===this._zoomedWidgetID?(widget.element.classList.remove("zoomed-widget"),widget.element.setAttribute("style",this._zoomedWidgetPreviousStyle),widget.element.style.zIndex="",this._waitOnWidgetTransition(widget).then(()=>{widget.element.classList.remove("frontmost-widget")})):widget.element.classList.remove("non-zoomed-widget")}.bind(this));const promise=this._notifyChartsAndWaitForTransitionEnd();return this._$moduleList[0].setAttribute("style",this._moduleListPreviousStyle),this._moduleListPreviousStyle=null,this._zoomedWidgetID=null,this._zoomedWidgetPreviousStyle=null,this._$moduleList.children(".ui-draggable").draggable("enable"),promise},Dashboard.prototype._resizeWidget=function(widget){var width=widget.widgetModel.getWidth(),height=this.fixed?widget.widgetModel.getHeight():1;return this._$scope.$broadcast("resizingDashboardWidget"),this._scaleWidget(widget),this._$moduleList.gridList("resizeItem",widget.element,{w:width,h:height}),this._notifyChartsAndWaitForTransitionEnd(widget)},Dashboard.prototype._updateRelativeWidgetDimensions=function(widget){var width=widget.widgetModel.getWidth(),height=widget.widgetModel.getHeight();widget.widgetModel.updateRelativeWidth(this._widgetDimensionToRelative(width)),widget.widgetModel.updateRelativeHeight(this._widgetDimensionToRelative(height,!0))},Dashboard.prototype.updateWidgetSize=function(id,width,height){const widget=this._getWidget(id);widget.widgetModel.updateWidth(width),widget.widgetModel.updateHeight(height),this._resizeWidget(widget).then(()=>{this._updateRelativeWidgetDimensions(widget)})},Dashboard.prototype._initialize=function(){this._createGridList(),this.fixed&&this._doesCollisionExist()&&this._resizeGrid(),this._linkAllWidgets(),this._$timeout(function(){this._initialized=!0}.bind(this))},Dashboard.prototype._notifyChartsResizing=function(resizing){var event=resizing?"fChartSizeChangeStart":"fChartSizeChangeEnd";Object.keys(this._widgets).forEach(function(widgetID){this._widgets[widgetID].scope.$broadcast(event)}.bind(this))},Dashboard.prototype._resetLayout=function(){var containerBoundingRect,widgetWithSpacing,containerHeight,containerWidth,extraPerwidget;this._$moduleContainer[0].style.height=null,this._$moduleContainer[0].style.width=null,containerHeight=(containerBoundingRect=this._$moduleContainer[0].getBoundingClientRect()).height-10,containerWidth=containerBoundingRect.width-10,this.fixed?(this._numColumns=this.fixedColumns||4,widgetWithSpacing=Math.floor(containerWidth/this._numColumns),this._numRowsInView=Math.round(containerHeight/widgetWithSpacing),0===this._numRowsInView?(this._numRowsInView=1,this._widthHeightRatio=1):(extraPerwidget=(containerHeight-widgetWithSpacing*this._numRowsInView+1)/this._numRowsInView,this._widthHeightRatio=1/((widgetWithSpacing+extraPerwidget)/widgetWithSpacing)),this._actualWidgetSize=widgetWithSpacing):(widgetWithSpacing=(this.widgetSize||300)+10,this._numColumns=Math.floor(containerWidth/widgetWithSpacing),extraPerwidget=(containerWidth-widgetWithSpacing*this._numColumns)/this._numColumns,this._widthHeightRatio=(widgetWithSpacing+extraPerwidget)/widgetWithSpacing,this._actualWidgetSize=widgetWithSpacing+extraPerwidget,this._nextX=0,this._nextY=0)},Dashboard.prototype._setupWatches=function(){var deregisterInitialWatch;this._$scope.$watchGroup(["$ctrl.fixed","$ctrl.fixedColumns","$ctrl.widgetSize"],function(){this._initialized&&this._reinstantiateGrid()}.bind(this)),deregisterInitialWatch=this._$scope.$watch("$ctrl.initialWidgets",function(widgets){!this._initialized&&widgets&&Array.isArray(widgets)&&(this.setWidgets(widgets),deregisterInitialWatch())}.bind(this))},Dashboard.prototype._getAndUpdateWidgetsFromGridItems=function(gridItems){var widgets=[];return gridItems.forEach(function(item,index){var widgetModel,widgetID=item.$element[0].getAttribute("data-widget-id"),widget=this._widgets[widgetID];widget&&((widgetModel=widget.widgetModel).updateWidth(item.w),widgetModel.updateHeight(this.fixed?item.h:1),this.fixed?(widgetModel.updateXPosition(item.x),widgetModel.updateYPosition(item.y)):(widgetModel.updateXPosition(index),widgetModel.updateYPosition(0)),widgets.push(widget))}.bind(this)),widgets},Dashboard.prototype._getGridPositionsState=function(){var i,x,y,widgetModel,startX,startY,width,height,key,widgetIDs=Object.keys(this._widgets),occupied=new Set,collisionExists=!1,maxX=this._numColumns-1;for(i=0;i<widgetIDs.length;i++)for(startX=(widgetModel=this._widgets[widgetIDs[i]].widgetModel).getXPosition(),startY=widgetModel.getYPosition(),width=widgetModel.getWidth(),height=widgetModel.getHeight(),y=startY;y<startY+height;y++)for(x=startX;x<startX+width;x++)x>maxX&&(collisionExists=!0),key=x+":"+y,occupied.has(key)?collisionExists=!0:occupied.add(key);return{occupiedSet:occupied,collisionExists:collisionExists}},Dashboard.prototype._doesCollisionExist=function(){return this._getGridPositionsState().collisionExists},Dashboard.prototype._getAndUpdateWidgetsFromResponsiveOrder=function(){var gridItems=[];return this._gridList.gridList.grid.forEach(function(row){var previousID;row.forEach(function(item){var id;item&&(id=item.$element[0].getAttribute("data-widget-id"))!==previousID&&(gridItems.push(item),previousID=id)})}),this._getAndUpdateWidgetsFromGridItems(gridItems)},Dashboard.prototype._widgetDimensionToRelative=function(value,isHeight){var ratioAdjust=isHeight?1/this._widthHeightRatio:1;return(this._actualWidgetSize*value*ratioAdjust-10)/(this.widgetSize||300)},Dashboard.prototype._scaleWidget=function(widget){var fontSize=this._widgetDimensionToRelative(widget.widgetModel.getWidth());fontSize=fontSize>=1?"100%":(100*fontSize).toFixed(2)+"%",widget.element.style.fontSize=fontSize},Dashboard.prototype._setWidgetDimensionAttributes=function(widget){var x,y,width,wantedWidth,element=widget.element,widgetModel=widget.widgetModel;this.fixed?(element.setAttribute("data-w",widgetModel.getWidth()),element.setAttribute("data-h",widgetModel.getHeight()),element.setAttribute("data-x",widgetModel.getXPosition()||0),element.setAttribute("data-y",widgetModel.getYPosition()||0)):(width=(wantedWidth=widgetModel.getWidth())>this._numColumns?this._numColumns:wantedWidth,this._nextX+width<=this._numColumns?(x=this._nextX,y=this._nextY):(x=0,y=this._nextY+1),element.setAttribute("data-w",width),element.setAttribute("data-h",1),element.setAttribute("data-x",x),element.setAttribute("data-y",y),this._nextX=x+width,this._nextY=y),this._scaleWidget(widget),this._updateRelativeWidgetDimensions(widget)},Dashboard.prototype._getWidget=function(id){var widget=this._widgets[id];if(!widget)throw new Error('No widget with id "'+id+'" is registered.');return widget},Dashboard.prototype._destroyWidget=function(id){var widget=this._getWidget(id);widget.element.parentElement.removeChild(widget.element),widget.scope.$destroy(),delete this._widgets[id],this._numWidgets--},Dashboard.prototype._reinstantiateGrid=function(){var widgetModels=Object.keys(this._widgets).map(function(id){return this._widgets[id].widgetModel}.bind(this));this._resetLayout(),this._reorderWidgetModels(widgetModels).forEach(function(widgetModel){var id=widgetModel.getID(),widget=this._widgets[id];this._setWidgetDimensionAttributes(widget)}.bind(this)),this._createGridList(),this.fixed&&this._doesCollisionExist()?this._resizeGrid():this._notifyChartsAndWaitForTransitionEnd()},Dashboard.prototype._linkWidget=function(id){var widget=this._getWidget(id);widget.linkFunction(widget.scope)},Dashboard.prototype._linkAllWidgets=function(){Object.keys(this._widgets).forEach(function(id){this._linkWidget(id)}.bind(this))},Dashboard.prototype._createGridList=function(){this._$moduleList.gridList({direction:"vertical",lanes:this._numColumns,widthHeightRatio:this._widthHeightRatio,onChange:function(changed){this._$timeout(function(){var widgets;changed.length&&(widgets=this.fixed?this._getAndUpdateWidgetsFromGridItems(changed):this._getAndUpdateWidgetsFromResponsiveOrder(),this.onWidgetsUpdated({widgets:widgets.map(function(widget){return widget.widgetModel})}))}.bind(this))}.bind(this)},{handle:".widget-header",zIndex:5}),this._gridList=this._$moduleList.data("_gridList")},Dashboard.prototype._notifyChartsAndWaitForTransitionEnd=function(widget){return this._notifyChartsResizing(!0),this._$q.resolve(this._waitOnWidgetTransition(widget)).then(()=>{this._notifyChartsResizing(!1)})},Dashboard.prototype._resizeGrid=function(){Object.keys(this._widgets).forEach(function(id){var widgetModel=this._widgets[id].widgetModel;widgetModel.getWidth()>this._numColumns&&this.updateWidgetSize(id,this._numColumns,widgetModel.getHeight())}.bind(this)),this._$moduleList.gridList("resize",this._numColumns),this._notifyChartsAndWaitForTransitionEnd()},Dashboard.prototype._reorderWidgetModels=function(widgetModels){return this.fixed?widgetModels:widgetModels.slice().sort(function(a,b){return a.getXPosition()-b.getXPosition()})},Dashboard.prototype._setupDragListeners=function(){this._$moduleList.on("dragstart",function(event,ui){this._$scope.$apply(function(){this.currentDraggingID=ui.helper[0].getAttribute("data-widget-id")}.bind(this))}.bind(this)),this._$moduleList.on("dragstop",function(){this._$scope.$apply(function(){this.currentDraggingID=null}.bind(this))}.bind(this))},Dashboard.prototype._waitOnWidgetTransition=function(widget){const elements=widget?[widget.element]:Object.keys(this._widgets).map(id=>this._widgets[id].element);return new Promise(resolve=>{let oneCompleted=!1;const onComplete=function(){oneCompleted||(elements.forEach(function(element){element.removeEventListener("transitionend",onComplete)}),oneCompleted=!0,setTimeout(resolve,100))};elements.forEach(function(element){element.addEventListener("transitionend",onComplete)})})},ngModule.component("fDashboard",{transclude:!0,templateUrl:__webpack_require__(402),bindings:{dashboard:"=?",fixed:"<",fixedColumns:"<",widgetSize:"<",onWidgetRemoved:"&",onWidgetsUpdated:"&",onReorder:"&",loading:"<?",initialWidgets:"<",showControls:"<"},controller:Dashboard})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(403);var ngModule=__webpack_require__(35),ftnt_shared=__webpack_require__(8);function DashboardWidget($scope,$element,$timeout){var deregisterLoadingWatch;this._$scope=$scope,this._$element=$element,this._$contentContainer=$element.find(".widget-content-container"),this._$content=$element.find(".widget-content"),this._$timeout=$timeout,this._headerHover=!1,this._contentContainerHeight=null,this._contentHeight=null,this._isExpanded=!1,this._expansionPinned=!1,this.isZoomed=!1,this._zoomToggled=!1,this._verifyBindings(),this._setupHeaderHover(),this._setupContentExpansion(),this._setupSupportedDimensionsWatch(),deregisterLoadingWatch=$scope.$watch("$ctrl.loading",function(loading){loading||(this.dashboardController.widgetFinishedLoading(this.widgetModel.getID()),deregisterLoadingWatch())}.bind(this)),this.dashboardWidget=this}DashboardWidget.prototype.remove=function(){this.dashboardController.removeWidget(this.widgetModel.getID())},DashboardWidget.prototype.updateSize=function(width,height){this.sizeMenu.hide(),this.controlMenu.hide(),this.dashboardController.updateWidgetSize(this.widgetModel.getID(),width,height)},DashboardWidget.prototype.toggleZoom=function(){let promise;const newState=!this.isZoomed;if(this._zoomToggled===this.isZoomed)return this.isZoomed?promise=this.dashboardController.stopZooming():(this._expandContent(),promise=this.dashboardController.zoomWidget(this.widgetModel.getID()),this._headerHover=!1),this._zoomToggled=newState,promise.then(()=>{this.isZoomed=newState})},DashboardWidget.prototype._verifyBindings=function(){if(!this.widgetModel)throw new Error("widgetModel not provided.")},DashboardWidget.prototype._setupSupportedDimensionsWatch=function(){this._$scope.$watchGroup(["$ctrl.widgetModel.getWidth()","$ctrl.widgetModel.getHeight()","$ctrl.dashboardController._numColumns","$ctrl.dashboardController._numRowsInView"],function(results){var width=results[0],height=results[1],numColumns=results[2],numRows=results[3];width>numColumns&&(width=numColumns),height>numColumns&&(height=numColumns),this.realizedWidth=width,this.realizedHeight=height,this.maxWidth=numColumns,this.maxHeight=numRows}.bind(this))},DashboardWidget.prototype._setupHeaderHover=function(){var $header=this._$element.find(".widget-header");$header.on("mouseover",function(){this._zoomToggled||this._$scope.$apply(function(){this._headerHover=!0}.bind(this))}.bind(this)),$header.on(".widget-header").on("mouseleave",function(){this._zoomToggled||this._$scope.$apply(function(){this._headerHover=!1}.bind(this))}.bind(this)),this._$scope.$watchGroup(["$ctrl._headerHover","$ctrl.dashboardController.currentDraggingID"],function(values){var headerHover=values[0],currentDraggingID=values[1],hint=headerHover||this.widgetModel.getID()===currentDraggingID;this._$element.toggleClass("header-hover",hint)}.bind(this))},DashboardWidget.prototype._expandContent=function(shouldPin){var currentHeight;!this._isExpanded&&this._contentHeight>this._contentContainerHeight&&(currentHeight=this._$contentContainer.height(),this._$element.removeClass("overflowing").addClass("grow-vertically"),ftnt_shared.animation.toAutoHeightVerticalExpand(this._$contentContainer[0],currentHeight),this._isExpanded=!0),this._isExpanded&&!this._expansionPinned&&shouldPin&&(this._expansionPinned=!0,this._$element.addClass("expansion-pinned"),this._$timeout(function(){this.dashboardController.expandedPinnedID=this.widgetModel.getID()}.bind(this)))},DashboardWidget.prototype._setOverflowCSS=function(){this._$element.removeClass("grow-vertically").removeClass("expansion-pinned"),this._$element.toggleClass("overflowing",this._contentHeight>this._contentContainerHeight)},DashboardWidget.prototype._collapseContent=function(evenIfPinned,immediately){var done=function(){this._$contentContainer.css("height",""),this._setOverflowCSS(),this._isExpanded=!1,this._expansionPinned&&this.dashboardController.expandedPinnedID===this.widgetModel.getID()&&this._$timeout(function(){this.dashboardController.expandedPinnedID=null}.bind(this)),this._expansionPinned=!1}.bind(this);!this._isExpanded||this._expansionPinned&&!evenIfPinned||(immediately?done():ftnt_shared.animation.fromAutoHeightVerticalShrink(this._$contentContainer[0],this._contentContainerHeight).then(done))},DashboardWidget.prototype._setupContentExpansion=function(){var expand=!1,debouncedExpand=ftnt_shared.util.debounce(500,function(){expand&&this._expandContent()}.bind(this));this._$scope.$watch(function(){return{contentHeight:this._$content.height(),containerHeight:this._$contentContainer.height()}}.bind(this),function(result){this._isExpanded||this._zoomToggled||(this._contentHeight=result.contentHeight,this._contentContainerHeight=result.containerHeight,this._setOverflowCSS())}.bind(this),!0),this._$contentContainer.on("mouseover",function(){this._zoomToggled||(expand=!0,debouncedExpand())}.bind(this)),this._$element.on("mouseleave",function(){this._zoomToggled||(expand=!1,this._collapseContent())}.bind(this)),this._$scope.$watchGroup(["$ctrl.dashboardController.currentDraggingID","$ctrl.dashboardController.expandedPinnedID"],function(values){var currentDraggingID=values[0],expandedPinnedID=values[1];this._expansionPinned&&(currentDraggingID||expandedPinnedID!==this.widgetModel.getID())&&this._collapseContent(!0,null!=currentDraggingID)}.bind(this)),this._$scope.$on("resizingDashboardWidget",function(){this._expansionPinned&&this._collapseContent(!0,!0)}.bind(this))},DashboardWidget.prototype.pinExpansion=function(){this._expansionPinned?this._collapseContent(!0):this._expandContent(!0)},ngModule.component("fDashboardWidget",{templateUrl:__webpack_require__(403),transclude:{extra:"?extraControls",title:"widgetTitle",beforeTitle:"?beforeTitle",content:"widgetContent",absolute:"?widgetAbsolute"},bindings:{dashboardWidget:"=?",widgetModel:"<",minWidth:"<",minHeight:"<",hasSettings:"<",onSettings:"&",loading:"<",supportsZoom:"<",disabled:"<disabledWidget",permanent:"<",noContentMargin:"<",zoomLocked:"<"},require:{dashboardController:"^fDashboard"},controller:DashboardWidget})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(35).component("fDashboardPreviewWidget",{templateUrl:__webpack_require__(655),transclude:{beforeTitle:"?beforeTitle",title:"widgetTitle",afterTitle:"?afterTitle",content:"widgetContent",extra:"?extraControls"},bindings:{dashboardWidget:"=?",widgetModel:"<",loading:"<",zoomLocked:"<",hasSettings:"<",onSettings:"&",noContentMargin:"<?",fullScreen:"<",onBackward:"&?",showBackward:"&?"},require:{dashboardController:"^fDashboard",dashboardMutableController:"?^fDashboardMutable"},controller:class{constructor($scope,$element,$timeout,$location){this._$scope=$scope,this._$element=$element,this._$location=$location,this._$contentContainer=$element.find(".widget-content-container"),this._$content=$element.find(".widget-content"),this._$timeout=$timeout,this._headerHover=!1,this.isZoomed=!1,this._zoomToggled=!1,this._loadingBySize=!1}$onInit(){let deregisterLoadingWatch;this.fullScreen&&!this.isZoomed&&this.toggleZoom(),this._verifyBindings(),this._setupHeaderHover(),this._setupSupportedDimensionsWatch(),this._updateSizeWatch(),deregisterLoadingWatch=this._$scope.$watch("$ctrl.loading",loading=>{loading||(this.dashboardController.widgetFinishedLoading(this.widgetModel.getID()),deregisterLoadingWatch())}),this.dashboardWidget=this,this.dashboardMutableController&&this.dashboardMutableController.init(this),this._$scope.$on("$locationChangeSuccess",()=>{const id=this._$location.search().zoomedWidget;!id&&this.isZoomed?this.toggleZoom():id&&!this.isZoomed&&id===this.widgetModel.getID()&&this.toggleZoom()})}toggleZoom(){let promise;const newState=!this.isZoomed;if(this._zoomToggled===this.isZoomed)return this.isZoomed?promise=this.dashboardController.stopZooming():(promise=this.dashboardController.zoomWidget(this.widgetModel.getID()),this._headerHover=!1),this._zoomToggled=newState,this.inTransition=!0,promise.then(()=>{this.isZoomed=newState,this.inTransition=!1,this.fullScreen||(newState?this._$location.search("zoomedWidget",this.widgetModel.getID()):this._$location.search("zoomedWidget",null))})}_verifyBindings(){if(!this.widgetModel)throw new Error("widgetModel not provided.")}_setupSupportedDimensionsWatch(){this._$scope.$watchGroup(["$ctrl.widgetModel.getWidth()","$ctrl.widgetModel.getHeight()","$ctrl.dashboardController._numColumns","$ctrl.dashboardController._numRowsInView"],([width,height,numColumns,numRows])=>{width>numColumns&&(width=numColumns),height>numColumns&&(height=numColumns),this.realizedWidth=width,this.realizedHeight=height,this.maxWidth=numColumns,this.maxHeight=numRows})}_setupHeaderHover(){const $header=this._$element.find(".widget-header");$header.on("mouseover",()=>{this._zoomToggled||this._$scope.$apply(function(){this._headerHover=!0}.bind(this))}),$header.on(".widget-header").on("mouseleave",()=>{this._zoomToggled||this._$scope.$apply(function(){this._headerHover=!1}.bind(this))}),this._$scope.$watchGroup(["$ctrl._headerHover","$ctrl.dashboardController.currentDraggingID"],([headerHover,currentDraggingID])=>{const hint=headerHover||this.widgetModel.getID()===currentDraggingID;this._$element.toggleClass("header-hover",hint)})}_updateSizeWatch(){this._$element.on("transitionend",()=>{this._loadingBySize&&(this._$timeout(()=>{this.loading=!1},500),this._loadingBySize=!1)})}_clickBack(){(this.onBackward||this.toggleZoom).bind(this)()}remove(){this.dashboardController.removeWidget(this.widgetModel.getID())}updateSize(width,height){this.sizeMenu.hide(),this.controlMenu.hide(),this.loading=!0,this._loadingBySize=!0,this.dashboardController.updateWidgetSize(this.widgetModel.getID(),width,height)}get showBackButton(){return this.showBackward&&this.showBackward()||this._zoomToggled&&!this.fullScreen}}})},function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-dashboard-preview-widget.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<div class="widget-header">\n    <button class="backward-button" type="button" ng-if="$ctrl.showBackButton"\n        ng-click="$ctrl._clickBack()">\n        <f-icon class="fa-arrow-left"></f-icon>\n    </button>\n    <div class="widget-before-title" ng-transclude="beforeTitle"></div>\n    <div class="widget-title" ng-transclude="title" ng-class="{disabled: $ctrl.disabled}"></div>\n    <div class="widget-after-title" ng-transclude="afterTitle"></div>\n    <div class="widget-header-positioner"></div>\n    <div class="widget-controls">\n        <div ng-transclude="extra"></div>\n        <button type="button" class="bare" f-pop-up-menu-toggle="$ctrl.controlMenu"\n            ng-disabled="$ctrl._zoomToggled && !$ctrl.fullScreen">\n            <f-icon class="fa-ellipsis-v"></f-icon>\n        </button>\n        <div f-pop-up-menu="$ctrl.controlMenu">\n            <div f-menu-item-submenu="$ctrl.sizeMenu" ng-if="!$ctrl._zoomToggled && !$ctrl.fullScreen">\n                <f-icon class="fa-arrows"></f-icon>\n                <span>{{::\'Resize\' | lang}}</span>\n            </div>\n            <div f-pop-up-menu="$ctrl.sizeMenu" ng-if="!$ctrl._zoomToggled && !$ctrl.fullScreen">\n                <f-block-resizer max-width="$ctrl.maxWidth"\n                    max-height="$ctrl.dashboardController.fixed ? $ctrl.maxHeight : 1"\n                    width="$ctrl.realizedWidth"\n                    height="$ctrl.realizedHeight"\n                    on-click="$ctrl.updateSize(width, height)">\n                </f-block-resizer>\n            </div>\n            <div f-menu-item-button ng-show="$ctrl.hasSettings" ng-click="$ctrl.onSettings({widget: $ctrl.widgetModel})">\n                <f-icon class="fa-cog"></f-icon>\n                <span>{{::\'Settings\' | lang}}</span>\n            </div>\n\n            <div class="separator" ng-show="$ctrl.columnSpanOptions.length > 1 || $ctrl.hasSettings">\n            </div>\n\n            <div f-menu-item-button ng-if="!$ctrl.permanent" click="$ctrl.remove()"\n                enabled="!$ctrl._zoomToggled">\n                <f-icon class="fa-times"></f-icon>\n                <span>{{::\'Remove\' | lang}}</span>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class="widget-content-container" ng-class="{\'widget-loading\': $ctrl.loading,\n    \'widget-zoomed\': $ctrl.isZoomed,\n    disabled: $ctrl.disabled, \'no-content-margin\': $ctrl.noContentMargin}">\n    <div class="widget-loading-indication flex-centered">\n        <f-icon class="fa-loading icon-xxl"></f-icon>\n    </div>\n    <div class="widget-hover-indication flex-centered" ng-if="!$ctrl.fullScreen && !$ctrl.loading"\n        ng-click="$ctrl.toggleZoom()">\n        <div class="information-mask-content">\n            <f-icon class="ftnt-full-screen"></f-icon>&nbsp;\n            {{:: \'Expand to full screen\' | lang}}\n        </div>\n    </div>\n    <div class="widget-content" ng-transclude="content"></div>\n</div>\n')}]),module.exports=path},function(module,exports,__webpack_require__){"use strict";const TEMPLATE_URL=__webpack_require__(657),FOOTER_TEMPLATE_URLS={okCancel:__webpack_require__(658),apply:__webpack_require__(659),return:__webpack_require__(660),close:__webpack_require__(661)};var ngModule=__webpack_require__(35),ftnt_shared=__webpack_require__(8),responsive=ftnt_shared.browser.responsive,isSafari=ftnt_shared.browser.isSafari,util=ftnt_shared.util;function FDialogConfig(){this.defaults=angular.copy(this),this.setDefaults=function(newConfig){angular.merge(this.defaults,newConfig)},this.getDefaults=function(){return this.defaults}}function Dialog($scope,fDialogConfig,$q,$attrs,fFieldConfig,$transclude,$window,$element,$timeout){this.config=fDialogConfig.getDefaults(),this._$q=$q,this._$scope=$scope,this._$attrs=$attrs,this._fFieldConfig=fFieldConfig,this._$transclude=$transclude,this._$window=$window,this._$element=$element,this._$timeout=$timeout,this.hasCustomDialogContent=this._$transclude.isSlotFilled("titleContent")||this._$transclude.isSlotFilled("content")||this._$transclude.isSlotFilled("footer"),this.hasGutterContent=this._$transclude.isSlotFilled("gutter")}function DialogGutter($scope,$element,DebouncedLayoutTracker){this.$onInit=function(){var tracker=new DebouncedLayoutTracker(function(){var contentStyle=getComputedStyle(content),padding=parseFloat(contentStyle.paddingTop)+parseFloat(contentStyle.paddingBottom),contentHeight=content.getBoundingClientRect().height-padding,elementHeight=element.getBoundingClientRect().height;return elementHeight>contentHeight?contentHeight-elementHeight+"px":""},$scope),content=$element.closest(".content")[0],element=$element[0];$scope.$watch(tracker.latest,function(newHeight){element.style.top=newHeight})}}__webpack_require__(404),ngModule.service("fDialogConfig",FDialogConfig),FDialogConfig.prototype={dialogTitle:null,hideTitle:!1,hideFooter:!1,footerType:"okCancel",readOnly:!1,onCancel:angular.noop,buttonText:{ok:"OK",cancel:"Cancel",apply:"Apply",return:"Return",close:"Close"}},ngModule.component("fDialog",{transclude:{content:"?dialogContent",footer:"?dialogFooter",titleContent:"?titleContent",gutter:"?dialogGutter"},templateUrl:TEMPLATE_URL,controllerAs:"dialog",controller:Dialog,bindings:{loading:"<",relative:"<",transparent:"<",outerDialogTitle:"<dialogTitle",outerHideTitle:"<hideTitle",hideFooter:"<",hideGutter:"<",footerType:"<",readOnly:"<",fullHeight:"<",validSubmit:"&",outerSubmit:"&submit",outerCancel:"&?cancel",form:"=?"},require:{fSlideContainer:"?^^",fReadOnlyManager:"?^"}}),Dialog.prototype={$onInit:function(){this._gutterSupported=!this.fSlideContainer,this._gutterSupported&&(this.responsiveGutter=responsive.isLarge(),this._boundResponsiveHandler=this._responsiveHandler.bind(this),this._$window.addEventListener("message",this._boundResponsiveHandler)),this._watchTitle()},$onDestroy:function(){this._gutterSupported&&this._$window.removeEventListener("message",this._boundResponsiveHandler)},_responsiveHandler:function(event){event.data&&util.isTrustedOrigin(event.origin)&&event.data.messageType===responsive.UPDATE_STATE_MESSAGE&&this._$scope.$apply(function(){this.responsiveGutter=event.data.state.large}.bind(this))},_watchTitle:function(){const defaultHideTitle=this.config.hideTitle,defaultTitle=this.config.dialogTitle;this._$scope.$watchGroup(["dialog.outerDialogTitle","dialog.outerHideTitle"],([title,hideTitle])=>{this.hideTitle=!!(this.fSlideContainer||(null!=hideTitle?hideTitle:defaultHideTitle)),this.dialogTitle=null!=title?title:defaultTitle,null!=this.dialogTitle&&this.fSlideContainer&&this.fSlideContainer.setTitle(this.dialogTitle)})},getHideFooter:function(){var hideFooter=this.config.hideFooter;return null!=this.hideFooter&&(hideFooter=this.hideFooter),hideFooter},showGutter:function(){return!this.hideGutter&&this.hasGutterContent&&this.responsiveGutter&&!isSafari()},_getFooterType:function(){return this.footerType||this.config.footerType},getFooterTemplate:function(){const footerType=this._getFooterType();return"apply"===footerType&&this.getReadOnly()?FOOTER_TEMPLATE_URLS.return:FOOTER_TEMPLATE_URLS[footerType]},getReadOnly:function(){if(this.fReadOnlyManager)return this.fReadOnlyManager.isReadOnly();var readOnly=this.config.readOnly;return null!=this.readOnly&&(readOnly=this.readOnly),readOnly},cancel:function(){"function"==typeof this.outerCancel?this.outerCancel():"function"==typeof this.config.onCancel&&this.config.onCancel()},_scrollToError:function(){const error=this._$element.find(".error");error[0]&&error[0].scrollIntoView&&error[0].scrollIntoView({behavior:"smooth",block:"center"})},_doSubmit:function($event){var submit=this._$attrs.validSubmit?this.validSubmit:this.outerSubmit;if(submit===this.validSubmit&&!this.form.$valid)return this._$scope.$broadcast(this._fFieldConfig.messages.forceValidation),void this._$timeout(()=>this._scrollToError());var promise=submit({$event:$event});if(promise){this.submitButtonBusy=!0;var slide=this.fSlideContainer&&this.fSlideContainer.slide;promise=this._$q.when(promise).finally(function(){this.submitButtonBusy=!1}.bind(this)),slide&&promise.then(function(value){return slide.done(value)})}},submit:function($event){if(this.getReadOnly())return!1;if(void 0===this.form.$valid){this.submitButtonBusy=!0;var unwatch=this._$scope.$watch("dialog.form.$valid",function(valid){void 0!==valid&&(this.submitButtonBusy=!1,this._doSubmit($event),unwatch())}.bind(this))}else this._doSubmit($event)}},ngModule.directive("dialogGutter",function(){return{restrict:"E",controller:DialogGutter}})},function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-dialog.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<div ng-class="{\n            \'loading\': dialog.loading,\n            \'absolute\': !dialog.relative,\n            \'transparent\': dialog.transparent,\n            \'card\': dialog.showGutter()}"\n        class="dialog"\n        ng-cloak f-scrolling id="ng-base">\n    <form method="post" ng-submit="dialog.submit($event)" name="dialog.form" novalidate autocomplete="off">\n        <div class="title-bar" ng-if="!dialog.hideTitle"\n                ng-class="{\'content-scrolled\': !contentScrolledTop}">\n            <h1>{{dialog.dialogTitle}}</h1>\n            <span ng-transclude="titleContent"></span>\n        </div>\n        <div class="content"\n                ng-class="{\'full-height\': dialog.fullHeight}"\n                f-scroll-monitor\n                scrolled-top="contentScrolledTop"\n                scrolled-bottom="contentScrolledBottom"\n                f-omniselect-selection-pane-container\n                >\n            <div class="content-container flex-col-stretch">\n                <div class="prevent-margin-collapse"></div>\n                <div ng-transclude="content" ng-class="{\'slot-filled\': dialog.hasCustomDialogContent}"></div>\n            </div>\n            \x3c!-- Fall back to single transclude if individual transclude components aren\'t provided --\x3e\n            <div ng-transclude ng-class="{\'slot-filled\': !dialog.hasCustomDialogContent}"></div>\n            <f-omniselect-selection-pane-attach-point ng-if="dialog.showGutter()"></f-omniselect-selection-pane-attach-point>\n            <div class="gutter-container flex-col-stretch">\n                <div ng-transclude="gutter"\n                    ng-if="dialog.showGutter()"\n                    ng-class="{\'slot-filled\': dialog.hasGutterContent && dialog.hasCustomDialogContent}"\n                    class="flex-col-stretch flex-grow"></div>\n            </div>\n        </div>\n        <div class="footer" ng-if="!dialog.getHideFooter()"\n                ng-transclude="footer">\n            <div ng-include="dialog.getFooterTemplate()"></div>\n            <div class="footer-shadow"\n                ng-class="{\'content-scrolled\': !contentScrolledBottom}"></div>\n        </div>\n    </form>\n</div>\n')}]),module.exports=path},function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-dialog/ok_cancel.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<button class="primary" id="submit_ok" type="submit" ng-show="!dialog.getReadOnly()"\n        ng-class="(dialog.submitButtonBusy || submitButtonBusy) && \'busy\'"\n        ng-disabled="(dialog.submitButtonBusy || submitButtonBusy)">\n    <f-icon class="fa-loading busy-only"></f-icon>\n    <span>{{::dialog.config.buttonText.ok}}</span>\n</button>\n<button id="submit_cancel" type="button" ng-click="dialog.cancel()"\n        ng-show="!dialog.getReadOnly()">\n    {{::dialog.config.buttonText.cancel}}\n</button>\n<button id="submit_return" type="button" ng-click="dialog.cancel()"\n        ng-show="dialog.getReadOnly()">\n    {{::dialog.config.buttonText.return}}\n</button>\n')}]),module.exports=path},function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-dialog/apply.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<button class="primary" id="submit_apply" type="submit" ng-show="!dialog.getReadOnly()"\n        ng-class="(dialog.submitButtonBusy || submitButtonBusy) && \'busy\'"\n        ng-disabled="dialog.submitButtonBusy || submitButtonBusy">\n    <f-icon class="fa-loading busy-only"></f-icon>\n    <span>{{::dialog.config.buttonText.apply}}</span>\n</button>\n')}]),module.exports=path},function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-dialog/return.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<button class="primary" id="submit_return" type="button"\n        ng-click="dialog.cancel()">\n    {{::dialog.config.buttonText.return}}\n</button>\n')}]),module.exports=path},function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-dialog/close.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<button class="button" id="submit_return" type="button"\n        ng-click="dialog.cancel()">\n    {{::dialog.config.buttonText.close}}\n</button>\n')}]),module.exports=path},function(module,exports,__webpack_require__){"use strict";var ngModule=__webpack_require__(35),MapSequence=__webpack_require__(8).MapSequence;function FFieldConfig(){this.errorTranslationMap={},this.messages={}}__webpack_require__(405),FFieldConfig.prototype={errorTranslationMap:null,addErrorTranslations:function(errorTranslations){angular.extend(this.errorTranslationMap,errorTranslations)},setForceValidationMessageName:function(messageName){this.messages.forceValidation=messageName}};var fField={controller:Field,templateUrl:__webpack_require__(405),scope:!0,transclude:{label:"?fieldLabel",value:"fieldValue",readView:"?fieldReadView"},bindings:{hideValidation:"<?",errorMessages:"<?",labelFor:"@",readView:"<?"}};function Field($scope,$element,$attrs,$transclude,fFieldConfig,lang){this._di={config:fFieldConfig,lang:lang,$attrs:$attrs,$scope:$scope},this._validationData={},this._validationStatuses={},this._validationStatusMap=new Map,this._innerIdAttrs=new MapSequence,this._hasFieldView=$transclude.isSlotFilled("readView"),this._hasFieldView&&$scope.$watch("$ctrl.readView",(newValue,oldValue)=>{this.showReadView=!!this.readView,newValue&&!oldValue&&this.showValidationMessages()}),$scope.$watch("$ctrl.allErrors()",this._setValidationMessage.bind(this),!0),$scope.$on(fFieldConfig.messages.forceValidation,this.showValidationMessages.bind(this))}function ValidationStatus(ngModel,attrs){this.errorKey=ngModel.$name||attrs.ngModel.replace(/^\$/,"\\$"),this.id=attrs.id}function errAttrValue(attr){return function(){return{require:"^?fField",restrict:"A",link:function(scope,element,attrs,field){field&&attrs.$observe(attr,function(value){field.setValidationData(attr,value)})}}}}Field.prototype={_validationStatusMap:null,_validationStatuses:null,_innerIdAttrs:null,_validationMessages:null,_validationData:null,_di:null,_showValidationMessage:!1,_innerId:null,getValidationStatus:function(ngModel){return this._validationStatusMap.get(ngModel)},_add:function(ngModel,attrs){var newStatus=new ValidationStatus(ngModel,attrs),status=this._validationStatuses[newStatus.errorKey];return status||(this._validationStatuses[newStatus.errorKey]=newStatus,status=newStatus),this._validationStatusMap.set(ngModel,status),this._updateInnerId(attrs),status},_remove:function(ngModel,attrs){this._validationStatusMap.delete(ngModel),this._updateInnerId(attrs,!1)},allErrors:function(){var errors={};return this._validationStatusMap.forEach(function(status,ngModel){status.showMessage&&!status.ignoreValidation&&(errors[status.errorKey]=ngModel.$error)}),errors},_setValidationMessage:function(ctrlErrors){var name,errors,errorKeys,id,messages=[];for(name in ctrlErrors)errors=ctrlErrors[name],(errorKeys=Object.keys(errors)).length&&(messages=messages.concat(errorKeys.map(translate.bind(this))));function translate(errorKey){return(id=this.errorMessages&&this.errorMessages[errorKey]||this._di.config.errorTranslationMap[errorKey])?this._di.lang(id,this._validationData[errorKey]):null}this._validationMessages=messages.filter(function(value){return null!==value})},setValidationData:function(errorKey,data){this._validationData[errorKey]=Array.isArray(data)?data:[data]},showValidationMessages:function(){this._validationStatusMap.forEach(function(status,ngModel){ngModel.$setDirty(),status.showMessage=!0})},_updateInnerId:function(attrs,remove){attrs&&(remove?this._innerIdAttrs.has(attrs)&&(this._innerIdAttrs.get(attrs)(),this._innerIdAttrs.delete(attrs)):void 0!==attrs.id&&this._innerIdAttrs.set(attrs,attrs.$observe("id",this._updateInnerId.bind(this,null,null))));var ids=this._innerIdAttrs.map(function(unobserve,idAttrs){return idAttrs.id}).filter(function(id){return null!=id}).toArray();this._innerId=1===ids.length?ids[0]:null}},ValidationStatus.prototype={errorKey:null,showMessage:!1,showMessageOnBlur:!0,ignoreValidation:!1,id:null},ngModule.directive({ngModel:function(){return{require:["ngModel","^?fField"],link:function(scope,element,attrs,ctrls){var status,model=ctrls.shift(),field=ctrls.shift();field&&(status=field._add(model,attrs),element.on("blur",function(){scope.$apply(function(){status.showMessageOnBlur&&(status.showMessage=!0)})}),scope.$on("$destroy",function(){field._remove(model,attrs)}))}}},max:errAttrValue("max"),min:errAttrValue("min"),maxlength:errAttrValue("maxlength"),minlength:errAttrValue("minlength")}),ngModule.component("fField",fField),ngModule.service("fFieldConfig",FFieldConfig)},function(module,exports,__webpack_require__){"use strict";var ngModule=__webpack_require__(35),ftnt_shared=__webpack_require__(8);ngModule.directive("fFileInput",function(){return{restrict:"A",scope:{options:"<fFileInput",filesChanged:"&"},bindToController:!0,controllerAs:"$ctrl",requires:"?ngModel",controller:function($scope,$element){var options=angular.copy(this.options)||{};"fileNameLabelTextSelector"in options||(options.fileNameLabelTextSelector=null),$element.addClass("hidden");var dispose=ftnt_shared.enhanceFileInput($element[0],options);$element.on("change.fFileInput",function(event){$scope.$apply(function(){this.filesChanged({$files:Array.from(event.target.files)}),options.allowReselecting&&(event.target.value="")}.bind(this))}.bind(this)),$scope.$on("$destroy",function(){dispose(),$element.off("change.fFileInput")}),this.filesChanged({$files:Array.prototype.slice.call($element[0].files)})}}})},function(module,exports,__webpack_require__){"use strict";function InputHighlightCtrl($element,$timeout,$route,$location,$http,$attrs){var duration=$attrs.duration,highlight=$route.current.params.hasOwnProperty("highlight")&&$location.hash()===$attrs.id,highlightFn=function(){$http.pendingRequests.length>0?$timeout(highlightFn):$element.highlight(duration)};highlight&&highlightFn()}__webpack_require__(35).directive("fHighlight",function(){return{restrict:"A",bindToController:!1,controllerAs:"inputHighlightCtrl",controller:InputHighlightCtrl}})},function(module,exports,__webpack_require__){"use strict";var ngModule=__webpack_require__(35),IpMask=__webpack_require__(8).IpMask;ngModule.directive("fIpSubnet",function(){return{restrict:"A",require:{ngModel:"ngModel",fField:"^^?"},scope:{ipVersion:"<?",ipVersionChange:"&",noZeroSubnet:"=?"},controller:IpSubnet,bindToController:!0,controllerAs:"fIpSubnetController"}});var VALIDATION_KEY="f-ip-subnet",VERSION_VALIDATION_KEY="f-ip-subnet-version";function IpSubnet(lang){this._di={lang:lang}}function getSubnetParts(value){var IpAddress=goog.net.IpAddress,parts=value&&value.split(/[/ ]/),addr=parts&&IpAddress.fromString(parts[0]);return{parts:parts,addr:addr,prefix:parts&&parseInt(parts[1],10),addrVersion:addr?addr.getVersion():null}}IpSubnet.prototype={$onInit:function(){if(!goog.math.Integer.prototype.isZero)throw new Error("isZero is missing from goog.math.Integer.prototype");var lang=this._di.lang,ctrl=this,PHASE={VALIDATING:{},FORMATTING:{},PARSING:{}};function validateNoZeroSubnet(modelValue,viewValue){if(void 0===(modelValue||viewValue))return!0;if(!parseOrValidate(!0,modelValue,viewValue)||!validateVersion(modelValue,viewValue))return!0;var parts=getSubnetParts(modelValue||viewValue);return!ctrl.noZeroSubnet||!parts.addr||!parts.addr.toInteger().isZero()&&0!==parts.prefix}function validateVersion(modelValue,viewValue){if(setValidationData(VERSION_VALIDATION_KEY,null),parseOrValidate(!0,modelValue,viewValue)){var parts=getSubnetParts(modelValue||viewValue);return setValidationData(VERSION_VALIDATION_KEY,parts.ipVersion),!ctrl.ipVersion||!parts.addrVersion||ctrl.ipVersion===parts.addrVersion}return!0}function parseOrValidate(phase,modelValue,viewValue){var value=modelValue||viewValue,validating=phase===PHASE.VALIDATING,parts=getSubnetParts(value),fail=!validating&&null,succeed=!!validating||(value||"");if(validating&&setValidationData(VALIDATION_KEY,parts.addrVersion),ctrl.ngModel.$isEmpty(value))return succeed;if(!parts.parts||2!==parts.parts.length)return fail;if(ctrl._ipVersion!==parts.addrVersion&&ctrl.ipVersionChange({$value:parts.addrVersion}),ctrl._ipVersion=parts.addrVersion,!parts.addr)return fail;if(4===parts.addrVersion)try{value=IpMask.parse(value).fullNetwork()}catch(ex){value=fail}else 6===parts.addrVersion?(isNaN(parts.prefix)||parts.prefix<0||parts.prefix>128)&&(value=fail):value=fail;return phase!==PHASE.PARSING||validateVersion(modelValue,viewValue)&&validateNoZeroSubnet(modelValue,viewValue)||(value=fail),value}function setValidationData(validationKey,v){ctrl.fField&&ctrl.fField.setValidationData(validationKey,[v,ctrl.ipVersion,v?lang("IPv"+v):"",ctrl.ipVersion?lang("IPv"+ctrl.ipVersion):""])}[VALIDATION_KEY,VERSION_VALIDATION_KEY].forEach(function(k){setValidationData(k,null)}),this.ngModel.$formatters.push(parseOrValidate.bind(this,PHASE.FORMATTING)),this.ngModel.$parsers.push(parseOrValidate.bind(this,PHASE.PARSING)),this.ngModel.$validators["f-ip-subnet-zero"]=validateNoZeroSubnet,this.ngModel.$validators[VERSION_VALIDATION_KEY]=validateVersion,this.ngModel.$validators[VALIDATION_KEY]=parseOrValidate.bind(this,PHASE.VALIDATING)}}},function(module,exports,__webpack_require__){"use strict";function get_expr(attr,virtualScroll){var expression,match,expr=(expression=attr.ngRepeat,{collection:(match=expression.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/))[2],item:match[1]});return virtualScroll&&(expr.collection=virtualScroll.collectionExpr()),expr.constraints=attr.fListEdit,expr}__webpack_require__(35).directive({fListEdit:function($log){function link(scope,elem,attr,ctrls){var collection_special,fListEditContainerController=ctrls.shift(),virtualScroll=ctrls.shift(),expr=get_expr(attr,virtualScroll);fListEditContainerController&&fListEditContainerController.init(expr,virtualScroll),scope.$watch(expr.collection,function(value){value&&(value&&!collection_special&&(collection_special={$constructor:value.$constructor,$factory:value.$factory}),collection_special&&collection_special.$factory!==value.$factory&&(value.$factory=collection_special.$factory),collection_special&&collection_special.$constructor!==value.$constructor&&(value.$constructor=collection_special.$constructor))})}return{priority:1001,require:["?^fListEditContainer","?^fVirtualScroll"],scope:!0,compile:function(tElement,tAttrs){if(tElement.addClass("f-list-edit-item"),tAttrs.ngRepeat)return link;$log.error("Unable to apply fListEdit directive, element must have ngRepeat directive as well",tElement)}}},fListEditItem:function(){function ListEditItem($scope,$element){this.buttons={},this._scope=$scope,this._$element=$element}return ListEditItem.prototype={init:function(expr,virtualScroll){if(this.expr)throw new Error("expr already set");this.expr=expr,this._scope.$watch(this.expr.collection,function(value){this.collection=value}.bind(this)),this._scope.$watch(this.expr.constraints,function(value){this.constraints=value}.bind(this),!0),this._virtualScroll=virtualScroll},addButton:function(button){return this.buttons[button.type]=button,!0},remove:function(index){this._virtualScroll&&(index+=this._virtualScroll.scrollWindow().start),this._scope.$emit("list_edit_item_removing",this.collection[index],this.collection,index).defaultPrevented||this.collection.splice(index,1)},can_remove:function(){return!this.constraints.min||this.collection.length>this.constraints.min},hover:function(type,active){this._$element.toggleClass("hover-"+type,active)}},{controller:ListEditItem,require:["fListEditItem","?^fVirtualScroll"],link:function(scope,elem,attr,ctrls){var ctrl=ctrls.shift(),virtualScroll=ctrls.shift();ctrl.init(get_expr(attr,virtualScroll),virtualScroll)}}},fListEditContainer:function($log,$parse){function ListEditContainer($scope){var ctrl=this;$scope.$list_edit_add=function(){},$scope.$list_edit_can_add=function(){var collection=$parse(ctrl.expr.collection)($scope),constraints=$parse(ctrl.expr.constraints)($scope)||{};return void 0===constraints.max||collection.length<constraints.max},this.buttons={},this._scope=$scope,$scope.$on("subform_auto_edit",function(event){if(!$scope.$emit("list_edit_auto_edit",this.collection).defaultPrevented){if(!ctrl.can_add)return;ctrl.add()}event.preventDefault()}.bind(this))}return ListEditContainer.prototype={init:function(expr,virtualScroll){this.expr=expr,this._scope.$watch(this.expr.collection,function(value){this.collection=value}.bind(this)),this._scope.$watch(this.expr.constraints,function(value){this.constraints=value}.bind(this),!0),this._virtualScroll=virtualScroll},addButton:function(button){this.buttons[button.type]=this.buttons[button.type]||[],this.buttons[button.type].push(button)},removeButton:function(button){var buttons=this.buttons[button.type];if(buttons){var index=buttons.indexOf(button);index>-1&&buttons.splice(index,1),buttons.length||delete this.buttons[button.type]}},add:function($event){$event&&$event.stopPropagation();var collection,Constructor,factory,item=(collection=this.collection,Constructor=collection.$constructor,factory=collection.$factory,Constructor?new Constructor:factory?collection.$factory():{});this._scope.$emit("list_edit_item_adding",item,this.collection).defaultPrevented||this.collection.push(item)},can_add:function(index,item){if(this._virtualScroll&&void 0!==index&&(index+=this._virtualScroll.scrollWindow().start),!this.expr)return!1;var have_outer=this.buttons.add&&item;return this.collection&&(!have_outer||!(item&&item.can_remove()))&&(!this.constraints.max||this.collection.length<this.constraints.max)&&(void 0===index||index===this.collection.length-1)}},{controller:ListEditContainer,scope:!0,require:"fListEditContainer"}},fListEditButton:function($parse,$log){var icons={add:"fa-plus-circle",remove:"fa-dismiss",edit:"fa-pencil"};function ListEditButton(){}return ListEditButton.prototype={_scope_apply:function(scope,scope_fn,args){var fn=$parse(scope_fn)(scope);if(fn)return fn.apply(scope,args);$log.error("No scope function",scope_fn," f-list-edit-button type ",this.type,"is not supported")},init:function(type,item,button){this.type=type,this.item=item,this.button=button}},{controller:ListEditButton,scope:!0,template:'<button class="f-list-edit-button" ng-click="$action($event)"      ng-class="$type" ng-show="$visible()"      type="button"      ng-transclude   ><f-icon ng-class="$class"></f-icon><span f-lang="{{ $lang }}" ng-if="$lang"></span></button>',replace:!0,transclude:!0,require:["^fListEditContainer","?^fListEditItem","fListEditButton"],link:function(scope,elem,attr,ctrls){var container=ctrls[0],item=ctrls[1],button=ctrls[2];button.init(attr.fListEditButton,item,button),item&&item.addButton(button)||container.addButton(button),scope.$on("$destroy",function(){container.removeButton(button)}),item&&elem.on("mouseover.f-list-edit-button, mouseout.f-list-edit-button",function(event){item.hover(attr.fListEditButton,"mouseover"===event.type)}),scope.$lang=void 0===attr.noText?attr.value||attr.fListEditButton:"",scope.$class=icons[attr.fListEditButton],scope.$type=attr.fListEditButton,angular.extend(scope,{$visible:function(){return button._scope_apply(this,"$list_edit_can_"+button.type,arguments)},$action:function(){return button._scope_apply(this,"$list_edit_"+button.type,arguments)},$list_edit_add:function($event){return container.add($event)},$list_edit_can_add:function(){var index=$parse("$index")(scope);return container.can_add(index,item)},$list_edit_remove:function($event){$event.stopPropagation(),$event.preventDefault();var index=$parse("$index")(scope);return item.remove(index)},$list_edit_can_remove:function(){return item&&item.can_remove()}})}}}})},function(module,exports,__webpack_require__){"use strict";function NumberModel(){}__webpack_require__(35).directive("fNumberModel",function(){return{restrict:"A",require:{ngModel:"ngModel"},controller:NumberModel,bindToController:!0,controllerAs:"fNumberModelController"}}),NumberModel.prototype={$onInit:function(){this.ngModel.$parsers.push(function(value){return parseFloat(value)})}}},function(module,exports,__webpack_require__){"use strict";var ngModule=__webpack_require__(35),ftnt_shared=__webpack_require__(8),Omniselect=ftnt_shared.Omniselect,log=ftnt_shared.log,dom=ftnt_shared.dom,lang=ftnt_shared.lang,tableUtil=ftnt_shared.muTableUtil,Tooltip=ftnt_shared.Tooltip;function OmniselectEntry($scope,$element){this.element=$element[0],this.element.style.display="inline-block",$scope.$watchGroup(["$ctrl.id","$ctrl.source","$ctrl.entry","$ctrl.tooltipHint"],()=>{(this.id&&this.source||this.entry)&&this._format()})}ngModule.component("fOmniselectEntry",{bindings:{id:"<",source:"<",entry:"<",fallbackFormatter:"&",tooltipHint:"<"},require:{targetController:"?^^fOmniselectEntryTooltipTarget",triggerController:"?^^fOmniselectEntryTooltipTrigger"},controller:OmniselectEntry}),OmniselectEntry.prototype.$onDestroy=function(){this._removeTooltip()},OmniselectEntry.prototype._removeTooltip=function(){this._tooltip&&this._tooltip.destroy()},OmniselectEntry.prototype._format=function(){let sourceID=this.source,entry=this.entry;entry?sourceID=Omniselect.prototype.ENTRY_SOURCE_ID_FUNCTION(entry):entry={[Omniselect.prototype.ENTRY_ID_KEY]:this.id,[Omniselect.prototype.SOURCE_ID_KEY]:sourceID},this.element.classList.remove("tooltip-hint"),this.element.innerHTML="",this._removeTooltip();try{let formatted=Omniselect.processedFormatEntrySync(entry,sourceID);this.element.innerHTML=formatted,this._addTooltip(entry,sourceID)}catch(e){this.element.appendChild(dom.elem("f-icon",{className:"fa-loading"})),Omniselect.processedFormatEntry(entry,sourceID).then(formatted=>{this.element.innerHTML=formatted,this._addTooltip(entry,sourceID)},error=>{log.warn(`Failed to render entry: ${error}`);let formatted=this.fallbackFormatter({id:this.id,source:this.source,entry:entry});null!=formatted&&tableUtil.setCellElementContent(this.element,formatted,{allowHTML:!0})})}},OmniselectEntry.prototype._addTooltip=function(entry,sourceID){const SOURCE=Omniselect.prototype.SOURCES[sourceID];let content=dom.elem("div",null,{children:[dom.elem("f-icon",{className:"fa-loading"}),dom.elem("span",{textContent:lang.translate("Loading")})]}),displayOptions={showDelay:!0,fixed:!0},alreadyRendered=!1;const targetElement=this.targetController&&this.targetController.element||null;targetElement&&(displayOptions.placementType=Tooltip.PLACEMENT_TYPE.ELEMENT,displayOptions.targetElement=targetElement);const triggerElement=this.triggerController&&this.triggerController.element||this.element;this._tooltip=Tooltip.addToElement(triggerElement,content,displayOptions,!0),this._tooltip.onShow(()=>{alreadyRendered||(Omniselect.processedFormatEntryTooltip(entry,sourceID).then(tooltipContent=>{displayOptions.padContent=!1,this._tooltip.setDisplayOptions(displayOptions),content.innerHTML="",content.appendChild(tooltipContent)},error=>{content.innerHTML="",content.appendChild(dom.elem("div",null,{children:[dom.elem("f-icon",{className:"fa-warning"}),dom.elem("span",{textContent:lang.translate("Failed to retrieve info")})]})),log.error(`Failed to render entry tooltip: ${error}`)}),SOURCE.dontCache||(alreadyRendered=!0))}),(this.tooltipHint||void 0===this.tooltipHint)&&this.element.classList.add("tooltip-hint")},ngModule.directive("fOmniselectEntryTooltipTarget",function(){return{controller:function($scope,$element){this.element=$element[0]}}}),ngModule.directive("fOmniselectEntryTooltipTrigger",function(){return{controller:function($scope,$element){this.element=$element[0]}}})},function(module,exports,__webpack_require__){"use strict";var ngModule=__webpack_require__(35);__webpack_require__(406),__webpack_require__(407);var fPasswordInput={controller:PasswordInput,templateUrl:__webpack_require__(406),scope:!0,require:{_ngModel:"ngModel",field:"?^fField"},bindings:{pwId:"@",editing:"=?",placeholder:"<?",showPassword:"=?",plainTextToggle:"<?",disabled:"<?"}};function PasswordInput($scope,$attrs,NgModelSyncHost){this._di={$scope:$scope,$attrs:$attrs},this.syncHost=new NgModelSyncHost,this.passwordInputs=new Set,this.$id=$scope.$id,this.ngModelOptions=angular.copy($scope.$eval($attrs.ngModelOptions))||{},this.pwId=this.pwId||"f-password-input_pw-input_"+this.$id,$scope.$watch("$ctrl.editing",function(newValue,oldValue){newValue&&!oldValue&&(this._ngModel.$setViewValue(void 0,!1),this.syncHost.model="")}.bind(this))}PasswordInput.prototype={_di:null,editing:!1,showPassword:!1,plainTextToggle:!0,modelName:function(suffix){return suffix=suffix||"",this._ngModel.$name&&this._ngModel.$name+"-password-input-show-"+suffix+this.$id},$onInit:function(){this.syncHost.init(this._ngModel,this.field&&this.field._add(this._ngModel,this._di.$attrs)),void 0===this.plainTextToggle&&delete this.plainTextToggle},$onDestroy:function(){this.field&&this.field._remove(this._ngModel,this._di.$attrs),this.syncHost.destroy()}},ngModule.component("fPasswordInput",fPasswordInput)},function(module,exports,__webpack_require__){"use strict";function Patterns(){}__webpack_require__(35).directive("fPatterns",function(){return{restrict:"A",require:{ngModel:"ngModel",fField:"^^?"},scope:{fPatterns:"<"},controller:Patterns,bindToController:!0,controllerAs:"fPatternsController"}}),Patterns.prototype={$onInit:function(){Object.keys(this.fPatterns).forEach(function(fPattern){var regexes;this.ngModel.$validators[fPattern]=(regexes=this.fPatterns[fPattern],Array.isArray(regexes)||(regexes=[regexes]),function(modelValue,viewValue){return!viewValue||regexes.some(function(regex){return viewValue.match(regex)})})}.bind(this))}}},function(module,exports,__webpack_require__){"use strict";const ngModule=__webpack_require__(35),resourceBarUtil=__webpack_require__(8).resourceBarUtil;var pbDirectiveConfig={restrict:"A",scope:{percentage:"=fProgressBar",showPercentage:"="},template:'<div class="progress-bar-value" ng-style="{width: normalizedPercentage}"></div><div class="progress-bar-label" ng-show="showPercentage" ng-style="{width: normalizedPercentage}"><span>{{normalizedPercentage}}</span></div>',link:function(scope,element){element.addClass("progress-bar"),scope.normalizedPercentage="";var normalizePercentage=function(){var value=scope.percentage;isNaN(value)?scope.normalizedPercentage="0%":(value<0&&(value=0),value>100&&(value=100),value=Math.round(value),scope.normalizedPercentage=value+"%")};scope.$watch("percentage",normalizePercentage),normalizePercentage()}};function SeverityProgressBar($scope){$scope.$watchGroup(["$ctrl.none","$ctrl.low","$ctrl.medium","$ctrl.high","$ctrl.critical","$ctrl.total"],function(updated){var noneCount=updated[0]||0,lowCount=updated[1]||0,mediumCount=updated[2]||0,highCount=updated[3]||0,criticalCount=updated[4]||0,totalCount=updated[5]||0,summedCount=noneCount+lowCount+mediumCount+highCount+criticalCount;this.nonePercentage=this.toCSSPercentage(noneCount,totalCount),this.lowPercentage=this.toCSSPercentage(lowCount,totalCount),this.mediumPercentage=this.toCSSPercentage(mediumCount,totalCount),this.highPercentage=this.toCSSPercentage(highCount,totalCount),this.criticalPercentage=this.toCSSPercentage(criticalCount,totalCount),this.totalPercentage=this.toCSSPercentage(summedCount,totalCount),this.displayPercentage=this.toDisplayPercentage(summedCount,totalCount)}.bind(this))}function PercentageProgressBar(){this.values=[]}function DiscreteLevelBar(){this.bar=this.getBarInfo(this.levels,this.value)}ngModule.directive("fProgressBar",function(){return angular.copy(pbDirectiveConfig)}),ngModule.directive("fResourceBar",function(){var dc=angular.copy(pbDirectiveConfig);return dc.scope=angular.extend({},dc.scope,{percentage:"=fResourceBar"}),dc.template='<div class="resource-bar-base" ng-style="{width: normalizedPercentage}"></div><div class="resource-bar-mid" ng-style="{width: normalizedPercentage, opacity: midBlend}"></div><div class="resource-bar-limit" ng-style="{width: normalizedPercentage, opacity: limitBlend}"></div>'+dc.template,dc.link=function(scope,element){element.addClass("resource-bar"),pbDirectiveConfig.link.apply(this,arguments),scope.$watch("percentage",function(value){const{limitBlend:limitBlend,midBlend:midBlend}=resourceBarUtil.getBlendPoints(value);scope.limitBlend=limitBlend,scope.midBlend=midBlend})},dc}),SeverityProgressBar.prototype._toPercentage=function(current,total){return 100*(current/total||0)},SeverityProgressBar.prototype.toCSSPercentage=function(current,total){return this._toPercentage(current,total).toFixed(2)+"%"},SeverityProgressBar.prototype.toDisplayPercentage=function(current,total){return this._toPercentage(current,total).toFixed(0)+" %"},ngModule.component("fSeverityProgressBar",{bindings:{none:"<?",low:"<?",medium:"<?",high:"<?",critical:"<?",total:"<",showPercentage:"<?"},template:'<div class="bar-value none" ng-style="{width: $ctrl.nonePercentage}"></div><div class="bar-value low" ng-style="{width: $ctrl.lowPercentage}"></div><div class="bar-value medium" ng-style="{width: $ctrl.mediumPercentage}"></div><div class="bar-value high" ng-style="{width: $ctrl.highPercentage}"></div><div class="bar-value critical" ng-style="{width: $ctrl.criticalPercentage}"></div><div class="severity-percentage" ng-style="{width: $ctrl.totalPercentage}" ng-show="$ctrl.showPercentage"><span>{{$ctrl.displayPercentage}}</span></div>',controller:SeverityProgressBar}),PercentageProgressBar.prototype={percentage:function(value){return value/this.values.reduce(function(r,v){return r+v},0)*100+"%"}},ngModule.component("fPercentageProgressBar",{bindings:{values:"<"},template:['<div ng-repeat="value in $ctrl.values track by $index" ',"   ng-class=\"'percentage-value-' + ($index + 1)\"",'   ng-style="{width: $ctrl.percentage(value)}"></div>'].join("\n"),controller:PercentageProgressBar}),DiscreteLevelBar.prototype.getCells=function(total,activeLevel){var i,cells=[];for(i=0;i<total;i++)cells.push(i<=activeLevel);return cells},DiscreteLevelBar.prototype.getBarInfo=function(levels,value){var length=(levels||[]).length,index=levels.findIndex(function(level){return level.name===value});if(-1===index)return{cells:this.getCells(length,-1)};var level=levels[index];return{cells:this.getCells(length,index),color:level.color,colorClass:level.class||""}},ngModule.component("fDiscreteLevelBar",{bindings:{levels:"<",value:"<"},template:'<div class="discrete-level-bar"><div ng-repeat="active in $ctrl.bar.cells track by $index" class="bar-cell" ng-class="active ? $ctrl.bar.colorClass : \'inactive\'" ng-style="active && $ctrl.bar.color && {\'background-color\': $ctrl.bar.color}"></div></div>',controller:DiscreteLevelBar}),ngModule.component("fRiskLevelBar",{bindings:{value:"<"},template:'<f-discrete-level-bar class="small" levels="$ctrl.levels" value="$ctrl.value"></f-discrete-level-bar>',controller:function(){this.levels=[{name:"low",class:"level-none"},{name:"elevated",class:"level-low"},{name:"medium",class:"level-medium"},{name:"high",class:"level-high"},{name:"critical",class:"level-critical"}]}}),ngModule.component("fVulnerabilityScoreBar",{bindings:{value:"<"},template:'<f-discrete-level-bar class="small" levels="$ctrl.levels" value="$ctrl.value"></f-discrete-level-bar>',controller:function(){this.levels=[{name:"info",class:"level-none"},{name:"low",class:"level-low"},{name:"medium",class:"level-medium"},{name:"high",class:"level-high"},{name:"critical",class:"level-critical"}]}}),ngModule.component("fThreatScoreBar",{bindings:{value:"<"},template:'<f-discrete-level-bar class="small" levels="$ctrl.levels" value="$ctrl.value"></f-discrete-level-bar>',controller:function(){this.levels=[{name:"low",class:"level-low"},{name:"medium",class:"level-medium"},{name:"high",class:"level-high"},{name:"critical",class:"level-critical"}]}}),ngModule.component("fThreatFormatter",{bindings:{entry:"<"},template:'<div ng-if="$ctrl.entry.score > 0">  <f-threat-score-bar value="$ctrl.levelValue"></f-threat-score-bar>  <span>{{ $ctrl.entry.score }}</span></div>',controller:function(){this.levelValue={1:"low",2:"medium",3:"high",4:"critical"}[this.entry.level]||"none"}})},function(module,exports,__webpack_require__){"use strict";var ngModule=__webpack_require__(35);ngModule.directive("fRadioGroup",function(){return{restrict:"E",scope:!1,controller:function($attrs){this.attr=$attrs},link:function(scope,elem){elem.addClass("radio-group")}}}),ngModule.directive("input",function($compile){var lastId=0,ID_PREFIX="f-radio-group-radio-",compiled=$compile('<label for="{{ attr.id }}" ng-class="{\'button-lg\': fRadioGroup.attr.large}"ng-if="attr.radioLabel || attr.radioMenuToggle"><f-icon ng-if="attr.radioIcon" ng-class="attr.radioIcon"></f-icon><span ng-if="attr.radioLabel" ng-class="{\'tooltip-hint\': hasTooltip}">{{ attr.radioLabel }}</span><span class="caret-down" ng-if="attr.radioMenuToggle"></span></label>');return{restrict:"E",require:"?^^fRadioGroup",scope:!1,link:function(scope,elem,attr,fRadioGroup){var templateScope=scope.$new();if(fRadioGroup&&"radio"===attr.type){const{radioTooltip:radioTooltip}=attr;attr.id||(attr.id=ID_PREFIX+scope.$id+"-"+ ++lastId,elem.prop("id",attr.id)),templateScope.attr=attr,templateScope.fRadioGroup=fRadioGroup,templateScope.hasTooltip=radioTooltip&&"false"!==radioTooltip,compiled(templateScope,function($label){elem.after($label)})}scope.$on("$destroy",function(){elem.remove()})}}})},function(module,exports,__webpack_require__){"use strict";var ngModule=__webpack_require__(35);__webpack_require__(408);var fAnimHeroRadioGroup={controller:AnimHeroRadioGroup,bindings:{model:"=",isEdit:"<"}};function getBoundingRect($el){var offset=$el.offset(),width=$el.outerWidth(),height=$el.outerHeight();return{x:offset.left,y:offset.top,width:width,height:height}}function AnimHeroRadioGroup($element,$scope){this.$element=$element,this.$scope=$scope,this.radioCtrlMap=new Map,this.boundingRect=null,this._initialModelValue=null,this._prevModel=null,this._currentState=null,this._queuedLayout=null,this._currentAnimation=null}ngModule.component("fAnimHeroRadioGroup",fAnimHeroRadioGroup),AnimHeroRadioGroup.prototype={ANIMATION_DURATION:.25,TRANSITION_END_EVENTS:["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"],actionTransitionFunctions:{CREATE:{select:function(){return this.radioCtrlMap.forEach(function(radioCtrl){radioCtrl.$element.show(),radioCtrl.updateTransform(null)}),this.queueLayout(),"PAUSE_AFTER_SELECTION"},selectWithZeroTransition:function(){return this.radioCtrlMap.forEach(function(radioCtrl){radioCtrl.$element.toggle(radioCtrl.value===this.model)}.bind(this)),"EDIT"}},EDIT:{unselect:function(){return this.radioCtrlMap.forEach(function(radioCtrl){radioCtrl.$element.show(),radioCtrl.updateTransform(radioCtrl.transform),radioCtrl.toggleVisibility(radioCtrl.value===this._prevModel)}.bind(this)),this.queueLayout(),"PAUSE_AFTER_UNSELECTION"}},PAUSE_AFTER_SELECTION:{unselect:function(){return this.cancelAnimation(),this.queueLayout(),"PAUSE_AFTER_UNSELECTION"},layout:function(){return this.updateBoundingRect(),this.radioCtrlMap.forEach(function(radioCtrl){radioCtrl.updateBoundingRect()}),this.startAnimation(this.ANIMATION_DURATION),"ANIMATE_AFTER_SELECTION"}},PAUSE_AFTER_UNSELECTION:{select:function(){return this.cancelAnimation(),this.queueLayout(),"PAUSE_AFTER_SELECTION"},layout:function(){this.updateBoundingRect();var missingTransforms=!1;return this.radioCtrlMap.forEach(function(radioCtrl){radioCtrl.updateBoundingRect(),missingTransforms=missingTransforms||!radioCtrl.transform}),missingTransforms?(this.queueTransformUpdate(),"PAUSE_AFTER_UNSELECTION"):(this.startAnimation(this.ANIMATION_DURATION),"ANIMATE_AFTER_UNSELECTION")},transformUpdate:function(){return this.radioCtrlMap.get(this._prevModel)?(this.updateExpectedTransforms(this._prevModel),requestAnimationFrame(function(){this.startAnimation(this.ANIMATION_DURATION)}.bind(this)),"ANIMATE_AFTER_UNSELECTION"):null}},ANIMATE_AFTER_SELECTION:{unselect:function(){return this.cancelAnimation(),this.queueLayout(),"PAUSE_AFTER_UNSELECTION"},animate:function(){return this.radioCtrlMap.get(this.model)?(this.updateExpectedTransforms(this.model),this.radioCtrlMap.forEach(function(radioCtrl){radioCtrl.toggleVisibility(!0)}),this._currentState):null},transitionend:function(){return this.radioCtrlMap.forEach(function(radioCtrl){if(radioCtrl.value!==this.model)radioCtrl.$element.hide();else{var cachedTransform=radioCtrl.transform;radioCtrl.updateTransform(null),radioCtrl.transform=cachedTransform}}.bind(this)),"EDIT"}},ANIMATE_AFTER_UNSELECTION:{select:function(){return this.cancelAnimation(),this.queueLayout(),"PAUSE_AFTER_SELECTION"},animate:function(){return this.radioCtrlMap.forEach(function(radioCtrl){radioCtrl.toggleVisibility(!0);radioCtrl.updateTransform({x:0,y:0})}),this._currentState},transitionend:function(){return"CREATE"}}},INITIAL_STATE:"CREATE",handleEvent:function(e){var actionTransitionFunction=this.actionTransitionFunctions[this._currentState][e.type];actionTransitionFunction||(actionTransitionFunction=this.unexpectedEvent);var nextState=actionTransitionFunction.call(this,e);nextState||(nextState=this._currentState),this.actionTransitionFunctions[nextState]||(nextState=this.undefinedState(e,nextState)),this._prevState=this._currentState,this._currentState=nextState},unexpectedEvent:function(){return this.reset(),this.radioCtrlMap.forEach(function(radioCtrl){radioCtrl.reset()}),"CREATE"},undefinedState:function(){return this.reset(),this.radioCtrlMap.forEach(function(radioCtrl){radioCtrl.reset()}),"CREATE"},queueLayout:function(){this.cancelQueuedLayout(),this._queuedLayout=setTimeout(function(){this.handleEvent({type:"layout"})}.bind(this))},cancelQueuedLayout:function(){clearTimeout(this._queuedLayout),this._queuedLayout=null},startAnimation:function(transitionDuration){var fireEvent=function(){this.handleEvent({type:"animate"})}.bind(this);if(this._currentAnimation=requestAnimationFrame(fireEvent),0!==transitionDuration){this.radioCtrlMap.forEach(function(radioCtrl){radioCtrl.toggleTransition(!0,transitionDuration)});var transitionendFired=!1;this.$element.on(this.TRANSITION_END_EVENTS.join(" "),function(){this.$element.off(this.TRANSITION_END_EVENTS.join(" ")),transitionendFired||(transitionendFired=!0,this.handleEvent({type:"transitionend"}),this.radioCtrlMap.forEach(function(radioCtrl){radioCtrl.toggleTransition(!1)}))}.bind(this))}},cancelAnimation:function(){this._currentAnimation&&cancelAnimationFrame(this._currentAnimation),this.radioCtrlMap.forEach(function(radioCtrl){radioCtrl.toggleTransition(!1)}),this._currentAnimation=null,this.$element.off(this.TRANSITION_END_EVENTS.join(" "))},queueTransformUpdate:function(){var fireEvent=function(){this.handleEvent({type:"transformUpdate"})}.bind(this);this.radioCtrlMap.forEach(function(radioCtrl){radioCtrl.toggleTransition(!1)}),this._queuedTransformUpdate=requestAnimationFrame(fireEvent)},cancelQueuedTransformUpdate:function(){this._queuedTransformUpdate&&cancelAnimationFrame(this._queuedTransformUpdate)},updateBoundingRect:function(){this.boundingRect=getBoundingRect(this.$element)},registerRadio:function(radioCtrl){this.radioCtrlMap.set(radioCtrl.value,radioCtrl),"EDIT"===this._currentState&&radioCtrl.value!==this.model&&radioCtrl.$element.hide()},updateExpectedTransforms:function(selectedValue){var firstRadioCtrl=null,indexOfSelected=this.radioCtrlMap.get(selectedValue).$element.index();this.radioCtrlMap.forEach(function(radioCtrl){0===radioCtrl.$element.index()&&(firstRadioCtrl=radioCtrl)}),this.radioCtrlMap.forEach(function(radioCtrl){var end,indexOf=radioCtrl.$element.index();end=radioCtrl.value===selectedValue?{x:firstRadioCtrl.boundingRect.x-radioCtrl.boundingRect.x,y:firstRadioCtrl.boundingRect.y-radioCtrl.boundingRect.y}:indexOf>indexOfSelected?{x:this.boundingRect.width+radioCtrl.boundingRect.x,y:0}:{x:0-(radioCtrl.boundingRect.x+radioCtrl.boundingRect.width),y:0},radioCtrl.updateTransform(end)}.bind(this))},reset:function(){this.cancelAnimation(),this.cancelQueuedLayout(),this.cancelQueuedTransformUpdate()},$postLink:function(){this.$scope.$watch("$ctrl.model",function(val,oldVal){if(val&&!this._initialModelValue){this._initialModelValue=val;var eventType=this.isEdit?"selectWithZeroTransition":"select";this.handleEvent({type:eventType})}else val?this.handleEvent({type:"select"}):this.handleEvent({type:"unselect"});this._prevModel=oldVal}.bind(this)),this._currentState=this.INITIAL_STATE},$onDestroy:function(){this.reset(),this.radioCtrlMap=null}};var fHeroRadio={controller:HeroRadio,templateUrl:__webpack_require__(408),bindings:{value:"@",name:"@",id:"@",disabled:"<",required:"<"},transclude:!0,require:{radioGroup:"^fAnimHeroRadioGroup"}};function HeroRadio($scope,$element){this.$element=$element,this.$scope=$scope,this.boundingRect=null,this.transform=null}ngModule.component("fHeroRadio",fHeroRadio),HeroRadio.prototype={updateBoundingRect:function(){var boundingRect=getBoundingRect(this.$element);boundingRect.x=boundingRect.x-this.radioGroup.boundingRect.x,boundingRect.y=boundingRect.y-this.radioGroup.boundingRect.y,this.boundingRect=boundingRect},updateTransform:function(transform){this.transform=transform;var el=this.$element[0],style=transform?"translate("+transform.x+"px, "+transform.y+"px)":"";el.style.webkitTransform=el.style.MozTransform=el.style.msTransform=el.style.OTransform=el.style.transform=style,this.$element.toggleClass("unselectable",!!transform&&this.radioGroup.model&&this.radioGroup.model!==this.value)},toggleTransition:function(toggle,transitionDuration){var style=toggle?"transform "+transitionDuration+"s ease-in-out":"";this.$element[0].style.transition=style},toggleIfSelected:function($event){this.radioGroup.model!==this.value||this.disabled||($event.preventDefault(),$event.stopPropagation(),this.radioGroup.model=void 0)},toggleVisibility:function(toggle){this.$element[0].style.visibility=toggle?"":"hidden"},reset:function(){this.toggleTransition(!1),this.updateTransform(null),this.toggleVisibility(!0),this.$element.show()},$onInit:function(){this.radioGroup.registerRadio(this),this.index=this.$element.index()}}},function(module,exports,__webpack_require__){"use strict";var ngModule=__webpack_require__(35);function ScrollMonitor($scope,$element,$window){this._$scope=$scope,this._$element=$element,this._$window=$window,this._scrollListener=this.scrollChanged.bind(this),$element.on("scroll.scroll-monitor",this._scrollListener),angular.element($window).on("resize.scroll-monitor",this._scrollListener)}ScrollMonitor.prototype={$onInit:function(){this.updateScroll(this._$element[0],!0)},$onDestroy:function(){angular.element(this._$window).off("resize.scroll-monitor",this._scrollListener)},scrollChanged:function(event){this.updateScroll(event.target)},updateScroll:function(elem,inDigest){var state={scrolledTop:0===elem.scrollTop,scrolledBottom:elem.scrollTop===elem.scrollHeight-elem.clientHeight};state.scrolledTop===this.scrolledTop&&state.scrolledBottom===this.scrolledBottom||this._$scope[inDigest?"$evalAsync":"$apply"](function(){Object.assign(this,state)}.bind(this))}},ngModule.directive("fScrollMonitor",function(){return{restrict:"A",bindToController:{scrolledTop:"=?",scrolledBottom:"=?"},controllerAs:"fScrollMonitor",controller:ScrollMonitor}})},function(module,exports,__webpack_require__){"use strict";var ngModule=__webpack_require__(35);ngModule.directive("fSearchInput",function(){return{restrict:"E",scope:{model:"=",enabled:"=",loading:"=",inputPlaceholder:"=",showFocus:"=",onKeyUp:"&",onKeyDown:"&",onEnter:"&",onEmptyBlur:"&",onClear:"&"},template:'<input type="text" placeholder="{{ctrl.inputPlaceholder}}" ng-model="ctrl.model" ng-model-options="ctrl.modelOptions" ng-disabled="ctrl.disabled"><f-icon class="search-indicator" ng-class="ctrl.indicatorIcon"></f-icon><f-icon class="clear-search fa-dismiss" ng-show="ctrl.model" ng-click="ctrl.clear()"></f-icon>',bindToController:!0,controllerAs:"ctrl",controller:function($scope,$element,$attrs,$timeout){var ctrl=this,$input=$element.find('input[type="text"]');ctrl.modelOptions={},$attrs.debounce&&(ctrl.modelOptions.debounce=Number($attrs.debounce)),$scope.$watchGroup(["ctrl.loading","ctrl.enabled"],function(values){var loading=values[0],disabled=!1===values[1];ctrl.indicatorIcon=loading?"fa-loading":"fa-search",ctrl.disabled=disabled||loading,$element.toggleClass("disabled",disabled)}),$scope.$watch("ctrl.showFocus",function(showFocus){showFocus&&$timeout(function(){$input.focus()})}),$input.on("keyup",function(event){13===event.keyCode?$scope.$apply(function(){ctrl.onEnter()}):$scope.$apply(function(){ctrl.onKeyUp({event:event})})}),$input.on("keydown",function(event){$scope.$apply(function(){ctrl.onKeyDown({$event:event})})}),$input.on("blur",function(){ctrl.model||$scope.$apply(function(){ctrl.onEmptyBlur()})}),this.clear=function(){ctrl.model="",ctrl.onClear()}}}})},function(module,exports,__webpack_require__){"use strict";var ngModule=__webpack_require__(35),ftnt_shared=__webpack_require__(8),browser=ftnt_shared.browser;__webpack_require__(404),__webpack_require__(409);var dimensions=__webpack_require__(677),TEMPLATE_URL=__webpack_require__(409);function OmniselectController($scope,$element,$q){this.$scope=$scope,this.$element=$element,this.$q=$q,this.editText=Omniselect.prototype.EDIT_TEXT,this.select=null}function OmniselectSelectionPaneAttachPoint($element,$scope,DebouncedLayoutTracker){this._di={$element:$element,$scope:$scope,DebouncedLayoutTracker:DebouncedLayoutTracker}}OmniselectController.prototype.$onInit=function(){this.ngModel.$isEmpty=function(value){return!value||Array.isArray(value)&&!value.length},this.ngModel.$render=function(){var value=this.ngModel.$modelValue;void 0!==value&&this.select&&this.select.update({selected:value})}.bind(this),this.startWatches(),this.startListenerWatches()},OmniselectController.prototype.$onDestroy=function(){this.select&&this.select.destroy()},OmniselectController.prototype.startWatches=function(){this.$scope.$watch("$ctrl.settings",function(settings){settings&&(this.select?this.select.update({settings:settings}):this.initializeSelect())}.bind(this)),this.$scope.$watch("$ctrl.disabled",function(value,previous){value!==previous&&this.select&&this.select.disable(value)}.bind(this))},OmniselectController.prototype.initializeSelect=function(){var onChange=function(selected){var validationStatus=this.field&&this.field.getValidationStatus(this.ngModel);validationStatus&&(validationStatus.showMessageOnBlur=!1,validationStatus.showMessage=!0),this.$scope.$apply(function(){this.ngModel.$$lastCommittedViewValue=this.ngModel.$viewValue=selected,this.ngModel.$$parseAndValidate(),this.changeEvent&&this.$scope.$root.$broadcast(this.changeEvent,selected)}.bind(this))}.bind(this),onPreprocessComplete=function(){this.$scope.$apply(function(){this.onPreprocessComplete()}.bind(this))}.bind(this),chooseSelectionPaneContainer=function($viewContainer,$selectionPaneElement){var $attachPoint=browser.supports.positionSticky&&this.selectionPaneContainer&&this.selectionPaneContainer.attachPoint&&this.selectionPaneContainer.attachPoint.$element;return $selectionPaneElement.toggleClass("attach-left",this._shouldAttachLeft($attachPoint)),$selectionPaneElement.toggleClass("sticky",!!$attachPoint),$attachPoint||null}.bind(this),selected=this.ngModel.$modelValue,settings=this.settings;void 0!==selected&&""!==selected||(selected=this.settings.singleSelect?null:[]),this.ngModel.$modelValue=selected,this.fSlideContainer&&(settings=Object.assign({insideSlide:!0},settings)),settings=Object.assign({getSelectionPaneContainerFunction:chooseSelectionPaneContainer},settings),this.select=this.instance=new Omniselect({includeInput:!0,changeCallback:onChange,onOpenChooser:function(){this.$scope.$apply()}.bind(this),onPreprocessComplete:onPreprocessComplete,settings:settings,selected:this.ngModel.$modelValue}),this.disabled&&this.select.disable(!0),this.$element.addClass("f-omniselect"),this.$element.prepend(this.select.$element)},OmniselectController.prototype._shouldAttachLeft=function($attachPoint){var leftSpace,$container=this.selectionPaneContainer&&this.selectionPaneContainer.$element,width=dimensions.select.selectionPane.width;return!(!$container||!$attachPoint)&&(leftSpace=$attachPoint.offset().left-$container.offset().left,$container.innerWidth()-$attachPoint.width()-leftSpace>width&&leftSpace<2.5*width)},OmniselectController.prototype.startListenerWatches=function(){var LISTENERS={reProcessOn:ftnt_shared.util.debounce(300,function(){this.select&&this.select.update({reProcess:!0})}.bind(this)),reloadOn:ftnt_shared.util.debounce(300,function(){this.select&&this.select.update({reload:!0})}.bind(this))},deregistration={};Object.keys(LISTENERS).forEach(function(key){this.$scope.$watch("$ctrl."+key,function(value){deregistration[key]&&(deregistration[key].forEach(function(deregister){deregister()}),delete deregistration[key]),value&&(Array.isArray(value)||(value=[value]),deregistration[key]=value.map(function(eventName){return this.$scope.$on(eventName,LISTENERS[key])}.bind(this)))}.bind(this))}.bind(this))},OmniselectController.prototype.showInlineEditShortcut=function(){return this.inlineEditShortcut&&this.settings&&this.settings.singleSelect&&this.select&&this.select.inlineEditSupported()},OmniselectController.prototype.inlineEdit=function(){var value=this.ngModel.$modelValue,entry=Array.isArray(value)?value[0]:value;this.inlineEditDisabled=!0,this.$q.when(this.select.inlineEdit(entry)).finally(function(){this.inlineEditDisabled=!1}.bind(this))},ngModule.directive("fOmniselect",function(){return{restrict:"A",templateUrl:TEMPLATE_URL,scope:{settings:"<fOmniselect",disabled:"<",changeEvent:"@",reProcessOn:"<",reloadOn:"<",onPreprocessComplete:"&",inlineEditShortcut:"<",instance:"=?"},bindToController:!0,controllerAs:"$ctrl",require:{ngModel:"ngModel",field:"?^fField",fSlideContainer:"^^?",selectionPaneContainer:"^^?fOmniselectSelectionPaneContainer"},controller:OmniselectController}}),ngModule.directive("fOmniselectSelectionPaneContainer",function(){return{restrict:"A",controller:function($element){this.attachPoint=null,this.$element=$element}}}),OmniselectSelectionPaneAttachPoint.prototype={getHeight:function(stickyElement){if(!stickyElement)return"";var containerStyle=getComputedStyle(this.container.$element[0]),padding=parseFloat(containerStyle.paddingTop)+parseFloat(containerStyle.paddingBottom),result=this.container.$element[0].getBoundingClientRect().height-padding;return result?result+"px":""},$onInit:function(){if(this.$element=this._di.$element.children().first(),this.container.attachPoint)throw new Error("Only one selection pane attach point is allowed at a time");this.container.attachPoint=this;var tracker=new(0,this._di.DebouncedLayoutTracker)(this.getHeight.bind(this,this.$element[0]),this._di.$scope),stickyElement=this.$element[0];this._di.$scope.$watch(tracker.latest,function(height){stickyElement.style.height=height})},$onDestroy:function(){if(this.container.attachPoint!==this)throw new Error("Another attach point was detected while trying to destroy");this.container.attachPoint=null}},ngModule.component("fOmniselectSelectionPaneAttachPoint",{controller:OmniselectSelectionPaneAttachPoint,template:'<div class="sticky-container"></div>',require:{container:"^^fOmniselectSelectionPaneContainer"}})},function(module){module.exports={select:{selectionPane:{width:300}},table:{pane:{width:360}}}},function(module,exports,__webpack_require__){"use strict";const ngModule=__webpack_require__(35),log=__webpack_require__(8).log;var fSlideContainer={controller:class{$onInit(){this._titleSetManually=this.slide.hasTitle()}setTitle(title){this._titleSetManually?log.info(`Ignoring fDialog title "${title}" for slide as a title is manually set `+"in the slide options."):this.slide.update({title:title})}},bindings:{slide:"<"}};ngModule.component("fSlideContainer",fSlideContainer)},function(module,exports,__webpack_require__){"use strict";var ngModule=__webpack_require__(35),ftnt_shared=__webpack_require__(8),validSides=new Set(["left","right"]);var fSlideIn={bindToController:{fSlideIn:"=",slideFrom:"@",slideComplete:"&"},controllerAs:"fSlideInCtrl",controller:function($element,$attrs,$scope,$q){this.$onInit=function(){var showing=null;function hide(shouldHide){shouldHide=void 0===shouldHide?!showing:shouldHide,$element[0].classList[!1===shouldHide?"remove":"add"]("ng-hide")}$scope.$watch("fSlideInCtrl.fSlideIn",function(value,oldValue){var side=this.slideFrom||"right",animationDone=null;if(!validSides.has(side))throw new Error("Invalid side for slide-in slide-side attribute: "+side);showing=value,value!==oldValue?(value?(hide(!1),animationDone=ftnt_shared.animation.slideInAnimate($element[0],side)):animationDone=ftnt_shared.animation.slideOutAnimate($element[0],side).then(hide),$q.when(animationDone).then(this.slideComplete.bind(this))):value||hide()}.bind(this))}}};ngModule.directive("fSlideIn",function(){return fSlideIn})},function(module,exports,__webpack_require__){"use strict";var ngModule=__webpack_require__(35),fSparkline={bindings:{data:"<",axisXKey:"@axisX",axisYKey:"@axisY",highlightKey:"@highlightKey",axisXRange:"<",formatAxisScale:"&",formatXScale:"&",formatYScale:"&"},controllerAs:"sparkline",controller:Sparkline,templateUrl:__webpack_require__(681)};function Sparkline($scope,$element,$attrs,$$rAF){this.axisXKey="x",this.axisYKey="y",this.highlightKey="highlight",this._di={$attrs:$attrs,$$rAF:$$rAF,$scope:$scope},this.$svg=$element[0].querySelector("svg"),this.$svgParent=this.$svg.parentNode,this.extents=null,this.size=null,this._updateExtents()}Sparkline.prototype={$onInit:function(){this._di.$scope.$watch("sparkline.size",this._updateData.bind(this),!0),this._di.$scope.$watch("sparkline.data",this._updateData.bind(this),!0),this._di.$scope.$watch("sparkline._getGraphSize()",function(ps){this.size={x:ps.width,y:ps.height};var x=ps.x-Math.round(ps.x),y=ps.y-Math.round(ps.y);this.$svg.setAttribute("viewBox",[x-1,y-1,ps.width+2,ps.height+2].join(" "))}.bind(this),!0)},$onDestroy:function(){this.destroyed=!0,this._getGraphSize.cancelUpdating&&this._getGraphSize.cancelUpdating()},_getGraphSize:function(){if(!this.destroyed)return this._graphSize||this._updateGraphSize(),this._getGraphSize.updating||(this._getGraphSize.cancelUpdating=this._di.$$rAF(function(){this._getGraphSize.cancelUpdating=null,this._updateGraphSize()}.bind(this))),this._graphSize},_updateGraphSize:function(){var bcr=this.$svgParent.getBoundingClientRect();this._graphSize={x:bcr.x,y:bcr.y,width:bcr.width,height:bcr.height}},_formatAxisScale:function(value,axis,min){var locals={$value:value=isFinite(value)?value:"",$maxValue:this.extents.max[axis],$minValue:this.extents.min[axis],$axis:axis,$min:min,$max:!min};return this._di.$attrs.formatXScale&&"x"===axis?this.formatXScale(locals):this._di.$attrs.formatYScale&&"y"===axis?this.formatYScale(locals):this._di.$attrs.formatAxisScale?this.formatAxisScale(locals):"x"===axis&&value},_updateExtents:function(){var initialExtents={max:{x:-1/0,y:-1/0},min:{x:1/0,y:1/0}},axisX=this.axisXKey,axisY=this.axisYKey;this.extents=axisX&&axisY&&this.data?function(extents){extents.max.y===extents.min.y&&(++extents.max.y,extents.min.y>0?--extents.min.y:++extents.max.y);extents.max.x===extents.min.x&&(++extents.max.x,extents.min.x>0?--extents.min.x:++extents.max.x);return extents}(this.data.reduce(function(extents,d){return{max:{x:Math.max(extents.max.x,d[axisX]),y:Math.max(extents.max.y,d[axisY])},min:{x:Math.min(extents.min.x,d[axisX]),y:Math.min(extents.min.y,d[axisY])}}},initialExtents)):initialExtents,null!=this.axisXRange&&(this.extents.min.x=this.extents.max.x-this.axisXRange)},xAxisMax:function(){return this._formatAxisScale(this.extents.max.x,"x",!1)},xAxisMin:function(){return this._formatAxisScale(this.extents.min.x,"x",!0)},yAxisMax:function(){return this._formatAxisScale(this.extents.max.y,"y",!1)},yAxisMin:function(){return this._formatAxisScale(this.extents.min.y,"y",!0)},xAxisVisible:function(){return!1!==this._formatAxisScale(1,"x",!0)||!1!==this._formatAxisScale(1,"x",!1)},yAxisVisible:function(){return!1!==this._formatAxisScale(1,"y",!0)||!1!==this._formatAxisScale(1,"y",!1)},_updateData:function(){this._updateExtents(),this._rawPoints=this._getRawPoints()},_getRawPoints:function(){var key,axisX=this.axisXKey,axisY=this.axisYKey,highlightKey=this.highlightKey;if(this.extents&&this.data&&this.axisXKey&&this.axisYKey&&this.size){var rangeY=this.extents.max.y-this.extents.min.y,min=this.extents.min,s={x:(this.size.x-2)/(this.extents.max.x-this.extents.min.x),y:(this.size.y-2)/(this.extents.max.y-this.extents.min.y)};return isFinite(s.x)&&isFinite(s.y)?this.data.slice().sort((key=axisX,function(a,b){return a&&b?a[key]-b[key]:a&&!b?1:!a&&b?-1:0})).map(function(d){var point_x=d[axisX],point_y=d[axisY];return{highlight:d[highlightKey],x:1+(point_x-min.x)*s.x,y:1+(rangeY-(point_y-min.y))*s.y}}):""}return[]},points:function(){return this._rawPoints?this._rawPoints.map(function(p){return[p.x,p.y].join(",")}).join(" "):""}},ngModule.component("fSparkline",fSparkline)},function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-sparkline.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<div class="flex-row-stretch flex-grow sparkline-top">\n    <div class="flex-col-stretch flex-grow sparkline-container">\n        <svg viewBox="-0.1 -0.1 1.1 1.1" preserveAspectRatio="none">\n            <polyline fill="none" stroke="black"\n                stroke-width="0.75"\n                ng-attr-points="{{ sparkline.points() }}"></polyline>\n            <circle fill="black" ng-repeat="p in sparkline._rawPoints | filter:{highlight:true}" ng-attr-cy="{{ p.y }}" ng-attr-cx="{{ p.x }}" r="2"></circle>\n        </svg>\n    </div>\n    <div class="axis-y-labels flex-col-stretch flex-space-between flex-no-shrink"\n            ng-if="sparkline.yAxisVisible()">\n        <div class="axis-y-max">{{ sparkline.yAxisMax() }}</div>\n        <div class="axis-y-min">{{ sparkline.yAxisMin() }}</div>\n    </div>\n</div>\n<div class="flex-row-stretch flex-no-shrink axis-x-labels" ng-if="sparkline.xAxisVisible()">\n    <div class="flex-row-stretch flex-space-between flex-grow axis-x-label-flex">\n        <div class="axis-x-min">{{ sparkline.xAxisMin() }}</div>\n        <div class="axis-x-max">{{ sparkline.xAxisMax() }}</div>\n    </div>\n    <div class="flex-col-stretch axis-y-spacing flex-no-shrink" ng-if="sparkline.yAxisVisible()">\n        <div class="axis-y-max">{{ sparkline.yAxisMax() }}</div>\n        <div class="axis-y-min">{{ sparkline.yAxisMin() }}</div>\n    </div>\n</div>')}]),module.exports=path},function(module,exports,__webpack_require__){"use strict";__webpack_require__(410);const{Node:Node,createNodeComparator:createNodeComparator}=__webpack_require__(389);var ngModule=__webpack_require__(35),fTreeView={templateUrl:__webpack_require__(410),bindings:{source:"=",key:"@",parentKey:"@",nodeClick:"&?",nodeContextClick:"&?",expansionControls:"<",collapsedRoot:"<",limit:"@",compareFn:"&?",deepWatchSource:"<"},transclude:!0,controllerAs:"treeView",controller:TreeView};function TreeView($scope,$transclude){if(this._transcludeFn=$transclude,this.limit&&this.expansionControls)throw new Error("Cannot use both limit and expansionControls in same tree view.");this.limit=Number(this.limit)||void 0,this._toggledLimit=this.limit,$scope.$watch("treeView.source",function(){this.nodeList=this._processSource(),this.expansionControls&&this.collapsedRoot&&this._collapseAllNodes()}.bind(this),!!this.deepWatchSource)}ngModule.component("fTreeView",fTreeView),TreeView.prototype._processSource=function(){var nodeMap={},key=this.key,parentKey=this.parentKey,nodeList=[];return(this.source||[]).forEach(function(item,index){var id=item[key];if(id){var parentId=item[parentKey],node=new Node(id,parentId,item,index);nodeMap[id]=node,nodeList.push(node)}}),nodeList.forEach(function(node){if(!node.ancestors.length){var parentNode=nodeMap[node.parentId];for(parentNode&&parentNode.addChild(node);parentNode;)node.addAncestor(parentNode),parentNode=nodeMap[parentNode.parentId]}}),nodeList.sort(createNodeComparator(nodeMap,this.compareFn))},TreeView.prototype._collapseAllNodes=function(){this.nodeList.forEach(function(node){node.toggleExpansion(!1)})},TreeView.prototype.isLast=function(ancestorId,index){for(var i=index+1;i<this.nodeList.length;++i){if(this.nodeList[i].parentId===ancestorId)return!1}return!0},TreeView.prototype.toggleLimit=function($event){$event.preventDefault(),this._toggledLimit=this._toggledLimit?void 0:this.limit};var fTreeNode={require:{treeView:"^^fTreeView"},bindings:{source:"="},controller:function($scope,$element){this.$onInit=function(){if($scope.treeView=this.treeView,this.treeView._transcludeFn($scope,function(clone){$element.append(clone)}),$scope.treeView.nodeClick){var clickHandler=function(event){$scope.treeView.nodeClick({$event:event,node:this.source})}.bind(this);$element.on("click",clickHandler)}if($scope.treeView.nodeContextClick){var contextClickHandler=function(event){$scope.treeView.nodeContextClick({$event:event,node:this.source})}.bind(this);$element.on("contextmenu",contextClickHandler)}}},controllerAs:"treeNode"};ngModule.component("fTreeNode",fTreeNode)},function(module,exports,__webpack_require__){"use strict";var ngModule=__webpack_require__(35);function UniqueItems(){this._registeredControllers=new Set,this._invalidPairs=[]}function UniqueItem($attrs){this.$attrs=$attrs}UniqueItems.prototype.registerControllers=function(controller){this._registeredControllers.add(controller)},UniqueItems.prototype.unregisterControllers=function(controller){this._updatePairs(!0),this._registeredControllers.delete(controller),this._removeInvalidPairs(controller),this._updatePairs(!1)},UniqueItems.prototype._removeInvalidPairs=function(controller){this._invalidPairs=this._invalidPairs.filter(function(pair){var isFirstPair=pair[0].modelCtrl===controller.modelCtrl,isSecondPair=pair[1].modelCtrl===controller.modelCtrl;return!(isFirstPair||isSecondPair)})},UniqueItems.prototype._updatePairs=function(valid){this._invalidPairs.forEach(function(pair){this._updatePair(pair,valid)}.bind(this))},UniqueItems.prototype._updatePair=function(pair,valid){pair.forEach(function(one){this._updateController(one,valid)}.bind(this))},UniqueItems.prototype._updateController=function(controller,valid){controller.modelCtrl.$setValidity("f_unique_items",valid),controller.fieldCtrl.showValidationMessages()},UniqueItems.prototype.validate=function(modelValue,viewValue,candidate){return this._removeInvalidPairs(candidate),!modelValue&&!viewValue||(this._registeredControllers.forEach(function(registered){(this._updateController(registered,!0),registered.modelCtrl!==candidate.modelCtrl)&&((candidate.$attrs.fUniqueItem?candidate.distinctFn({$value:candidate.modelCtrl.$viewValue,$other:registered.modelCtrl.$viewValue}):candidate.modelCtrl.$viewValue!==registered.modelCtrl.$viewValue)||this._invalidPairs.push([candidate,registered]))}.bind(this)),this._updatePairs(!1),!0)},ngModule.directive("fUniqueItems",function(){return{restrict:"A",controller:UniqueItems}}),UniqueItem.prototype.$onInit=function(){this.controller={$attrs:this.$attrs,distinctFn:this.distinctFn,modelCtrl:this.modelCtrl,fieldCtrl:this.fieldCtrl},this.allUniqueCtrl.registerControllers(this.controller),this.modelCtrl.$validators.allUniqueItems=function(modelValue,viewValue){return this.allUniqueCtrl.validate(modelValue,viewValue,this.controller)}.bind(this)},UniqueItem.prototype.$onDestroy=function(){this.allUniqueCtrl.unregisterControllers(this.controller)},ngModule.directive("fUniqueItem",function(){return{restrict:"A",require:{modelCtrl:"ngModel",fieldCtrl:"^fField",allUniqueCtrl:"^fUniqueItems"},scope:{distinctFn:"&fUniqueItem"},bindToController:!0,controller:UniqueItem,controllerAs:"ctrl"}})},function(module,exports,__webpack_require__){"use strict";var ngModule=__webpack_require__(35),ftnt_shared=__webpack_require__(8);function VerticalCollapse($scope,$element,$attrs,$parse){this._$scope=$scope,this._$attrs=$attrs,this._element=$element[0],this._$parse=$parse,this._watchAttributes()}VerticalCollapse.prototype._isEnabled=function(){var enabled=!0,attribute=this._$attrs.fVerticalCollapse;return attribute&&(enabled=this._$parse(attribute)(this._$scope)),enabled},VerticalCollapse.prototype._expand=function(){ftnt_shared.animation.toAutoHeightVerticalExpand(this._element,0)},VerticalCollapse.prototype._collapse=function(){ftnt_shared.animation.fromAutoHeightVerticalShrink(this._element,0)},VerticalCollapse.prototype._watchAttributes=function(){var unwatch={};["ngShow","ngHide"].forEach(function(attr){unwatch[attr]=angular.noop,this._$attrs.$observe(attr,function(expr){unwatch[attr](),unwatch=this._$scope.$watch(expr,function(value,oldValue){if(value!==oldValue&&this._isEnabled()){var visible="ngShow"===attr?value:!value,skipAnimation=this.fVirtualScroll&&!!this.fVirtualScroll.justScrolled;skipAnimation?ftnt_shared.animation.noanimation(this._element,transition.bind(this,visible)):transition.call(this,visible)}function transition(isVisible){isVisible?this._expand():this._collapse()}}.bind(this))}.bind(this))}.bind(this))},ngModule.directive("fVerticalCollapse",function(){return{controller:VerticalCollapse,controllerAs:"fVerticalCollapse",bindToController:{},require:{fVirtualScroll:"^^?"}}})},function(module,exports,__webpack_require__){"use strict";var ngModule=__webpack_require__(35);function VirtualScroll($scope,$element,$attrs,$timeout){this.count=parseFloat($attrs.items),this.$element=$element,this.makeSlices=this.makeSlices.bind(this,$scope,$timeout),this.updateScroll=this.updateScroll.bind(this,$timeout,$element),this.collectionExpr=this.collectionExpr.bind(this,$attrs),this.$elems={before:[],visible:[],after:[]},this._elemsSorted={},$scope.$virtualScroll=this,this.scrollTop=$element[0].scrollTop;var updating=!1;$element.on("scroll",function(){$scope.$apply(function(){updating||($scope.$evalAsync(function(){updating=!1,this.updateScroll()}.bind(this)),updating=!0)}.bind(this))}.bind(this)),$scope.$evalAsync(this.updateScroll),$scope.$watchCollection($attrs.fVirtualScroll,this.makeSlices)}function vsItem(location){return{link:function(scope,elem){scope.$virtualScroll.add(elem,location),scope.$on("$destroy",function(){scope.$virtualScroll.remove(elem,location)})}}}VirtualScroll.prototype={scrollTop:null,emptyArray:[],collectionExpr:function($attrs){return $attrs.fVirtualScroll},makeSlices:function($scope,$timeout,value){value?this._lastValue=value:value=this._lastValue,value&&Array.isArray(value)&&($scope.$VSSliceBefore=this.slice("before",value),$scope.$VSSliceVisible=this.slice("visible",value),$scope.$VSSliceAfter=this.slice("after",value)),$timeout.cancel(this.justScrolled),this.justScrolled=$timeout(function(){this.justScrolled=!1}.bind(this))},slice:function(location,items){var sw=this.scrollWindow();switch(location){case"before":return items.slice(0,sw.start);case"visible":return items.slice(sw.start,sw.start+sw.count);case"after":return items.slice(sw.start+sw.count)}},scrollWindow:function(){if(this._scrollWindow)return this._scrollWindow;var start=this.findStart(),sw={start:start||0,count:this.count};return null!==start&&(this._scrollWindow=sw),sw},updateScroll:function($timeout,$element,value){value=value||this.$element[0].scrollTop,this._scrollTop!==value&&(this._scrollWindow=null,this._scrollTop=value,this.makeSlices())},findStart:function(){var locations=Object.keys(this.$elems),start=null,containerTop=this.$element.offset().top;if(0===this.$element[0].offsetHeight)return null;locations.forEach(function(l){this._elemsSorted[l]||this.$elems[l].sort(this.elemSort)}.bind(this));var elems=[this.$elems.before,this.$elems.visible,this.$elems.after].reduce(function(result,arr){return result.concat(arr)},[]),pos=0,oldPos=null,len=elems.length,min=0,max=len,a=null,b=null,guard=100*len;if(!len)return!1;do{if(null!==a&&null!==b&&(oldPos=pos,a>0?(max=pos,pos-=Math.round((pos-min)/2)):b<0?(min=pos,pos+=Math.round((max-pos)/2)):0===b&&(min=pos,pos+=1),pos<0))throw console.error({pos:pos,len:len,a:a,b:b,oldPos:oldPos}),new Error("Calculated invalid search position");if((a=elems[pos].offset().top-containerTop)>(b=pos+1>=len?a+1:elems[pos+1].offset().top-containerTop))throw new Error("List not sorted");if(a<=0&&b>0&&(start=pos+0),--guard<=0)throw new Error("Binary Search Failed!")}while(pos+1<len&&pos!==oldPos&&null===start);return null===start&&pos+1>=len&&(start=len-this.count),start},add:function(elem,location){this.$elems[location].push(elem),this._elemsSorted[location]=!1,this._scrollWindow=null},remove:function(elem,location){var locElems=this.$elems[location],index=locElems.indexOf(elem);index>-1&&locElems.splice(index,1)},elemSort:function(a,b){var a0=a[0],b0=b[0];return a0.offsetParent===b0.offsetParent?a0.offsetTop-b0.offsetTop:a.position().top-b.position().top}},ngModule.directive({fVirtualScroll:function(){return{controller:VirtualScroll,requires:"fVirtualScroll",scope:!0,link:function(scope,elem){elem.addClass("f-virtual-scroll")}}},fVirtualScrollBefore:function(){return vsItem("before")},fVirtualScrollAfter:function(){return vsItem("after")},fVirtualScrollVisible:function(){return vsItem("visible")}})},function(module,exports,__webpack_require__){"use strict";var ngModule=__webpack_require__(35),ftnt_shared=__webpack_require__(8);ngModule.component("fSignalStrengthBar",{controller:function($scope,$sce){this.$onInit=function(){$scope.$watch("$ctrl.signalStrength",function(value){null!=value&&(this.barHtml=$sce.trustAsHtml(ftnt_shared.formatters.signalStrengthBar(value,this.barSize,this.title,this.reverse)))}.bind(this))}},bindings:{signalStrength:"=",barSize:"@",title:"=",reverse:"<"},template:'<div ng-bind-html="$ctrl.barHtml"></div>'})},function(module,exports,__webpack_require__){"use strict";var ngModule=__webpack_require__(35),ftnt_shared=__webpack_require__(8),DEFAULT_DISPLAY_OPTIONS={};function Tip($scope,$element){this.$scope=$scope,this.$element=$element,this.targetElement=null,this.contentsElement=null,this.$clonedNodes=null,this.tooltip=null}function TipTarget($scope,$element){this.element=$element[0],this.tipController=null}function SharedTipTarget($scope,$element){this.tipController=null,this.$scope=$scope,this.$element=$element}function SharedTip(){this.tooltip=null,this.contentsElement=null,this.$clonedNodes=null}Tip.prototype.getDisplayOptions=function(){return Object.assign({},DEFAULT_DISPLAY_OPTIONS,this.displayOptions)},Tip.prototype.setupTooltip=function(){var container=this.selfContained?this.targetElement:null,tooltip=new Tooltip(this.getDisplayOptions(),null,container),title=this.$element[0].getAttribute("title");title&&(this.$element[0].setAttribute("original-title",title),this.$element[0].removeAttribute("title")),tooltip.setContent(title||this.contentsElement),tooltip.showOnElementHover(this.targetElement),tooltip.onShow(function(){this.onShow({tooltip:tooltip})}.bind(this)),tooltip.onHide(function(){this.onHide({tooltip:tooltip})}.bind(this)),this.tooltip=tooltip},Tip.prototype.startWatches=function(){this.$scope.$watch("$ctrl.enabled",function(enabled){null==enabled||enabled?this.tooltip||this.setupTooltip():this.tooltip&&(this.tooltip.destroy(),this.tooltip=null)}.bind(this)),this.$scope.$watch("$ctrl.displayOptions",function(displayOptions){displayOptions&&this.tooltip&&this.tooltip.setDisplayOptions(this.getDisplayOptions())}.bind(this)),this.$scope.$on("fTipHide",function(){this.tooltip&&this.tooltip.visible&&this.tooltip.hide(!0)}.bind(this))},Tip.prototype.$postLink=function(){this.startWatches()},Tip.prototype.$onDestroy=function(){this.tooltip&&(this.tooltip.destroy(),this.tooltip=null),this.$clonedNodes&&this.$clonedNodes.remove()},ngModule.directive("fTip",function(){return{transclude:!0,controller:Tip,controllerAs:"$ctrl",bindToController:!0,scope:{enabled:"<",displayOptions:"<",onShow:"&",onHide:"&",selfContained:"<"},require:["fTip","?^fTipTarget"],link:function($scope,$element,attrs,controllers,$transclude){var tipController=controllers[0],targetController=controllers[1];targetController?(tipController.targetElement=targetController.element,targetController.tipController=tipController):tipController.targetElement=$element[0],$transclude(function($clonedNodes){const contentsElement=attrs.title?$element[0]:document.createElement("div");$clonedNodes.each(function(index,element){contentsElement.appendChild(element)}),tipController.$clonedNodes=$clonedNodes,tipController.contentsElement=contentsElement})}}}),TipTarget.prototype.$onDestroy=function(){this.element=null},ngModule.directive("fTipTarget",function(){return{controller:TipTarget}}),SharedTipTarget.prototype.SHARED_ITEM_ATTRIBUTE="f-shared-tip-item-id",SharedTipTarget.prototype.SHARED_ITEM_SELECTOR="[f-shared-tip-item-id]",SharedTipTarget.prototype.$postLink=function(){this.$element.on("mouseover",this._onMouseOver.bind(this)),this.$element.on("mouseout",this._onMouseOut.bind(this))},SharedTipTarget.prototype._onMouseOver=function(e){var sharedTipItemTarget=this._getClosestSharedItemTarget(e.target),sharedTipItemId=sharedTipItemTarget&&sharedTipItemTarget.getAttribute(this.SHARED_ITEM_ATTRIBUTE);sharedTipItemId&&(this.tipController.show(e.pageX,e.pageY,sharedTipItemId,sharedTipItemTarget),this.$scope.$digest())},SharedTipTarget.prototype._onMouseOut=function(e){var target=e.target,relatedTarget=e.relatedTarget;ftnt_shared.util.elementMatchesSelector(target,this.SHARED_ITEM_SELECTOR)?this.tipController.hide():this._getClosestSharedItemTarget(target)&&!this._getClosestSharedItemTarget(relatedTarget)&&(this.tipController.hide(),this.$scope.$digest())},SharedTipTarget.prototype._getClosestSharedItemTarget=function(originalTarget){let current=originalTarget;for(;current&&current!==this.$element[0]&&current!==document;){if(ftnt_shared.util.elementMatchesSelector(current,this.SHARED_ITEM_SELECTOR))return current;current=current.parentNode||current.parentElement}return null},SharedTipTarget.prototype.$onDestroy=function(){this.$element.off("mouseover").off("mouseout")},ngModule.directive("fSharedTipTarget",function(){return{controller:SharedTipTarget}}),SharedTip.prototype.setupTooltip=function(){this.tooltip=new Tooltip,this.tooltip.setContent(this.contentsElement)},SharedTip.prototype.show=function(pageX,pageY,sharedTipItemId,sharedTipItemTarget){this.tooltip||this.setupTooltip(),this.tooltip.show(null,pageX,pageY),this.onShow({tooltip:this.tooltip,eventProperties:{sharedTipItemId:sharedTipItemId,sharedTipItemTarget:sharedTipItemTarget}})},SharedTip.prototype.hide=function(){this.tooltip&&(this.tooltip.hide(),this.onHide({tooltip:this.tooltip}))},SharedTip.prototype.$onDestroy=function(){this.$clonedNodes&&this.$clonedNodes.remove(),this.tooltip&&(this.tooltip.destroy(),this.tooltip=null),this.contentsElement=null},ngModule.directive("fSharedTip",function(){return{transclude:!0,controller:SharedTip,controllerAs:"$ctrl",bindToController:!0,scope:{onShow:"&",onHide:"&"},require:["fSharedTip","^^fSharedTipTarget"],link:function($scope,$element,attrs,controllers,$transclude){var tipController=controllers[0];controllers[1].tipController=tipController,$transclude(function($clonedNodes){var contentsElement=document.createElement("div");$clonedNodes.each(function(index,element){contentsElement.appendChild(element)}),tipController.$clonedNodes=$clonedNodes,tipController.contentsElement=contentsElement})}}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(35).directive("fTranscludeReplace",["$log",$log=>({terminal:!0,restrict:"EA",link:function($scope,$element,$attr,ctrl,transclude){transclude?transclude(function(clone){clone.length?$element.replaceWith(clone):$element.remove()}):$log.error("orphan","Illegal use of ngTranscludeReplace directive in the template! No parent directive that requires a transclusion found. ")}})])},function(module,exports,__webpack_require__){"use strict";const ngModule=__webpack_require__(35),ftnt_shared=__webpack_require__(8),d3=__webpack_require__(48),fastLocaleCompare=ftnt_shared.util.fastLocaleCompare,Tooltip=ftnt_shared.Tooltip,log=ftnt_shared.log,TEMPLATE_URL=__webpack_require__(690),VIEW_SIZE=100,OUTER_RADIUS=50,INNER_RADIUS=25,HOVER_RADIUS_ADJUSTMENT=3,ANGLE_PADDING=.02,CHANGE_TRANSITION_DURATION=750,HOVER_TRANSITION_DURATION=200,HOVER_OFF_DELAY=100,COUNT_LABEL_SIZE="0.3em",HOVER_COUNT_LABEL_SIZE="0.4em",COUNT_LABEL_THRESHOLD=.02,MAX_TOTAL_LABEL_LENGTH=10,BASE_DELTA_Y=8,BASE_TOTAL_COUNT_SIZE=1,BASE_TOTAL_LABEL_SIZE=.4,TOTAL_LABEL_DECREASE_RATE=.05;ngModule.component("fPieChart",{bindings:{source:"<",settings:"<",withLabel:"<",totalLabel:"<?"},transclude:{title:"?chartTitle"},templateUrl:TEMPLATE_URL,controller:class{constructor($element,$scope,lang){this._lang=lang,this._color=d3.scaleOrdinal(d3.schemePaired),this._svg=d3.select($element[0].querySelector("svg")).attr("viewBox",`0 0 ${VIEW_SIZE} ${VIEW_SIZE}`).append("g").attr("transform",`translate(${VIEW_SIZE/2}, ${VIEW_SIZE/2})`),this._arc=d3.arc().innerRadius(INNER_RADIUS+HOVER_RADIUS_ADJUSTMENT).outerRadius(OUTER_RADIUS-HOVER_RADIUS_ADJUSTMENT),this._arcHover=d3.arc().innerRadius(INNER_RADIUS).outerRadius(OUTER_RADIUS),this._pie=d3.pie().padAngle(ANGLE_PADDING).value(data=>this._getDataWeight(data)).sort((a,b)=>fastLocaleCompare(this._getDataKey(b),this._getDataKey(a))),this._tooltip=new Tooltip({class:"mutable-chart-tooltip",showDelay:!0,showDelayPeriod:HOVER_TRANSITION_DURATION}),this._keyMap=new Map,this._colorMap=new Map,this.renderedData=null,this.currentHoverData=null,this.settings={},$scope.$watch("$ctrl.source",source=>{Array.isArray(source)&&this._update(source)})}hoverData(data,event){try{const key=this._getDataKey(data);let{text:text,path:path,entry:d}=this._keyMap.get(key);path._updateTransitionInProgress||this.currentHoverData===key||(this._showHoverTooltip(d.data,event),this.currentHoverData=data,d3.select(path).transition().duration(HOVER_TRANSITION_DURATION).attr("d",this._arcHover).attr("fill",()=>this.createColor(data,!0)),text&&d3.select(text).transition().style("font-weight","bold").style("font-size",HOVER_COUNT_LABEL_SIZE).duration(HOVER_TRANSITION_DURATION))}catch(e){}}endHoverData(data){try{const key=this._getDataKey(data);let{text:text,path:path}=this._keyMap.get(key);this._tooltip.hide(),this.currentHoverData=null,path._updateTransitionInProgress||(d3.select(path).transition().duration(HOVER_TRANSITION_DURATION).delay(HOVER_OFF_DELAY).attr("d",this._arc).attr("fill",d=>this.createColor(d.data)),text&&d3.select(text).transition().style("font-weight","normal").style("font-size",COUNT_LABEL_SIZE).duration(HOVER_TRANSITION_DURATION))}catch(e){}}clickData(data){if(this.settings.onDataClick){let key=this._getDataKey(data),{path:path,entry:d}=this._keyMap.get(key);this.currentHoverData=null,this._updateTransitionStarted(path),d3.select(path).attr("d",this._arc).attr("fill",()=>this.createColor(d.data)),this._tooltip.hide(),this.settings.onDataClick(data)}}createContrastColor(data){const rgb=this.createColor(data).rgb();return.299*rgb.r+.587*rgb.g+.114*rgb.b>149?"#000000":"#FFFFFF"}createColor(data,darken=!1){const key=this._getDataKey(data);let color=d3.color(this._color(key)),customColor=null,existingMappedColor=this._colorMap.get(key);if(this.settings.dataColorFunction)try{customColor=d3.color(this.settings.dataColorFunction(data))}catch(e){log.error("Error generating custom chart color")}return color=customColor||color,existingMappedColor?((c1,c2)=>c1.toString()===c2.toString())(existingMappedColor,color)||(color=existingMappedColor,log.error("Value to color mapping must be deterministic")):this._colorMap.set(key,color),darken&&(color=color.darker()),color}_update(source){const that=this,pruneData=object=>{let pruned=Object.assign({},object);return delete pruned.data,pruned},updateTween=function(d){let interpolate=d3.interpolateObject(this._current,pruneData(d));return this._current=interpolate(0),t=>that._arc(interpolate(t))},createTransition=()=>d3.transition().duration(CHANGE_TRANSITION_DURATION),getTextValue=d=>{if(d.data.count/source.totalCount>COUNT_LABEL_THRESHOLD)return d.data.count},getTextPosition=d=>{const loc=this._arc.centroid(d);return loc[1]+=1.75,`translate(${loc})`},slices=this._svg.selectAll("g").data(this._pie(source),d=>this._getDataKey(d.data)).each(d=>this._keyMap.get(this._getDataKey(d.data)).entry=d);let exitSlices=slices.exit().each(d=>this._keyMap.delete(this._getDataKey(d.data))),newSlices=slices.enter().append("g").attr("class","slice").each(function(d){const key=that._getDataKey(d.data);that._keyMap.set(key,{slice:this,entry:d}),this._current=Object.assign({},pruneData(d),{startAngle:d.endAngle})});newSlices.append("path").attr("title",d=>this._getDataKey(d.data)).each(function(d){d.outerRadius=d.outerRadius-HOVER_RADIUS_ADJUSTMENT,this._current=Object.assign({},pruneData(d),{startAngle:d.endAngle}),that._keyMap.get(that._getDataKey(d.data)).path=this}).attr("fill",d=>this.createColor(d.data)).on("mousemove",d=>this.hoverData(d.data,d3.event)).on("mouseleave",d=>this.endHoverData(d.data)).on("click",d=>this.clickData(d.data)),this.settings.withTotals&&newSlices.append("text").each(function(d){const key=that._getDataKey(d.data);that._keyMap.get(key).text=this}).attr("class","count").attr("transform",getTextPosition).attr("text-anchor","middle").text(getTextValue).attr("fill",d=>this.createContrastColor(d.data)).style("font-size",COUNT_LABEL_SIZE);let newTransition,exitTransition=createTransition(),updateTransition=exitSlices.size()?exitTransition.transition():createTransition();if(newTransition=slices.size()?updateTransition.transition():exitSlices.size()?exitTransition.transition():createTransition(),exitSlices.select("path").transition(exitTransition).on("start",function(){that._updateTransitionStarted(this)}).on("end",function(){that._updateTransitionEnded(this)}).attrTween("d",function(d){var end=Object.assign({},this._current,{startAngle:this._current.endAngle});let interpolate=d3.interpolateObject(d,end);return t=>that._arc(interpolate(t))}).remove(),exitSlices.select("text").remove(),exitSlices.transition(exitTransition).remove(),newSlices.select("path").transition(newTransition).on("start",function(){that._updateTransitionStarted(this)}).on("end",function(){that._updateTransitionEnded(this)}).attrTween("d",updateTween),newSlices.select("text").transition(newTransition).attr("transform",getTextPosition),slices.select("path").transition(updateTransition).on("start",function(){that._updateTransitionStarted(this)}).on("end",function(){that._updateTransitionEnded(this)}).attrTween("d",updateTween),this.settings.withTotals){slices.select("text").transition(updateTransition).attr("text-anchor","middle").text(getTextValue).attr("transform",getTextPosition).style("opacity",1),this.totalStats&&this.totalStats.remove();let totalLabel=this.settings.totalLabel;void 0===totalLabel&&(totalLabel=this._lang("Total").toString());let totalValue=source.totalCount;if("function"==typeof this.settings.totalValue)try{totalValue=this.settings.totalValue(source)}catch(e){log.error("Error calculating chart total value.")}this.totalStats=this._svg.append("text");const valueFontSize=totalLabel?BASE_TOTAL_COUNT_SIZE:1.3*BASE_TOTAL_COUNT_SIZE;this.totalStats.append("tspan").attr("text-anchor","middle").attr("x","0").attr("y",totalLabel?"0":`${valueFontSize/3}em`).style("font-weight","bold").style("font-size",`${valueFontSize}em`).text(totalValue),totalLabel&&this._calculateChartTotalLabelPositions(totalLabel).forEach(_totalLabel=>{this.totalStats.append("tspan").attr("text-anchor","middle").attr("x","0").attr("y",_totalLabel.y).style("font-size",`${_totalLabel.size}em`).text(_totalLabel.value)})}else slices.select("text").style("opacity",0),this.totalStats&&this.totalStats.remove();this.renderedData=source}_showHoverTooltip(data,event){if(this.settings.tooltipFormatter){const tooltipContent=this.settings.tooltipFormatter(data);tooltipContent&&this._tooltip.show(tooltipContent,event.pageX,event.pageY)}}_updateTransitionStarted(path){path._updateTransitionInProgress=!0}_updateTransitionEnded(path){setTimeout(()=>path._updateTransitionInProgress=!1)}_calculateChartTotalLabelPositions(label){const labels=function splitLabel(_label){if((_label=_label.trim()).length>MAX_TOTAL_LABEL_LENGTH){const spaceIdx=function spaceIdxWithAllowableLength(_label){const lastIndex=_label.lastIndexOf(" ");return lastIndex>MAX_TOTAL_LABEL_LENGTH&&_label.indexOf(" ")!==lastIndex?spaceIdxWithAllowableLength(_label.substring(0,lastIndex)):lastIndex}(_label);if(spaceIdx>0)return[_label.substring(0,spaceIdx),...splitLabel(_label.substring(spaceIdx))]}return[_label]}(label),longestLabelLength=labels.reduce((max,current)=>(current.length>max&&(max=current.length),max),0),labelSize=this._calculateSizeByLabelLength(longestLabelLength),deltaY=(BASE_DELTA_Y*labelSize/BASE_TOTAL_LABEL_SIZE).toFixed(0);return labels.map((_label,index)=>({value:_label,size:labelSize,y:deltaY*(index+1)}))}_calculateSizeByLabelLength(labelLength){if(labelLength>0){const ll=labelLength,mll=MAX_TOTAL_LABEL_LENGTH,dr=TOTAL_LABEL_DECREASE_RATE;return BASE_TOTAL_LABEL_SIZE-(Math.max(0,ll-mll)/mll).toFixed(2)*dr}return BASE_TOTAL_LABEL_SIZE}_getDataKey(data){return this.settings.dataKeyFunction(data)}_getDataWeight(data){return this.settings.dataWeightFunction(data)}$onDestroy(){this._tooltip.destroy()}}})},function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-pie-chart.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<div ng-transclude="title" ng-if="$ctrl.settings.withTitle || $ctrl.renderedData.length === 0">\n    <div class="chart-title flex-row-centered" f-tip-target>\n        <div class="chart-title-label flex-grow">\n            {{::$ctrl.settings.title}}\n        </div>\n    </div>\n</div>\n<div\n    class="chart-body"\n    ng-show="$ctrl.renderedData.length !== 0"\n    ng-class="{\n        \'with-legend\': $ctrl.settings.withLegend\n    }">\n    <svg></svg>\n    <div class="chart-legend" ng-if="$ctrl.settings.withLegend">\n        <div ng-transclude="title" ng-if="$ctrl.settings.withLegendTitle">\n            <div class="chart-title flex-row-centered" f-tip-target>\n                <div class="chart-title-label flex-grow">\n                    {{::$ctrl.settings.title}}\n                </div>\n            </div>\n        </div>\n        <div class="chart-legend-entry flex-row-centered"\n            ng-repeat="data in $ctrl.renderedData | limitTo: 10 track by $ctrl._getDataKey(data)"\n            ng-click="$ctrl.clickData(data)"\n            ng-mousemove="$ctrl.hoverData(data, $event)"\n            ng-mouseleave="$ctrl.endHoverData(data)">\n            <div class="chart-legend-color"\n                ng-style="{background: $ctrl.createColor(data, data === $ctrl.currentHoverData)}">\n            </div>\n            <div class="chart-legend-label">\n                {{::$ctrl._getDataKey(data)}}\n            </div>\n        </div>\n    </div>\n</div>\n<div class="chart-empty flex-centered" ng-if="$ctrl.renderedData.length === 0">\n    {{::\'No results\' | lang}}\n</div>\n')}]),module.exports=path},function(module,exports,__webpack_require__){"use strict";const ngModule=__webpack_require__(35);var TEMPLATE_URL=__webpack_require__(692);const DEFAULTS={menuBar:!0,chartLegend:!0,chartTotals:!1};function MuTableController($scope,$element,$q,$transclude,$attrs,$injector){this._$scope=$scope,this._element=$element[0],this._viewContainerElement=this._element.querySelector(".mutable-view-container"),this._tableContainerElement=this._element.querySelector(".mutable-table-container"),this._$q=$q,this._$transclude=$transclude,this._$attrs=$attrs,this._table=this.instance=new MuTable({inline:this.inline,chartsOnly:this.chartColumns&&this.chartsOnly,disableWindowResizeListener:this.disableWindowResizeListener,ngScope:$scope,ngInjector:$injector}),this._menus=[],this.controller=this,this._lastSelectedRow=null,this.loading=!0,this.selectedEntries=[],this.selectedRows=[],this.rowCount=0,this.paneVisible=this.fixedPane,this.hasPaneTop=!1,this.hasPaneBottom=!1}function MutableMenuTransclude($element){this._$element=$element}MuTableController.prototype.$onInit=function(){for(const property in DEFAULTS)void 0===this[property]&&(this[property]=DEFAULTS[property]);if(void 0===this.contextMenu)throw new Error('"context-menu" boolean must be explicitly set');this.inline&&this._viewContainerElement.classList.add("inline"),this._viewContainerElement.style.display=null,this._tableContainerElement.appendChild(this._table.element),this.hasPaneTop=this._$transclude.isSlotFilled("paneTop"),this.hasPaneBottom=this._$transclude.isSlotFilled("paneBottom"),this._startWatches(),this._listenOnLoading(),this._listenOnSelectionChange(),this._listenOnRowCount(),this._listenOnRender(),this._listenOnColumnReorder(),this._listenForDoubleClick(),this._listenForContextMenu(),this._watchInlineElementWidth()},MuTableController.prototype.$onDestroy=function(){this._table.destroy()},MuTableController.prototype.search=function(searchValue){return this._$q.when(this._table.search(searchValue))},MuTableController.prototype.togglePaneVisibility=function(){this.setPanelVisibility(!this.paneVisible)},MuTableController.prototype.setPanelVisibility=function(visible){this.fixedPane&&(visible=!0),this.paneVisible=visible},MuTableController.prototype._addMenu=function(mutableMenu){if(mutableMenu instanceof MutableMenuTransclude)return function(){return mutableMenu.menu.muTableInstance=this.instance,this._menus.push(mutableMenu.menu),this._$transclude.apply(this,arguments)}.bind(this)},MuTableController.prototype._startWatches=function(){let previousSource,previousSettings,previousChartColumns,previousChartsOnly;this._$scope.$watchGroup(["$ctrl.source","$ctrl.settings","$ctrl.chartColumns","$ctrl.chartsOnly"],([source,settings,chartColumns,chartsOnly])=>{let params={};source&&source!==previousSource&&(params.source=previousSource=source),settings&&settings!==previousSettings&&(params.settings=previousSettings=settings),chartColumns!==previousChartColumns&&(chartColumns||previousChartColumns)&&(params.chartColumns=previousChartColumns=chartColumns),chartsOnly!==previousChartsOnly&&chartColumns&&(params.chartsOnly=previousChartsOnly=chartsOnly),this.initialLocate&&(this._table.locateNextRender(this.initialLocate),this.initialLocate=null),this._table.update(params)})},MuTableController.prototype._listenOnLoading=function(){this._table.onLoading(function(loading){this._$scope.$apply(function(){this.loading=loading}.bind(this))}.bind(this))},MuTableController.prototype._listenOnSelectionChange=function(){this._table.onSelectionChange(function(selection){this._$scope.$apply(function(){this._lastSelectedRow=selection.lastSelectedRow,this.selectedEntries=selection.entries,this.selectedRows=selection.rows,this.selectedColumnId=selection.targetColumnID,this.selectedColumnValue=null;const valuePromise=selection.targetColumnValuePromise;this._selectedColumnValuePromise=valuePromise,valuePromise?this._$q.when(valuePromise).then(value=>{this._selectedColumnValuePromise===valuePromise&&(this.selectedColumnValue=value&&value.getValue())}):this.selectedColumnValue=null,this._menus.forEach(function(menu){menu.entries=selection.entries,menu.lastSelectedRow=selection.lastSelectedRow,menu.lastSelectedEntry=selection.lastSelectedRow?selection.lastSelectedRow.entry:null,menu.rowInstances=selection.rows,menu.targetColumnID=selection.targetColumnID,menu.targetColumnValuePromise=selection.targetColumnValuePromise}),this.onSelectionChange({selection:selection})}.bind(this))}.bind(this))},MuTableController.prototype._listenOnRowCount=function(){this._table.onRowCountChange(function(rowCount){this._$scope.$apply(function(){this.rowCount=rowCount}.bind(this))}.bind(this))},MuTableController.prototype._listenForDoubleClick=function(){this._table.onDoubleClickRow(function(row,event){this._$scope.$apply(function(){this._$attrs.onDoubleClick||this.onWrapperDoubleClick?(this.onWrapperDoubleClick||this.onDoubleClick)({$row:row,$entry:row.entry,$event:event}):this.hasPaneBottom?this.setPanelVisibility(!0):this._menus.forEach(function(menu){menu.menuBar&&menu.triggerTableDoubleClick()})}.bind(this))}.bind(this))},MuTableController.prototype._listenForContextMenu=function(){this._table.setContextMenuCallback(function(event){this._$scope.$apply(function(){this._$attrs.onContextMenu||this.onWrapperContextMenu?(this.onWrapperContextMenu||this.onContextMenu)({$row:this._lastSelectedRow,$rows:this.selectedRows,$entry:this._lastSelectedRow.entry,$entries:this.selectedEntries,$event:event}):this.contextMenu&&this._menus.forEach(function(menu){menu.popUpMenu&&menu.toggle({top:event.pageY,left:event.pageX})})}.bind(this))}.bind(this))},MuTableController.prototype._listenOnRender=function(){this._table.onRender(settings=>{this.chartColumns&&this._$scope.$apply(()=>{this.statisticColumns=settings.getStatisticCollectedColumns(),this.showCharts=!(this.chartColumns&&this.chartsOnly)||this.statisticColumns.some(column=>{return column.getValueStatistics().totalCount})})})},MuTableController.prototype._listenOnColumnReorder=function(){this._table.onColumnReorder((column,settings)=>{this.chartColumns&&this._$scope.$apply(()=>{this.statisticColumns=settings.getStatisticCollectedColumns(),this.showCharts=!(this.chartColumns&&this.chartsOnly)||this.statisticColumns.some(staticColumn=>{return staticColumn.getValueStatistics().totalCount})})})},MuTableController.prototype._watchInlineElementWidth=function(){if(this.inline){let lastWidth;this._$scope.$watch(()=>this._table.hasRendered()&&this._viewContainerElement.offsetWidth,width=>{"number"==typeof width&&width!==lastWidth&&(this._table.notifyParentElementWidthChange(),lastWidth=width)})}},ngModule.component("fMutable",{bindings:{source:"<",settings:"<",inline:"<?",contextMenu:"<",menuBar:"<",selectedEntries:"=?",selectedRows:"=?",selectedColumnId:"=?",selectedColumnValue:"=?",rowCount:"=?",onDoubleClick:"&",onContextMenu:"&",onSelectionChange:"&",controller:"=?",instance:"=?",chartColumns:"=?",chartColors:"&",chartLegend:"<?",chartTotals:"<?",chartTotalValues:"<?",chartTotalLabels:"<?",fixedPane:"<",initialLocate:"=",chartsOnly:"<?",disableWindowResizeListener:"<?",onWrapperDoubleClick:"=?",onWrapperContextMenu:"=?"},transclude:{paneTop:"?mutablePaneTop",paneBottom:"?mutablePaneBottom"},templateUrl:TEMPLATE_URL,controller:MuTableController}),MutableMenuTransclude.prototype.$onInit=function(){this.mutable._addMenu(this)(function(cloned,scope){scope.menu=this.menu,this._$element.append(cloned)}.bind(this))},ngModule.component("fMutableMenuTransclude",{bindings:{menu:"<",mutable:"<"},controller:MutableMenuTransclude})},function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-mutable.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<div class="mutable-view-container" style="display: none">\n    <div ng-class="{\'charts-only\': $ctrl.chartColumns && $ctrl.chartsOnly}"\n        class="mutable-top-container">\n        <div class="charts-pane-container">\n            <div class="mutable-charts small-hide"\n                ng-if="$ctrl.chartColumns && (!$ctrl.statisticColumns || $ctrl.statisticColumns.length)">\n                <div class="loading-container flex-centered" ng-class="{\'loading-invisible\': !$ctrl.loading}">\n                    <f-icon class="fa-loading icon-xxl"></f-icon>\n                </div>\n                <div class="mutable-chart-placeholder" ng-if="!$ctrl.statisticColumns"></div>\n                <f-mutable-chart ng-if="$ctrl.showCharts"\n                    column="column" chart-colors="$ctrl.chartColors({value, column})"\n                    with-legend="$ctrl.chartLegend"\n                    with-legend-title="$ctrl.chartsOnly && $ctrl.chartLegend"\n                    with-title="!$ctrl.chartsOnly || ($ctrl.chartsOnly && !$ctrl.chartLegend)"\n                    with-totals="$ctrl.chartTotals"\n                    total-label="$ctrl.chartTotalLabels && $ctrl.chartTotalLabels[$index]"\n                    total-value="$ctrl.chartTotalValues && $ctrl.chartTotalValues[$index]"\n                    ng-repeat="column in $ctrl.statisticColumns">\n                </f-mutable-chart>\n                <div ng-if="!$ctrl.showCharts && !$ctrl.loading" class="no-results-container">\n                    {{::\'No results\' | lang}}\n                </div>\n            </div>\n            <div class="pane-top-component" ng-if="::$ctrl.hasPaneTop" ng-transclude="paneTop"></div>\n        </div>\n        <div class="mutable-menu" ng-show="$ctrl._menus.length">\n            <div f-menu-bar ng-if="::$ctrl.menuBar">\n                <f-mutable-menu-transclude menu="::menu" mutable="::$ctrl" class="menu-bar-component">\n                </f-mutable-menu-transclude>\n            </div>\n            <div f-pop-up-menu ng-if="$ctrl.contextMenu">\n                <f-mutable-menu-transclude menu="::menu" mutable="::$ctrl">\n                </f-mutable-menu-transclude>\n            </div>\n        </div>\n    </div>\n    <div class="mutable-bottom-container" ng-show="!($ctrl.chartsOnly && $ctrl.chartColumns)">\n        <div class="mutable-table-container"></div>\n        <div f-slide-in="$ctrl.paneVisible" class="pane-bottom-component" ng-if="::$ctrl.hasPaneBottom"\n            ng-transclude="paneBottom" slide-complete="$ctrl._table.updateDisplay()">\n        </div>\n    </div>\n</div>\n')}]),module.exports=path},function(module,exports,__webpack_require__){"use strict";var ngModule=__webpack_require__(35),TEMPLATE_URL=__webpack_require__(694);function MuTableSearch($element,$q){this._$q=$q,$element.addClass("menu-item menu-item-search"),this.lastSearch="",this.searchValue="",this.searching=!1,this.miniHideInput=!0}MuTableSearch.prototype.$onInit=function(){this.supported=this.muTable&&this.menuBar},MuTableSearch.prototype.search=function(){this.miniHideInput=!1,this.searchValue!==this.lastSearch&&(this.lastSearch=this.searchValue,this.searching=!0,this._$q.resolve(this.muTable.search(this.searchValue)).finally(function(){this.searching=!1}.bind(this)))},MuTableSearch.prototype.clearSearch=function(){this.searchValue="",this.search()},MuTableSearch.prototype.keyDown=function(event){13===event.keyCode&&(event.preventDefault(),event.stopPropagation(),this.search())},ngModule.component("fMutableSearch",{require:{muTable:"?^fMutable",menuBar:"?^fMenuBar"},templateUrl:TEMPLATE_URL,controller:MuTableSearch})},function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-mutable-search.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<div class="search-container" ng-if="::$ctrl.supported" ng-class="{\'mini-hide\': $ctrl.miniHideInput}">\n    <input type="text" class="search-input" placeholder="{{::\'Search\' | lang}}"\n        ng-model="$ctrl.searchValue" ng-keydown="$ctrl.keyDown($event)"\n        ng-blur="$ctrl.search()">\n    <f-icon class="fa-times clear-search" ng-show="$ctrl.searchValue"\n        ng-click="$ctrl.clearSearch()">\n    </f-icon>\n</div>\n<button type="button" class="do-search" ng-if="::$ctrl.supported" ng-disabled="$ctrl.muTable.loading"\n    ng-click="$ctrl.search()">\n    <div class="flex-menu-content">\n        <f-icon ng-class="{\n            \'fa-search\': !$ctrl.searching,\n            \'fa-loading\': $ctrl.searching\n        }"></f-icon>\n    </div>\n</button>\n')}]),module.exports=path},function(module,exports,__webpack_require__){"use strict";var ngModule=__webpack_require__(35),TEMPLATE_URL=__webpack_require__(696);function MutableInsertSequenceGrouping($scope,$rootScope,slide,lang){this._$scope=$scope,this._$rootScope=$rootScope,this._slide=slide,this._lang=lang,this.row=null,this.section=null,this.insert=!0,$scope.$watch("$ctrl.menu.rowInstances",function(rows){var row;Array.isArray(rows)&&1===rows.length?(row=rows[0],this.row=row,this.section=row.section,this.insert=!this.section||!this.section.firstRow.getSequenceGroupingValue()||this.section.firstRow!==row):(this.row=null,this.section=null,this.insert=!0)}.bind(this))}MutableInsertSequenceGrouping.prototype.isVisible=function(){var settings,section,table=this.menu&&this.menu.muTableInstance;return!(!(table&&(settings=table.getSettings())&&settings.customSequenceGrouping)||(section=this.row&&this.row.section)&&section.firstRow.isImplicitSequenceGrouping())},MutableInsertSequenceGrouping.prototype.click=function(){var scope=this._$rootScope.$new(!0);scope.existing=this.insert?"":this.section.firstRow.getSequenceGroupingValue(),scope.used=this.menu.muTableInstance.getAllSectionValues(),this._slide.open("editSequenceGrouping",{template:'<f-mutable-edit-sequence-grouping existing="::existing" used="::used"></f-mutable-edit-sequence-grouping>',parentScope:scope,options:{title:this._lang(this.insert?"Insert Sequence Grouping":"Rename Sequence Grouping").toString(),fullHeight:!0}}).then(function(label){this.menu.muTableInstance.setRowSequenceGroupingValue(this.row,label)}.bind(this)).finally(function(){scope.$destroy()})},ngModule.component("fMutableInsertSequenceGrouping",{templateUrl:TEMPLATE_URL,require:{menu:"?^fPopUpMenu"},controller:MutableInsertSequenceGrouping})},function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-mutable-insert-sequence-grouping.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<div f-menu-item-button click="$ctrl.click()" ng-if="$ctrl.isVisible()">\n    <f-icon ng-class="{\n        \'fa-plus\': $ctrl.insert,\n        \'fa-pencil\': !$ctrl.insert,\n    }"></f-icon>\n    <span ng-if="$ctrl.insert">{{::\'Insert Sequence Grouping\' | lang}}</span>\n    <span ng-if="!$ctrl.insert">{{::\'Rename Sequence Grouping\' | lang}}</span>\n</div>\n')}]),module.exports=path},function(module,exports,__webpack_require__){"use strict";var ngModule=__webpack_require__(35);__webpack_require__(411);var TEMPLATE_URL=__webpack_require__(411);function MutableEditSequenceGrouping(slide){this.label=this.existing||"",this.slide=slide.get("editSequenceGrouping").slide}MutableEditSequenceGrouping.prototype.XSS_REGEX=/^[^<>()#'"]*$/,MutableEditSequenceGrouping.prototype.submit=function(){this.form.$valid?this.slide.done(this.label):angular.forEach(this.form.$error,function(controls){angular.forEach(controls,function(control){control.$setDirty()})})},MutableEditSequenceGrouping.prototype.cancel=function(){this.slide.close()},ngModule.component("fMutableEditSequenceGrouping",{templateUrl:TEMPLATE_URL,bindings:{existing:"<",used:"<"},controller:MutableEditSequenceGrouping}),ngModule.directive("mutableUniqueSequenceGroup",function(){return{require:["ngModel","^fMutableEditSequenceGrouping"],link:function($scope,elem,attributes,controllers){var ngModel=controllers[0],editSequenceGrouping=controllers[1];ngModel.$validators.mutableUniqueSequenceGroup=function(modelValue){return!(!ngModel.$isEmpty(modelValue)&&modelValue!==editSequenceGrouping.existing)||!editSequenceGrouping.used.has(modelValue)}}}})},function(module,exports,__webpack_require__){"use strict";const ngModule=__webpack_require__(35),ftnt_shared=__webpack_require__(8),d3=__webpack_require__(48),dom=ftnt_shared.dom,muTableUtil=ftnt_shared.muTableUtil,TEMPLATE_URL=__webpack_require__(699);class MutableChart{constructor($scope,lang){this._lang=lang,this.renderedStats=null,this.pieChartSettings={dataKeyFunction:data=>data.value,dataWeightFunction:data=>data.count,dataColorFunction:data=>this.createColor(data),onDataClick:data=>this.clickValue(data.value),tooltipFormatter:data=>this._createTooltipContent(data),withLegend:this.withLegend,withLegendTitle:this.withLegendTitle,withTitle:this.withTitle,withTotals:this.withTotals,totalLabel:this.totalLabel,totalValue:this.totalValue},$scope.$watch("$ctrl.column.getValueStatistics()",stats=>{Array.isArray(stats)&&this._update(stats)}),$scope.$watch("$ctrl.column.getFilter()",filter=>{this.serializedFilter=filter?new lang.Translated(filter.serialize(),!0):null,this.activeFilter=!!filter}),$scope.$watch("$ctrl.mutableController && $ctrl.mutableController.chartsOnly",()=>{this.removeFilter()}),$scope.$watchGroup(["$ctrl.withLegend","$ctrl.withLegendTitle","$ctrl.withTitle","$ctrl.withTotals","$ctrl.totalLabel","$ctrl.totalValue"],()=>{this.pieChartSettings={dataKeyFunction:data=>data.value,dataWeightFunction:data=>data.count,dataColorFunction:data=>this.createColor(data),onDataClick:data=>this.clickValue(data.value),tooltipFormatter:data=>this._createTooltipContent(data),withLegend:this.withLegend,withLegendTitle:this.withLegendTitle,withTitle:this.withTitle,withTotals:this.withTotals,totalLabel:this.totalLabel,totalValue:this.totalValue}})}clickValue(value){this.mutableController.instance.setFilter(this.column.id,muTableUtil.createExactStringFilter(value))}createColor(data){return d3.color(this.chartColors({value:data.value,column:this.column}))}createContrastColor(value){const rgb=this.createColor(value).rgb();return.299*rgb.r+.587*rgb.g+.114*rgb.b>149?"#000000":"#FFFFFF"}removeFilter(){this.mutableController.instance.setFilter(this.column.id,null)}_update(stats){this.renderedStats=stats}_createTooltipContent(data){let percentage=(data.count/this.renderedStats.totalCount*100).toFixed(1),formatted=data.collectionEntry?data.valueInstance.getFormattedEntryElement(data.collectionEntry):data.valueInstance.format();if(ftnt_shared.util.objectIsThenable(formatted)){let promise=formatted;formatted=dom.elem("div",null,{children:[dom.elem("f-icon",{className:"fa-loading"})]}),promise.then(function(resolved){formatted.innerHTML="",formatted.appendChild(resolved)})}return dom.elem("table",{className:"table condensed key-value"},{children:[dom.elem("tbody",null,{children:[dom.elem("tr",null,{children:[dom.elem("td",{textContent:this._lang(this.column.langKey).toString()}),dom.elem("td",null,{children:[formatted]})]}),dom.elem("tr",null,{children:[dom.elem("td",{textContent:this._lang("Count").toString()}),dom.elem("td",{textContent:`${data.count.toString()} (${percentage}%)`})]})]})]})}}MutableChart.prototype.REMOVE_FILTER_LANG_KEY='Click to remove filter "<i>{0}</i>"',ngModule.component("fMutableChart",{bindings:{column:"<",chartColors:"&",withLegend:"<",withLegendTitle:"<",withTitle:"<",withTotals:"<",totalLabel:"<?",totalValue:"<?"},require:{mutableController:"?^fMutable"},templateUrl:TEMPLATE_URL,controller:MutableChart})},function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-mutable-chart.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<f-pie-chart\n    source="$ctrl.renderedStats"\n    settings="$ctrl.pieChartSettings"\n    with-label="$ctrl.withLabel"\n    total-label="$ctrl.totalLabel">\n    <chart-title ng-class="{\'active-filter\': $ctrl.activeFilter}"\n        class="chart-title flex-row-centered" f-tip-target\n        ng-click="$ctrl.activeFilter && $ctrl.removeFilter()">\n        <div class="chart-title-label flex-grow">\n            {{::$ctrl.column.langKey | lang}}\n        </div>\n        <f-icon class="fa-filter active-filter-icon"></f-icon>\n        <div f-tip enabled="$ctrl.activeFilter">\n            <span ng-bind-html="$ctrl.REMOVE_FILTER_LANG_KEY | lang: [$ctrl.serializedFilter]"></span>\n        </div>\n    </chart-title>\n</f-pie-chart>\n')}]),module.exports=path},function(module,exports,__webpack_require__){"use strict";const ngModule=__webpack_require__(35),ftnt_shared=__webpack_require__(8),dateTime=ftnt_shared.dateTime,muTableUtil=ftnt_shared.muTableUtil;__webpack_require__(412);const TEMPLATE_URL=__webpack_require__(412);class MutableFilter{constructor($scope,$q,lang){this.entry=null,this.settings=null,this.column=null,this.valuePromise=null,this.valueResolved=!1,this.value=null,this.valueIsEmpty=!1,$scope.$watchGroup(["$ctrl.menu.lastSelectedEntry","$ctrl.menu.targetColumnID"],()=>{this.entry=this.menu.lastSelectedEntry,this.row=this.menu.lastSelectedRow,this.isCollection=!1,this.isCollectionFallback=!1,this.valuePromise=null,this.valueResolved=!1,this.value=null,this.valueIsEmpty=!1;const columnID=this.menu.targetColumnID;this.entry&&this.row&&columnID&&(this.table=this.menu.muTableInstance,this.settings=this.table.getSettings(),this.column=this.settings.columnsMap[columnID],this.columnLabel=lang(this.column.langKey),this.isCollection=this.column.COLLECTION_TYPES.has(this.column.type),this.isCollectionFallback=this.isCollection&&this.row.isCollectionFallback(this.column),this.valuePromise=this.menu.targetColumnValuePromise,this.valueResolved=!1,$q.resolve(this.valuePromise).then(value=>{this.value=value,this.isCollection&&!this.isCollectionFallback?this.collectionEntries=value.getEntries():this.collectionEntries=null,this.valueResolved=!0,this.valueIsEmpty=[null,void 0,""].includes(this.value.getValue())}))})}isVisible(){return this.settings&&this.settings.fixedSource&&this.settings.filtering&&this.entry&&this.valuePromise}applyStandardFilter(type){let serialized=muTableUtil.createContainsStringFilter(this.value.getValue(),{negate:type===this.COMMON_TYPE.NOT});this.table.setFilter(this.column.id,serialized)}applyCollectionFilter(entry,type){let serialized=muTableUtil.createContainsStringFilter(this.value.getEntryValue(entry),{negate:type===this.COMMON_TYPE.NOT});this.table.setFilter(this.column.id,serialized)}applyNumberFilter(type){let serialized=this.value.getValue();serialized=type===this.NUMBER_TYPE.EQUAL_TO?`=${serialized}`:type===this.NUMBER_TYPE.LESS_THAN_EQUAL_TO?`<=${serialized}`:`>=${serialized}`,this.table.setFilter(this.column.id,serialized)}applyDateFilter(type,period){const formatDate=function(date){return dateTime.formatDateTimeCustom(date,"yyyy-MM-dd HH:mm:ss")};let serialized,date=this.value.getValue(),dateFormatted=formatDate(date);if(type===this.DATE_TYPE.EQUAL_TO)serialized=`=${dateFormatted}`;else if(type===this.DATE_TYPE.LESS_THAN_EQUAL_TO)serialized=`<=${dateFormatted}`;else if(type===this.DATE_TYPE.GREATER_THAN_EQUAL_TO)serialized=`>=${dateFormatted}`;else{serialized=`${formatDate(new Date(date.getTime()-period))} -> ${formatDate(new Date(date.getTime()+period))}`}this.table.setFilter(this.column.id,serialized)}}MutableFilter.prototype.COMMON_TYPE={NOT:"not"},MutableFilter.prototype.NUMBER_TYPE={EQUAL_TO:"equal",LESS_THAN_EQUAL_TO:"lessThanEqualTo",GREATER_THAN_EQUAL_TO:"greaterThanEqualTo"},MutableFilter.prototype.DATE_TYPE={LESS_THAN_EQUAL_TO:"lessThanEqualTo",GREATER_THAN_EQUAL_TO:"greaterThanEqualTo",WITHIN:"within"},MutableFilter.prototype.DATE_PERIOD={FIVE_MINUTES:3e5,ONE_HOUR:36e5,TWENTY_FOUR_HOURS:864e5},ngModule.component("fMutableFilter",{templateUrl:TEMPLATE_URL,require:{menu:"?^fPopUpMenu"},controller:MutableFilter})},function(module,exports,__webpack_require__){"use strict";const ngModule=__webpack_require__(35),util=__webpack_require__(8).util;ngModule.component("fMutableValueFormatted",{bindings:{value:"<",collectionEntry:"<"},controller:class{constructor($scope,$element){let element=$element[0];const setValueContent=value=>{const setContent=function(formatted){element.innerHTML="",formatted instanceof HTMLElement||formatted instanceof DocumentFragment?element.appendChild(formatted):element.innerHTML=formatted};let formatted;formatted=this.collectionEntry?value.formatEntry(this.collectionEntry):value.format(),util.objectIsThenable(formatted)?formatted.then(setContent):setContent(formatted)};$scope.$watch("$ctrl.value",value=>{value&&(util.objectIsThenable(value)?value.then(setValueContent):setValueContent(value))})}}})},function(module,exports,__webpack_require__){"use strict";const ngModule=__webpack_require__(35),inject=__webpack_require__(131),MuTableEntryFormatter=__webpack_require__(8).MuTableEntryFormatter;class MutableEntryFormatter{constructor($scope){this._$scope=$scope}$onInit(){this._$scope.$watchGroup(["$ctrl.columns","$ctrl.entries","$ctrl.collectionLimit"],([columns,entries,collectionLimit])=>{columns&&(this.formatter=new MuTableEntryFormatter({columns:columns,entries:entries,collectionLimit:collectionLimit}))})}}ngModule.directive("fMutableEntryFormatter",function(){return{restrict:"EA",scope:{columns:"<",entries:"<",collectionLimit:"<"},bindToController:!0,controllerAs:"$ctrl",controller:MutableEntryFormatter}}),ngModule.component("fMutableEntryFormatted",{bindings:{entry:"<",columnId:"<"},controller:class extends inject.Collectable{constructor($scope,$element){super(),this._$scope=$scope,this._element=$element[0]}$onInit($INJECTABLE$,$q){return()=>{this._$scope.$watchGroup(["$ctrl.entry","$ctrl.columnId","$ctrl.entryFormatterController.formatter"],([entry,columnID,formatter])=>{entry&&columnID&&formatter&&(formatter.initialized?(this._element.innerHTML="",this._element.appendChild(formatter.formatEntry({entry:entry,columnID:columnID}))):(this._element.innerHTML='<f-icon class="fa-loading"></f-icon>',$q.when(formatter.initializationPromise).then(()=>{this._element.innerHTML="",this._element.appendChild(formatter.formatEntry({entry:entry,columnID:columnID}))})))})}}},require:{entryFormatterController:"^fMutableEntryFormatter"}})},function(module,exports,__webpack_require__){"use strict";const ngModule=__webpack_require__(35),TEMPLATE_URL=__webpack_require__(704);ngModule.component("fMutableCopyInsert",{templateUrl:TEMPLATE_URL,require:{menu:"?^fPopUpMenu"},controller:class{constructor($scope){this.entry=null,this.table=null,this.settings=null,this.entryToCopy=null,$scope.$watch("$ctrl.menu.lastSelectedEntry",entry=>{this.entry=entry,this.row=this.menu.lastSelectedRow,entry&&(this.table=this.menu.muTableInstance,this.settings=this.table.getSettings())})}isVisible(){return this.settings&&this.settings.fixedSource&&this.settings.reordering}copyEntry(){this.entryToCopy=this.entry}pasteAbove(){this._paste(this.row.sourceIndex,{before:!0})}pasteBelow(){this._paste(this.row.sourceIndex,{after:!0})}_paste(sourceIndex,params){this.table.copyInsertEntry(this.entryToCopy,sourceIndex,params)}}})},function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-mutable-copy-insert.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<div ng-if="$ctrl.isVisible()">\n    <div f-menu-item-button click="$ctrl.copyEntry()">\n        <f-icon class="fa-files-o"></f-icon>\n        <span>{{::\'Copy\' | lang}}</span>\n    </div>\n    <div f-menu-item-submenu="$ctrl.pasteMenu" enabled="$ctrl.entryToCopy">\n        <f-icon class="fa-clipboard"></f-icon>\n        <span>{{::\'Paste\' | lang}}</span>\n    </div>\n    <div f-pop-up-menu="$ctrl.pasteMenu">\n        <div f-menu-item-button click="$ctrl.pasteAbove()">\n            <f-icon class="fa-angle-up"></f-icon>\n            <span>{{::\'Above\' | lang}}</span>\n        </div>\n        <div f-menu-item-button click="$ctrl.pasteBelow()">\n            <f-icon class="fa-angle-down"></f-icon>\n            <span>{{::\'Below\' | lang}}</span>\n        </div>\n    </div>\n</div>\n')}]),module.exports=path},function(module,exports,__webpack_require__){"use strict";const ngModule=__webpack_require__(35),TEMPLATE_URL=__webpack_require__(706);ngModule.component("fMutableProcessedInsert",{templateUrl:TEMPLATE_URL,bindings:{label:"<",icon:"<",alwaysInsertAfter:"<",locateAfterInsert:"<",processEntry:"&"},require:{menu:"?^fPopUpMenu"},controller:class{constructor($scope){this.entry=null,this.table=null,this.settings=null,this.entryToCopy=null,$scope.$watch("$ctrl.menu.lastSelectedEntry",entry=>{this.entry=entry,this.row=this.menu.lastSelectedRow,entry&&(this.table=this.menu.muTableInstance,this.settings=this.table.getSettings())})}isVisible(){return this.settings&&this.settings.fixedSource&&this.settings.reordering}pasteAbove(){this._paste(this.row.sourceIndex,{before:!0})}pasteBelow(){this._paste(this.row.sourceIndex,{after:!0})}_paste(sourceIndex,params){this.table.copyInsertEntry(this.entry,sourceIndex,Object.assign({locateAfterInsert:this.locateAfterInsert,processingFunction:entry=>this.processEntry({entry:entry})},params))}}})},function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-mutable-processed-insert.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<div ng-if="$ctrl.isVisible()">\n\n    <div f-menu-item-button click="$ctrl.pasteBelow()" ng-if="$ctrl.alwaysInsertAfter">\n        <f-icon ng-if="$ctrl.icon" ng-class="$ctrl.icon"></f-icon>\n        <span>{{$ctrl.label || \'No label specified\'}}</span>\n    </div>\n\n    <div f-menu-item-submenu="$ctrl.pasteMenu" ng-if="!$ctrl.alwaysInsertAfter">\n        <f-icon ng-if="$ctrl.icon" ng-class="$ctrl.icon"></f-icon>\n        <span>{{$ctrl.label || \'No label specified\'}}</span>\n    </div>\n\n    <div f-pop-up-menu="$ctrl.pasteMenu" ng-if="!$ctrl.alwaysInsertAfter">\n        <div f-menu-item-button click="$ctrl.pasteAbove()">\n            <f-icon class="fa-angle-up"></f-icon>\n            <span>{{::\'Above\' | lang}}</span>\n        </div>\n        <div f-menu-item-button click="$ctrl.pasteBelow()">\n            <f-icon class="fa-angle-down"></f-icon>\n            <span>{{::\'Below\' | lang}}</span>\n        </div>\n    </div>\n</div>\n')}]),module.exports=path},function(module,exports,__webpack_require__){"use strict";__webpack_require__(35).component("fMutableExport",{bindings:{fileName:"<"},require:{muTable:"?^fMutable",menuBar:"?^fMenuBar"},templateUrl:__webpack_require__(708),controller:class{$onInit(){this.supported=this.muTable&&this.menuBar}exportToCSV(){this.muTable.instance.exportToCSV(this.fileName)}exportToJSON(){this.muTable.instance.exportToJSON(this.fileName)}}})},function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-mutable-export.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<div ng-if="::$ctrl.supported">\n    <div f-menu-item-submenu="$ctrl.exportMenu" ng-if="::$ctrl.supported" enabled="!$ctrl.muTable.loading">\n        <f-icon class="fa-file-text-o"></f-icon>\n        <span>{{::\'Export\' | lang}}</span>\n    </div>\n\n    <div f-pop-up-menu="$ctrl.exportMenu">\n        <div f-menu-item-button click="$ctrl.exportToCSV()">\n            <span>CSV</span>\n        </div>\n        <div f-menu-item-button click="$ctrl.exportToJSON()">\n            <span>JSON</span>\n        </div>\n    </div>\n</div>\n')}]),module.exports=path},function(module,exports,__webpack_require__){"use strict";__webpack_require__(35).component("fMutablePaneToggle",{bindings:{buttonLabel:"<"},require:{muTable:"?^fMutable",menuBar:"?^fMenuBar"},templateUrl:__webpack_require__(710),controller:class{$onInit(){this.supported=this.muTable&&this.menuBar&&!this.muTable.fixedPane&&this.muTable.hasPaneBottom,this.buttonLabel=this.buttonLabel||"Details"}toggle(){this.muTable.togglePaneVisibility()}}})},function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-mutable-pane-toggle.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<div ng-if="::$ctrl.supported">\n    <div f-menu-item-button ng-click="$ctrl.toggle()">\n        <f-icon class="fa-columns"></f-icon>\n        <span>{{::$ctrl.buttonLabel | lang}}</span>\n    </div>\n</div>\n')}]),module.exports=path},function(module,exports,__webpack_require__){"use strict";const ngModule=__webpack_require__(35),util=__webpack_require__(8).util;ngModule.component("fMutableEditColumn",{templateUrl:__webpack_require__(712),bindings:{columnId:"<"},require:{menu:"?^fPopUpMenu"},controller:class{constructor($scope,$q,lang){this._$q=$q,$scope.$watchGroup(["$ctrl.menu.lastSelectedRow","$ctrl.menu.rowInstances"],async([lastSelectedRow,rows])=>{if(this.rows=rows,this.column=null,this.supported=!1,this.value=null,this.options=null,lastSelectedRow&&this.columnId){this.table=this.menu.muTableInstance;const settings=this.table.getSettings();if(this.column=settings.columnsMap[this.columnId],this._isSupportedColumn(lastSelectedRow,this.column)){const cellValue=await this._resolveValues(lastSelectedRow,rows);this.supported=this._areRowsSupported(rows,this.column),this.supported&&(this.columnLabel=lang(this.column.langKey),this.value=cellValue.getValue(),this.options=cellValue.getEditableOptions())}}})}setValue(value){this.table.setEditedColumnValueForSelection(this.column,value)}_isSupportedColumn(row,column){return row.isColumnEditingSupported(column)&&column.editableType===column.STANDARD_EDITABLE_TYPE.SELECTION}_resolveValues(lastSelectedRow,rows){const promises=[];let lastSelectedValue;for(const row of rows){const cellValue=row.getCellValue(this.column);let promise;util.objectIsThenable(cellValue)&&(promise=cellValue),row===lastSelectedRow&&(promise?promise=promise.then(result=>lastSelectedValue=result):lastSelectedValue=cellValue),promise&&promises.push(promise)}return this._$q.all(promises).then(()=>lastSelectedValue)}_areRowsSupported(rows,column){return rows.every(row=>row.isColumnEditingEnabled(column))}}})},function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-mutable-edit-column.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<div f-menu-item-submenu="$ctrl.editMenu" ng-if="$ctrl.supported">\n    <span>{{\'Set {0}\' | lang: [$ctrl.columnLabel]}}</span>\n</div>\n<div f-pop-up-menu="$ctrl.editMenu">\n    <div f-menu-item-button ng-if="$ctrl.supported" ng-repeat="option in $ctrl.options"\n        click="$ctrl.setValue(option.getEntryValue())"\n        enabled="$ctrl.rows.length > 1 || option.getCellValue() !== $ctrl.value">\n        <f-icon ng-class="::option.getIconClass()"\n            ng-if="::option.getIconClass()">\n        </f-icon>\n        <span>{{::option.getLabel()}}</span>\n    </div>\n</div>\n')}]),module.exports=path},function(module,exports,__webpack_require__){"use strict";const ngModule=__webpack_require__(35);const fFabricConnectorCard={controller:class{},transclude:{cardIcon:"cardIcon",cardButtons:"?cardButtons",cardLabel:"cardLabel",cardFooter:"cardFooter"},templateUrl:__webpack_require__(714),bindings:{mkey:"<",datasource:"<",entry:"<"}};ngModule.component("fFabricConnectorCard",fFabricConnectorCard)},function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-fabric-connector-card.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<div class="card-content"\n     f-omniselect-entry-tooltip-target\n     f-omniselect-entry-tooltip-trigger>\n    <f-omniselect-entry\n        ng-if="($ctrl.mkey && $ctrl.datasource) || $ctrl.entry"\n        id="$ctrl.mkey"\n        source="$ctrl.datasource"\n        entry="$ctrl.entry">\n    </f-omniselect-entry>\n    <div class="card-header">\n        <div ng-transclude="cardIcon" class="icon-container">\n        </div>\n        <div ng-transclude="cardButtons"></div>\n    </div>\n    <div class="card-body">\n        <div ng-transclude="cardLabel"></div>\n    </div>\n    <div class="card-footer" ng-transclude="cardFooter">\n    </div>\n</div>\n')}]),module.exports=path},function(module,exports,__webpack_require__){"use strict";const ngModule=__webpack_require__(35),TEMPLATE_URL=__webpack_require__(716),GlobalSearch=__webpack_require__(8).GlobalSearch,inject=__webpack_require__(131);ngModule.component("fGlobalSearch",{templateUrl:TEMPLATE_URL,controller:class extends inject.Collectable{constructor(){super()}$onInit($INJECTABLE$,$scope,$element){return()=>{this._search=this.instance=new GlobalSearch({element:$element[0],sources:this.sources,visibilityHandler:visible=>{$scope.$apply(()=>{this.popupVisible=visible})}}),$scope.$watch("$ctrl.sources",value=>{this._search&&this._search.addSources(value)})}}onShow(){this._search&&this._search.onShow(),this.popupVisible=!0}onHide(){this._search&&this._search.onHide(),this.popupVisible=!1}$onDestroy(){this._search.destroy()}},bindings:{sources:"<",instance:"=?"}})},function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-global-search.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<button type="button" class="bare" f-pop-up-menu-toggle="searchPopup" visible="$ctrl.popupVisible">\n    <f-icon class="ftnt-search-o"></f-icon>\n</button>\n<div class="search-panel-container" f-pop-up-menu="searchPopup" on-show="$ctrl.onShow()" on-hide="$ctrl.onHide()">\n</div>')}]),module.exports=path},function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-date-time.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<input type="date"\n    ng-model="$ctrl.date"\n    ng-change="$ctrl.setDateExternal()"\n    f-ng-model-sync="$ctrl.syncHost">\n<input type="time" ng-attr-step="{{$ctrl.step}}"\n    ng-model="$ctrl.time"\n    ng-change="$ctrl.setTimeExternal()"\n    f-ng-model-sync="$ctrl.syncHost">\n')}]),module.exports=path},function(module,exports,__webpack_require__){"use strict";__webpack_require__(414),__webpack_require__(35).directive("fDateAfter",function(){return{require:"ngModel",link:function(scope,elem,attr,ngModel){let unwatch,currentCtx={};attr.$observe("fDateAfter",expr=>{unwatch&&unwatch(),unwatch=scope.$watch(expr,startDate=>{startDate&&(currentCtx.startDate=startDate,ngModel.$validate())})}),ngModel.$validators.fBadDateRange=(value=>!!ngModel.$isEmpty(value)||new Date(value)>new Date(currentCtx.startDate))}}})},function(module,exports,__webpack_require__){"use strict";const ngModule=__webpack_require__(35),inject=__webpack_require__(131),TEMPLATE_URL=__webpack_require__(720),WIDGET_WIDTH_TO_COLUMNS=1.3,WIDGET_RATIO_TO_CHARTS=.9,WIDGET_LOADING_BUFFER=250;ngModule.component("fDashboardMutable",{templateUrl:TEMPLATE_URL,controller:class extends inject.Collectable{constructor($transclude){super(),this.muTable={},this._$transclude=$transclude}init(dashboardWidget){this.dashboardWidget=dashboardWidget,this.widgetID=dashboardWidget.widgetModel.getID(),this.setupWatcher()}updateMuTable(){if(!this.dashboardController._zoomedWidgetID||this.dashboardController._zoomedWidgetID===this.widgetID){const visibleColumnsCount=this.calculateNumberOfVisibleColumns(),visibleChartsCount=this.calculateNumberOfVisibleCharts(),updateColumnsRequired=!this.onlyChartsVisible&&visibleColumnsCount!==this.visibleColumnsCount,updateChartsRequired=this.chartsVisible&&visibleChartsCount!==this.visibleChartsCount;if(this.visibleColumnsCount=visibleColumnsCount,this.visibleChartsCount=visibleChartsCount,updateColumnsRequired){const defaultColumns=this.settings.defaultColumns&&[...this.settings.defaultColumns]||this.settings.columns.map(column=>column.id);this.instance.updateActiveColumns(defaultColumns.slice(0,this.visibleColumnsCount))}if(updateChartsRequired){const chartColumns=(this.chartColumns||[]).slice(0,this.visibleChartsCount);this.muTable.chartColumns=chartColumns}updateColumnsRequired||updateChartsRequired||!this.instance||this.onlyChartsVisible||this.instance.updateDisplay()}}setupWatcher($INJECTABLE$,$scope,$timeout){return()=>{$scope.$watch("$ctrl.source",source=>{source&&this.muTable.settings&&(this.muTable.source=source)}),$scope.$watch("$ctrl.settings",settings=>{settings&&this.setupMuTable()}),this.fullScreenWidget||$scope.$watch("$ctrl.dashboardWidget.isZoomed",(zoomed,previous)=>{zoomed!==previous&&this.setupMuTable()}),$scope.$watch(()=>this.dashboardWidget&&this.dashboardWidget.inTransition,val=>{val?this.loading=val:$timeout(()=>{this.loading=val},WIDGET_LOADING_BUFFER)}),$scope.$watchGroup(["$ctrl.dashboardWidget.widgetModel.getRelativeWidth()","$ctrl.dashboardWidget.widgetModel.getRelativeHeight()"],([width,height],[previousWidth,previousHeight])=>{(width&&width!==previousWidth||height&&height!==previousHeight)&&this.updateMuTable()})}}setupMuTable(){let chartColumns;const zoomed=this.dashboardWidget.isZoomed;this.visibleColumnsCount=this.calculateNumberOfVisibleColumns();const defaultColumns=(this.settings.defaultColumns&&[...this.settings.defaultColumns]||this.settings.columns.map(column=>column.id)).slice(0,this.visibleColumnsCount),idSegments=[window.location.pathname,this.settings.id,this.widgetID];this.dashboardWidget.isZoomed&&idSegments.push("zoomed");const settings=Object.assign({},this.settings,{id:idSegments.join("::"),defaultColumns:defaultColumns},zoomed?null:{persistSortingColumn:!1,persistSelectedColumns:!1});this.chartColumns&&(this.visibleChartsCount=this.calculateNumberOfVisibleCharts(),chartColumns=(this.chartColumns||[]).slice(0,this.visibleChartsCount)),Object.assign(this.muTable,{source:this.source,settings:settings,chartColumns:chartColumns})}calculateNumberOfVisibleColumns(){let number=Number.MAX_VALUE;if(!this.fullScreenWidget&&!this.dashboardWidget.isZoomed){const realWidth=this.dashboardWidget.widgetModel.getWidth(),relativeWidth=this.dashboardController._widgetDimensionToRelative(realWidth);number=Math.floor(relativeWidth*WIDGET_WIDTH_TO_COLUMNS)}return Math.max(2,number)}calculateNumberOfVisibleCharts(){let number=Number.MAX_VALUE;if(!this.fullScreenWidget&&!this.dashboardWidget.isZoomed){const realWidth=this.dashboardWidget.widgetModel.getWidth(),realHeight=this.dashboardWidget.widgetModel.getHeight(),relativeWidth=this.dashboardController._widgetDimensionToRelative(realWidth),relativeHeight=this.dashboardController._widgetDimensionToRelative(realHeight);number=Math.floor(relativeWidth/relativeHeight*WIDGET_RATIO_TO_CHARTS)}return Math.max(1,number)}get onlyChartsVisible(){return!this.dashboardWidget.isZoomed&&this.chartsOnly&&!this.noCharts}get chartsVisible(){return!this.noCharts&&this.chartColumns}},transclude:{dashboardMutableBeforeTitle:"?beforeTitle",dashboardMutableAfterTitle:"?afterTitle",dashboardMutableExtraControls:"?extraControls"},bindings:{contextMenu:"<",source:"<",settings:"<",instance:"=?",chartsOnly:"<?",chartColumns:"<?",noCharts:"<?",chartColors:"&",chartTotalLabels:"<?",onDoubleClick:"&?",onContextMenu:"&?",menuBar:"<?",dashboardWidget:"=?",fullScreenWidget:"<?",widgetModel:"<",widgetTitle:"<",onSettings:"&",hasSettings:"<"},require:{dashboardController:"^fDashboard"}});ngModule.component("fDashboardMutableMenuTransclude",{bindings:{menu:"<",dashboardMutable:"<"},controller:class{constructor($element){this._$element=$element}$onInit(){this.dashboardMutable._$transclude((cloned,scope)=>{scope.menu=this.menu,this._$element.append(cloned)})}}})},function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-dashboard-mutable.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<f-dashboard-preview-widget\n    loading="$ctrl.loading" widget-model="$ctrl.widgetModel"\n    on-settings="$ctrl.onSettings({widgetModel: widget})" has-settings="$ctrl.hasSettings"\n    full-screen="$ctrl.fullScreenWidget" no-content-margin="::true">\n    <before-title>\n        <div ng-transclude="dashboardMutableBeforeTitle"></div>\n    </before-title>\n    <widget-title>\n        {{ $ctrl.widgetTitle }}\n    </widget-title>\n    <after-title>\n        <div ng-transclude="dashboardMutableAfterTitle"></div>\n    </after-title>\n    <extra-controls>\n        <div ng-transclude="dashboardMutableExtraControls"\n            ng-show="!$ctrl.dashboardWidget.inTransition">\n        </div>\n    </extra-controls>\n    <widget-content>\n        <f-mutable\n            source="$ctrl.muTable.source"\n            settings="$ctrl.muTable.settings"\n            charts-only="$ctrl.chartsOnly && !$ctrl.dashboardWidget.isZoomed"\n            chart-columns="!$ctrl.noCharts && $ctrl.muTable.chartColumns"\n            chart-colors="$ctrl.chartColors({value,column})"\n            chart-total-labels="$ctrl.chartTotalLabels"\n            chart-totals="$ctrl.chartsOnly && !$ctrl.dashboardWidget.isZoomed"\n            instance="$ctrl.instance"\n            on-wrapper-double-click="$ctrl.onDoubleClick"\n            on-wrapper-context-menu="$ctrl.onContextMenu"\n            context-menu="$ctrl.contextMenu"\n            menu-bar="$ctrl.menuBar"\n            disable-window-resize-listener="::true">\n            <f-dashboard-mutable-menu-transclude\n                ng-if="$ctrl.dashboardWidget.isZoomed || $ctrl.fullScreenWidget"\n                menu="::menu" dashboard-mutable="::$ctrl"\n                class="menu-bar-component">\n            </f-dashboard-mutable-menu-transclude>\n        </f-mutable>\n    </widget-content>\n</f-dashboard-preview-widget>\n')}]),module.exports=path},function(module,exports,__webpack_require__){"use strict";__webpack_require__(722),__webpack_require__(725),__webpack_require__(726)},function(module,exports,__webpack_require__){"use strict";var ngModule=__webpack_require__(35),ftnt_shared=__webpack_require__(8),$=jQuery,namespaceEvent=function(eventName,scope){return eventName+".menu"+scope.$id},addQlistEventData=function(menu,data){data.event&&(menu.$target=angular.element(data.event.target)),data.muTableInstance&&(menu.muTableInstance=data.muTableInstance),menu.lastSelectedRow=data.last_selected_row,menu.lastSelectedEntry=data.last_selected,menu.entries=data.entries||[],menu.rows=data.rows||[],menu.rowInstances=data.row_instances||[],menu.$sectionRow=data.$section_row,menu.$categoryRow=data.$category_row,menu.$td=data.$td,menu.columnSelector=menu.targetColumnID=data.column_selector,menu.columnValue=data.column_value,menu.targetColumnValuePromise=data.column_value_promise};function MenuBar($scope,$element,$attrs,$transclude){var transcludeScope;this._$scope=$scope,$element.addClass("menu-bar"),this.menuBar=!0,this.inSlideContext=!1,$element.closest(".slider-content-container").length&&(this.inSlideContext=!0),this.muTableInstance=null,this.entries=[],this.lastSelectedRow=null,this.lastSelectedEntry=null,this.rowInstances=[],this.targetColumnID=null,this.targetColumnValuePromise=null,this.$qlist=null,this.rows=[],this.$sectionRow=null,this.$td=null,this.columnSelector=null,this.columnValue=null,$attrs.qlistSelector?$scope.$watch("qlistSelector",function(qlistSelector){qlistSelector&&this.setupQlistEvents(qlistSelector)}.bind(this)):$attrs.qlistElement&&$scope.$watch("qlistElement.element",function(qlistElement){qlistElement&&this.setupQlistEvents(qlistElement)}.bind(this)),(transcludeScope=$scope.$parent.$new()).menu=this,$transclude(transcludeScope,function(clone){$element.append(clone)})}function PopUpMenuController($scope,$element,$attrs,$templateCache,$window,$q,$http,$compile,$timeout){this._$scope=$scope,this._$attrs=$attrs,this._$templateCache=$templateCache,this._$window=angular.element($window),this._$q=$q,this._$http=$http,this._$compile=$compile,this._$timeout=$timeout,this._menuId="popUpMenu"+$scope.$id,this._children=[],this._leftAdjusted=!1,this._appendedTo=null,this.toggleDefer=null,this._destroyed=!1,this.popUpMenu=!0,this.$element=$element,this.visible=!1,this.metaInfo=null,this.toggleMeta=null,this.buttonToggled=!1,this.muTableInstance=null,this.entries=[],this.lastSelectedRow=null,this.lastSelectedEntry=null,this.rowInstances=[],this.targetColumnID=null,this.targetColumnValuePromise=null,this.$qlist=null,this.rows=[],this.$sectionRow=null,this.$td=null,this.columnSelector=null,this.columnValue=null,this.inSlideContext=!1,$element.closest(".slider-content-container").length&&(this.inSlideContext=!0),$attrs.qlistSelector?$scope.$watch("qlistSelector",function(qlistSelector){qlistSelector&&this._setupQlistEvents(qlistSelector)}.bind(this)):$attrs.qlistElement&&$scope.$watch("qlistElement.element",function(qlistElement){qlistElement&&this._setupQlistEvents(qlistElement)}.bind(this)),$attrs.fPopUpMenu&&($scope.popUpMenu=this),this._setupAutoPositioning(),this._show(!1),this._$scope.$on("$destroy",function(){this._show(!1),this._destroyed=!0,this._stopListeningOnCloseElements()}.bind(this))}MenuBar.prototype.setTableDoubleClickHandler=function(callback){this._tableDoubleClickHandler=callback},MenuBar.prototype.triggerTableDoubleClick=function(){"function"==typeof this._tableDoubleClickHandler?this._tableDoubleClickHandler():"function"==typeof this.qlistDoubleClickHandler&&this.qlistDoubleClickHandler()},MenuBar.prototype.setupQlistEvents=function(qlist){var selectEvent,dblclickEvent,$qlist=$(qlist);if(!$qlist.length)throw new Error('Qlist selector "'+this._$scope.qlistSelector+'" failed to locate element');selectEvent=namespaceEvent("qlist_select_rows",this._$scope),dblclickEvent=namespaceEvent("qlist_dblclick_row",this._$scope),$qlist.off(selectEvent).on(selectEvent,function(event,data){this._$scope.$evalAsync(function(){addQlistEventData(this,data)}.bind(this))}.bind(this)),$qlist.off(dblclickEvent).on(dblclickEvent,function(event,data){this._$scope.$apply(function(){addQlistEventData(this,data),angular.isFunction(this.qlistDoubleClickHandler)&&this.qlistDoubleClickHandler.apply(this,arguments)}.bind(this))}.bind(this)),this._$scope.$on("$destroy",function(){$qlist.off(selectEvent).off(dblclickEvent)}),this.$qlist=$qlist,this._$scope.$on("clearQlistSelection",function(){addQlistEventData(this,{})}.bind(this))},ngModule.directive("fMenuBar",function(){return{restrict:"A",transclude:!0,scope:{qlistSelector:"=",qlistElement:"="},controller:MenuBar}}),PopUpMenuController.prototype._show=function(show){this._destroyed||(this.visible=show,this.pendingVisible=!1,this.$element.toggleClass("hidden",!show),show?(this._$scope.onShow(),this._listenOnCloseElements()):(this._children.forEach(function(childMenu){childMenu._show(!1)}),this._leftAdjusted=!1,this.toggleDefer&&(this.toggleDefer.resolve(this.toggleMeta),this.toggleMeta=null),this._$scope.onHide(),this._stopListeningOnCloseElements()))},PopUpMenuController.prototype._listenOnCloseElements=function(){this._closeListener=(event=>{if(this.visible){this.$element[0].contains(event.target)||this._children.some(e=>e.$element[0].contains(event.target))||this._$timeout(()=>{this._show(!1)})}}),this._closeOnClickElems&&["click","contextmenu"].forEach(event=>{this._closeOnClickElems.forEach(elem=>{elem.addEventListener(event,this._closeListener,!0)})})},PopUpMenuController.prototype._stopListeningOnCloseElements=function(){this._closeOnClickElems&&["click","contextmenu"].forEach(event=>{this._closeOnClickElems.forEach(elem=>{elem.removeEventListener(event,this._closeListener,!0)})}),this._closeListener=null},PopUpMenuController.prototype._setPosition=function(position,$target){if(position||this.visible){this.visible||this.$element.css({top:0,left:0,visibility:"hidden"}).removeClass("hidden"),position=position||this.$element.offset();var buffer=null!=this._$scope.windowBuffer?this._$scope.windowBuffer:5,containerOffset=this._appendedTo.offset(),top=position.top-containerOffset.top,left=position.left-containerOffset.left,containerWidth=this._appendedTo.width(),containerHeight=this._appendedTo.height(),maxWidth=containerWidth-2*buffer,maxHeight=containerHeight-(this.buttonToggled?top:0)-2*buffer,width=ftnt_shared.browser.responsive.isSmall()?maxWidth:Math.min(this.$element.width(),maxWidth),height=Math.min(this.$element.height(),maxHeight),leftOver=left+width+buffer-containerWidth,topOver=top+height+buffer-containerHeight;if(leftOver>0&&(!this._leftAdjusted&&position.leftOverAdjust?(left-=position.leftOverAdjust+width+2,this._leftAdjusted=!0):left-=leftOver,left<buffer&&(left=buffer)),topOver>0&&(top-=topOver)<buffer&&(top=buffer),this.$element.css({left:left,top:top,width:ftnt_shared.browser.responsive.isSmall()?width:void 0,"max-width":maxWidth,"max-height":maxHeight,visibility:"visible","overflow-y":this.$element[0].scrollHeight>maxHeight?"scroll":"hidden"}),$target&&$target.length){var isTargetMasked=this._isTargetMasked(left,top,width,height,$target);$target.toggleClass("is-masked-by-popup-menu",isTargetMasked)}position.minWidth&&this.$element.css("min-width",position.minWidth)}},PopUpMenuController.prototype._setupQlistEvents=function(selector){var configMenuElement,configMenuScope,$qlist=angular.element(selector),contextEvent=namespaceEvent("qlist_contextmenu",this._$scope),configMenuEvent=namespaceEvent("qlist_config_menu",this._$scope),dblclickEvent=namespaceEvent("qlist_dblclick_row",this._$scope),configMenuContent=this._$templateCache.get(__webpack_require__(723));if(!$qlist.length)throw new Error('Qlist selector "'+selector+'" failed to locate element');$qlist.on(contextEvent,function(event,data){this._$scope.$apply(function(){addQlistEventData(this,data)}.bind(this)),this._$timeout(function(){var x,y;data.event.pageX&&data.event.pageY?(x=data.event.pageX,y=data.event.pageY):data.event.pointers&&(x=data.event.pointers[0].pageX,y=data.event.pointers[0].pageY),this._setPosition({left:x,top:y},this.$target),this._show(!0)}.bind(this))}.bind(this)),$qlist.on(dblclickEvent,function(event,data){this._$scope.$apply(function(){addQlistEventData(this,data),this._$scope.qlistDoubleClick({entry:this.lastSelectedEntry,menu:this,event:data.event})}.bind(this))}.bind(this)),$qlist.on(configMenuEvent,function(event,data){configMenuScope&&(configMenuScope.$destroy(),configMenuElement.remove()),(configMenuScope=this._$scope.$new(!0)).menu=this,configMenuScope.options=data.options,configMenuElement=this._$compile('<div f-pop-up-menu="qlistConfigContextMenu">'+configMenuContent+"</div>")(configMenuScope),configMenuScope.$watch("qlistConfigContextMenu",function(popUpMenu){popUpMenu&&this._$timeout(function(){popUpMenu.toggle({left:data.event.pageX,top:data.event.pageY}).then(function(meta){var action=meta.action;"cancel"!==action&&(action||(action="update_columns"),$qlist.qlist(action,meta.chosen))})})}.bind(this))}.bind(this)),this._$scope.$on("clearQlistSelection",function(){addQlistEventData(this,{})}.bind(this)),this._$scope.$on("$destroy",function(){$qlist.off(contextEvent).off(configMenuEvent).off(dblclickEvent)}),this.$qlist=$qlist},PopUpMenuController.prototype._setupAutoPositioning=function(){var debouncedSetPosition=ftnt_shared.util.debounce(50,function(){this._setPosition()}.bind(this));this._$scope.$on("$destroy",function(){this._$window.off("resize.f-pop-up-menu",debouncedSetPosition)}.bind(this)),this._$window.on("resize.f-pop-up-menu",debouncedSetPosition)},PopUpMenuController.prototype._addChild=function(childMenu){this._children.push(childMenu),childMenu._parent=this},PopUpMenuController.prototype._removeChild=function(childMenu){this._children.splice(this._children.indexOf(childMenu),1),childMenu._parent=null},PopUpMenuController.prototype._getElementAndChildren=function(){var result=[this.$element];return this._children.forEach(function(childMenu){result=result.concat(childMenu._getElementAndChildren())}),result},PopUpMenuController.prototype._isTargetMasked=function(left,top,width,height,$target){if(!$target||!$target.length)return!1;var bottom=top+height,right=left+width,targetOffset=$target.offset();return targetOffset.bottom=targetOffset.top+$target.outerHeight(),targetOffset.right=targetOffset.left+$target.outerWidth(),!(targetOffset.right<=left||targetOffset.left>=right||targetOffset.bottom-1<=top||targetOffset.top>=bottom)},PopUpMenuController.prototype.toggle=function(position,element){var show=angular.isObject(position),defer=this._$q.defer();return show?(this.toggleDefer=defer,this.pendingVisible=!0,this._$timeout(function(){this._setPosition(position,element),this._show(!0)}.bind(this))):(this._show(!1),defer.reject()),defer.promise},PopUpMenuController.prototype.hide=function(parent){this._show(!1),parent&&this._parent&&this._parent.hide(!0)},PopUpMenuController.prototype.togglePopupAtElement=function(element,visible){var offset;return null!=visible&&(this.visible=!visible),this.visible?this.toggle(!1):element&&(offset=element.offset(),element.addClass("pop-up-toggled"),this.buttonToggled=!0,element.addClass("button-toggled"),this.toggle({top:offset.top+element.outerHeight()-1,left:offset.left,minWidth:element[0].getBoundingClientRect().width},element).then(function(){element.removeClass("pop-up-toggled")})),this.visible},ngModule.directive("fPopUpMenu",function(){return{restrict:"A",transclude:!0,scope:{popUpMenu:"=fPopUpMenu",qlistSelector:"=",qlistElement:"=",qlistDoubleClick:"&",onShow:"&",onHide:"&",windowBuffer:"=",buttonSelector:"@?",allowNativeContextMenu:"<?"},controller:PopUpMenuController,link:function(scope,element,attrs,controller,transclude){var clickEvent=namespaceEvent("click",scope);const closeOnClickElems=[document.body];var appendTo=element.closest(".slider-content-container");appendTo.length?closeOnClickElems.push(appendTo[0]):appendTo=angular.element("body"),appendTo.append(element),controller._appendedTo=appendTo,controller._closeOnClickElems=closeOnClickElems,element.addClass("pop-up-menu"),this.allowNativeContextMenu&&element.on("contextmenu",function(event){event.preventDefault()});var transcludeScope=scope.$parent.$new();transcludeScope.menu=controller,transclude(transcludeScope,function(clone){element.append(clone)}),scope.buttonSelector&&appendTo.off(clickEvent).on(clickEvent,scope.buttonSelector,function(event){scope.$apply(function(){var target=angular.element(event.target).closest(scope.buttonSelector);target.length&&controller.togglePopupAtElement(target)})}),scope.$on("$destroy",()=>{element.remove(),scope.buttonSelector&&appendTo.off(clickEvent)})}}}),ngModule.directive("fPopUpMenuToggle",function(){return{restrict:"A",templateUrl:__webpack_require__(724),transclude:!0,scope:{popUpMenu:"=fPopUpMenuToggle",metaInfo:"=",isContextMenu:"<",onlyIf:"&",visible:"="},require:["?^fTip","?^fTipTarget"],link:function(scope,element,attrs,controllers){var handleButtonClick=!1,isContextMenu=scope.isContextMenu,clickEvent=isContextMenu?"contextmenu":"click",tipController=controllers[0],targetController=controllers[1];scope.$watch(function(){return null==attrs.onlyIf||scope.onlyIf()},function(shouldHandleButtonClick){handleButtonClick=shouldHandleButtonClick,scope.showCaret=null==attrs.noToggleIcon&&handleButtonClick});const toggleVisible=visible=>{if(handleButtonClick)return function(){var controller=tipController||targetController&&targetController.tipController;controller&&controller.tooltip.hide()}(),scope.popUpMenu.metaInfo=scope.metaInfo,scope.popUpMenu.togglePopupAtElement(element,visible)};scope.$watch("visible",(newVal,oldVal)=>{newVal!==oldVal&&(this.visible=toggleVisible(newVal))}),element.on(clickEvent,event=>{isContextMenu&&event&&event.preventDefault(),scope.$apply(()=>{this.visible=toggleVisible()})})}}})},function(module,exports){var path="/.build/gui_shared_export/ng/directives/menu/partials/qlist_config.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<div ng-controller="QlistContextMenuConfig">\n    <div class="heading">\n        {{\'Selected Columns\' | lang}}\n    </div>\n    <ul class="chosen-columns-list" ui-sortable="sortableOptions" ng-model="chosen">\n        <li ng-repeat="entry in chosen" class="flex-row-centered" ng-class="{\'not-sortable\': entry.fixed}">\n            <div class="menu-item button-style reorderable" ng-class="{\'disabled\': entry.fixed}"\n                ui-event="{\'mouseup\': \'removeMouseUp($event, entry)\'}">\n                <f-icon ng-if="!!entry.icon" ng-class="entry.icon"></f-icon>\n                <span>{{entry.value}}</span>\n            </div>\n        </li>\n    </ul>\n\n    <div class="info-text" ng-show="chosen.length === 0">\n        ...\n    </div>\n    <div class="heading">\n        {{\'Available Columns\' | lang}}\n    </div>\n    <div f-menu-item-button pop-up-stay-open ng-repeat="entry in available | orderBy:\'value\'"\n        click="addAvailable(entry)">\n        <f-icon ng-if="!!entry.icon" ng-class="entry.icon"></f-icon>\n        <span>\n            {{entry.value}}\n        </span>\n    </div>\n    <div class="info-text" ng-show="available.length === 0">\n        ...\n    </div>\n\n    <div class="separator"></div>\n    <div f-menu-item-button click="setAction(\'reset_columns\')">\n        <f-icon class="fa-reset"></f-icon>\n        {{\'col_rst\' | lang}}\n    </div>\n    <div f-menu-item-button click="setAction(\'clear_filters\')">\n        <f-icon class="fa-trash-o"></f-icon>\n        {{\'Remove All Filters\' | lang}}\n    </div>\n    <div class="separator"></div>\n    <div f-menu-item-button click="setAction(null)">\n        <f-icon class="fa-apply"></f-icon>\n        {{\'Apply\' | lang}}\n    </div>\n    <div f-menu-item-button click="setAction(\'cancel\')">\n        <f-icon class="fa-cancel"></f-icon>\n        {{\'Cancel\' | lang}} </div>\n</div>\n')}]),module.exports=path},function(module,exports){var path="/.build/gui_shared_export/ng/directives/menu/partials/pop_up_toggle.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<div class="flex-button-content">\n    <div class="flex-button-content" ng-transclude></div>\n    <div class="caret-container" ng-show="showCaret">\n        <span class="caret-down"></span>\n    </div>\n</div>\n')}]),module.exports=path},function(module,exports,__webpack_require__){"use strict";__webpack_require__(173),__webpack_require__(415);var ngModule=__webpack_require__(35),ftnt_shared=__webpack_require__(8),createDisabledFunction=function(scope,attrs){return function(){var disabled=!1;return attrs.enabled&&(disabled=!scope.enabled),disabled}};ngModule.directive("fMenuItemButton",function(){return{restrict:"A",transclude:!0,scope:{enabled:"=",selected:"=",emphasized:"=",click:"&",extraClass:"@"},templateUrl:__webpack_require__(173),require:["?^fPopUpMenu","?^fMenuBar"],link:function(scope,element,attrs,controllers){element.addClass("menu-item"),scope.disabled=createDisabledFunction(scope,attrs),scope.onClick=function($event){var popUpMenu=controllers[0],menu=controllers[1],entries=popUpMenu?popUpMenu.entries:menu&&menu.entries;scope.click({$event:$event,$entries:entries}),null==attrs.popUpStayOpen&&popUpMenu&&popUpMenu.hide(!0)}}}}),ngModule.directive("fMenuItemToggle",function(){return{restrict:"A",transclude:!0,scope:{selected:"=fMenuItemToggle",enabled:"=",click:"&"},templateUrl:__webpack_require__(173),require:["?^fPopUpMenu","?^fMenuBar"],link:function(scope,element,attrs){element.addClass("menu-item").addClass("menu-item-toggle"),scope.disabled=createDisabledFunction(scope,attrs),scope.onClick=function(){scope.selected=!scope.selected,scope.click({$toggleSelected:scope.selected})}}}}),ngModule.directive("fMenuItemSubmenu",function($window){return{restrict:"A",transclude:!0,scope:{menu:"=fMenuItemSubmenu",selected:"=",enabled:"=",emphasized:"<",extraClass:"@",hideDropDown:"<"},templateUrl:__webpack_require__(173),require:"?^fPopUpMenu",link:function(scope,element,attrs,popUpMenu){element.addClass("menu-item").addClass("menu-item-submenu"),scope.disabled=createDisabledFunction(scope,attrs);var toggle=function(){var relativeElement,offset,position,parentPopUpMenuWidth;scope.menu?(scope.menu.visible||scope.menu.pendingVisible||(popUpMenu?(relativeElement=element,offset=element.offset(),parentPopUpMenuWidth=popUpMenu.$element.width(),position={left:offset.left+parentPopUpMenuWidth,top:offset.top,leftOverAdjust:parentPopUpMenuWidth}):(offset=(relativeElement=element.find("button")).offset(),element.find("button").addClass("pop-up-toggled"),scope.menu.$element.addClass("button-toggled"),position={left:offset.left,top:offset.top+relativeElement.outerHeight()-1,minWidth:relativeElement.outerWidth()})),scope.menu.toggle(position,element).then(function(){element.find("button").removeClass("pop-up-toggled")})):ftnt_shared.log.error("Can't toggle pop up menu that doesn't exist")};if(scope.onClick=function(){toggle()},popUpMenu){var $win=angular.element($window),parentMenuElement=popUpMenu.$element,mouseEvent="mousemove.menuItemSubmenu"+scope.$id,deregister=scope.$watch("menu",function(menu){menu&&(popUpMenu._addChild(menu),deregister())});$win.on(mouseEvent,function(event){var toggleOffset,toggleHeight,insideToggle=element.is(":hover")&&!scope.disabled();scope.menu&&scope.menu.visible?parentMenuElement.is(":hover")&&!insideToggle&&("scroll"===parentMenuElement.css("overflow-y")?(toggleOffset=element.offset(),toggleHeight=element.height(),(event.pageY<toggleOffset.top||event.pageY>toggleOffset.top+toggleHeight)&&toggle()):toggle()):insideToggle&&toggle()}),scope.$on("$destroy",function(){$win.off(mouseEvent),popUpMenu._removeChild(scope.menu)})}if(!scope.hideDropDown){var caretClass=popUpMenu?"caret-right":"caret-down";element.find(".flex-button-content").append('<span class="flex-filler"></span>').append('<span class="'+caretClass+'"></span>')}}}}),ngModule.directive("fMenuItemRadio",function(){return{restrict:"A",templateUrl:__webpack_require__(415),scope:{options:"=fMenuItemRadio",selected:"="},link:function(scope,element){element.addClass("menu-item"),scope.selected||(scope.selected=scope.options[0].value),scope.setSelected=function(value){scope.selected=value}}}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(35).controller("QlistContextMenuConfig",function($scope,lang){var movingChosen=!1,chosen_map={},updateChosen=function(){$scope.menu.toggleMeta.chosen=$scope.chosen.map(function(entry){return entry.selector})};$scope.menu.toggleMeta={chosen:[],action:null},$scope.chosen=[],$scope.available=[],$scope.options.chosen_columns.forEach(function(selector){chosen_map[selector]=!0}),$scope.options.columns.forEach(function(column){var selector=column.selector,entry={selector:selector,value:null===column.lang_key?"":lang(column.lang_key||selector),fixed:!!column.fixed,icon:column.icon};chosen_map[selector]?$scope.chosen.push(entry):column.hidden||$scope.available.push(entry)}),$scope.setAction=function(action){$scope.menu.toggleMeta.action=action},$scope.addAvailable=function(entry){$scope.available.splice($scope.available.indexOf(entry),1),$scope.chosen.push(entry),updateChosen()},$scope.removeMouseUp=function(event,entry){movingChosen||entry.fixed||function(entry){$scope.chosen.splice($scope.chosen.indexOf(entry),1),$scope.available.push(entry),updateChosen()}(entry)},$scope.sortableOptions={start:function(event,ui){movingChosen=!0;var $menuItem=ui.item.find(".menu-item"),$contextMenu=$scope.menu.$element;$contextMenu.css({width:Math.max($contextMenu.width(),$menuItem.outerWidth())+"px","overflow-x":"hidden"}),$menuItem.css("cursor","move")},stop:function(event,ui){movingChosen=!1,$scope.menu.$element.css({width:"","overflow-x":""}),ui.item.find(".menu-item").css("cursor","")},items:"li:not(.not-sortable)"},$scope.$watchCollection("chosen",function(){updateChosen()})})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(728),__webpack_require__(730),__webpack_require__(732)},function(module,exports,__webpack_require__){"use strict";const ngModule=__webpack_require__(35),Collectable=__webpack_require__(132),TEMPLATE_URL=__webpack_require__(729),ftntLog=__webpack_require__(8).log;const fFabricTopology={bindings:{settings:"<",topologyState:"=",searchHandler:"&",graph:"=",topologyDescription:"=",searchState:"=",reloadRequestEvent:"<",shrinkRequestEvent:"<",shrinkExecuteEvent:"<"},transclude:{menu:"topologyMenu",content:"topologyContent"},templateUrl:TEMPLATE_URL,controller:class extends Collectable{constructor(){super()}$onInit(){this._trackTopologyFilterChange(),this._trackSearchQueryChange(),this._registerEventHandlers()}_trackTopologyFilterChange($INJECTABLE$,$scope){return()=>{$scope.$watch("$ctrl.topologyState.params",params=>{params&&this._reloadData(params)},!0)}}_trackSearchQueryChange($INJECTABLE$,$scope){return()=>{$scope.$watch("$ctrl.topologyState.searchQuery",(newVal,oldVal)=>{oldVal!==newVal&&this.searchHandler({query:newVal,result:this.searchState})})}}_registerEventHandlers($INJECTABLE$,$scope){return()=>{const reloadDeregister=$scope.$watch("$ctrl.reloadRequestEvent",val=>{val&&($scope.$on(val,event=>{event.preventDefault(),event.stopPropagation&&event.stopPropagation(),this._reloadData(void 0,!0)}),reloadDeregister())}),shrinkDeregister=$scope.$watch("$ctrl.shrinkRequestEvent",val=>{val&&($scope.$on(val,event=>{event.preventDefault(),event.stopPropagation&&event.stopPropagation(),this.shrink()}),shrinkDeregister())})}}_doReloadData($INJECTABLE$,topologyDescription){return async(state,skipCache)=>{if(!this.loading){this.loading=!0;try{this.topologyDescription=await topologyDescription.getData(state,skipCache),this.graph=this.topologyDescription&&this.topologyDescription.data.topology}catch(error){ftntLog.error(error)}finally{this.loading=!1}}}}_reloadData(params,forceReload){this.topologyState&&this._doReloadData(params,forceReload)}shrink($INJECTABLE$,$scope){return()=>{this.shrinkExecuteEvent&&$scope.$broadcast(this.shrinkExecuteEvent)}}}};ngModule.component("fFabricTopology",fFabricTopology)},function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-fabric-topology/f-fabric-topology.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<div class="topology-container">\n    <div class="loading-container flex-centered" ng-class="{\'loading-invisible\': !$ctrl.loading}">\n        <f-icon class="fa-loading icon-xxl"></f-icon>\n    </div>\n\n    <div class="topology-menu" ng-transclude="menu">\n    </div>\n\n    <div class="topology-view flex-grow flex-row-stretch" ng-transclude="content">\n    </div>\n</div>\n')}]),module.exports=path},function(module,exports,__webpack_require__){"use strict";const ngModule=__webpack_require__(35),Collectable=__webpack_require__(132),TEMPLATE_URL=__webpack_require__(731),d3=__webpack_require__(48),ftnt_shared=__webpack_require__(8),topologyLib=ftnt_shared.topology,TOPOLOGY=topologyLib.CONSTANTS.TOPOLOGY,{chartUtil:chartUtil,topologyParser:topologyParser,BaseTopologyNode:BaseTopologyNode,DonutContainerNode:DonutContainerNode,PackContainerNode:PackContainerNode,MultiGroupNode:MultiGroupNode,IconNode:IconNode,IconNodeWithTable:IconNodeWithTable,IconGroupNode:IconGroupNode,CirclePackContainerNode:CirclePackContainerNode,SquarePackContainerNode:SquarePackContainerNode,LinkBadge:LinkBadge,LinkPath:LinkPath,Toggle:Toggle}=topologyLib,RENDER_DEBOUNCE_DELAY=500,CLICK_DEBOUNCE_DELAY=250,MOTION_CHECK_INTERVAL=100;class TopologyRenderer extends Collectable{constructor($element){super(),this.$element=$element,this.$updateTimeout=null,this.$motionTimeout=null,this.$rendererID=`'topologyRenderer${Math.floor(1+65536*Math.random())}`,this._state={fullViewScale:1,zoomState:{originalTransform:null,currentTransform:null,lastTransform:null,currentZoomInPackId:null,currentZoomInPackChildId:null,currentZoomInDonutId:null,currentZoomInMultiGroupId:null,subscribers:[]},branchCollapsed:{},expanded:{}},this._createTreeNodeHandlers()}$onInit(){this.$svg=this.$element.find("svg"),this.width=this.$svg.width(),this.height=this.$svg.height(),this.svg=d3.select(this.$svg[0]),this.defs=this.svg.select("defs"),this.container=this.svg.select("g.container"),this.overlayRect=this.container.append("rect").call(this._overlayRect.bind(this)),this._zoomInit(),this.layers=["link","ftnt","pack","node"].reduce((obj,layer)=>{const cls=`${layer}-layer`;return obj[layer]=this.container.append("g"),obj[layer].attr("class",cls),obj},{}),this.yellowOutline=this.defs.append("filter").call(LinkPath.yellowOutlineFilterAttrs),this.setupWatch()}$onDestroy($INJECTABLE$,$timeout,$window){return()=>{this.interactCleanUp(this.container),$timeout.cancel(this.$motionTimeout),$timeout.cancel(this.$updateTimeout),angular.element($window).off(`resize.${this.rendererID}`),this.destroyed=!0}}trackGraphChange($INJECTABLE$,$scope){return()=>{$scope.$watch("$ctrl.graph",graph=>{graph&&this.refresh()},!0)}}trackSizeChange($INJECTABLE$,$scope,$timeout,$window){return()=>{const motionCheck=(that,lastWidth,lastHeight)=>{const width=that.$svg.width(),height=that.$svg.height();return width===lastWidth&&height===lastHeight?(that.width=width,that.height=height,that.motionCheck=null,that.graph&&($timeout.cancel(that.$updateTimeout),that.$updateTimeout=$timeout(()=>that.update(),RENDER_DEBOUNCE_DELAY))):($timeout.cancel(that.$motionTimeout),that.$motionTimeout=$timeout(motionCheck,MOTION_CHECK_INTERVAL,!0,that,width,height)),!0};$scope.$watch(()=>({width:this.$svg.width(),height:this.$svg.height()}),(size,oldSize)=>{size.width===oldSize.width&&size.height===oldSize.height||(this.motionCheck=this.motionCheck||motionCheck(this))},!0),motionCheck(this),angular.element($window).on(`resize.${this.$rendererID}`,()=>{this.motionCheck=this.motionCheck||motionCheck(this)})}}trackSearchChange($INJECTABLE$,$scope){return()=>{$scope.$watchCollection(()=>this.searchState&&this.searchState.matchedIds&&Array.from(this.searchState.matchedIds),(newVal,oldVal)=>{!(!newVal&&!oldVal)&&this.refresh(!0)})}}trackShrinkEvent($INJECTABLE$,$scope){return()=>{const shrinkDeregister=$scope.$watch("$ctrl.shrinkExecuteEvent",val=>{val&&($scope.$on(val,event=>{event.preventDefault(),event.stopPropagation&&event.stopPropagation(),this.refresh()}),shrinkDeregister())})}}setupWatch(){this.trackSizeChange(),this.trackGraphChange(),this.trackSearchChange(),this.trackShrinkEvent()}refresh($INJECTABLE$,$timeout){return keepZoomState=>{$timeout.cancel(this.$updateTimeout),this.$updateTimeout=$timeout(()=>this.update(keepZoomState),RENDER_DEBOUNCE_DELAY)}}update(keepZoomState){if(this.destroyed)return;const result=this.toD3Data();this.zoomUnsubscribeAll(),this.doRender(result,keepZoomState)}doRender(d3Data,keepZoomState){this._beforeRender(),this.updateZoomState(d3Data.boundingBox),this.showDivisionLines&&this.renderDivisionLines(),this.renderIconGroupNodes(d3Data.IconGroupNode),this.renderIconNodes(d3Data.IconNode,d3Data.NodeMapping),this.renderDonutNodes(d3Data.DonutNode,d3Data.NodeMapping),this.renderCirclePackNodes(d3Data.CirclePackContainerNode),this.renderSquarePackNodes(d3Data.SquarePackContainerNode),this.renderMultiGroupNodes(d3Data.MultiGroupNode),this.renderLinks(d3Data.Link),this._afterRenderCompletion(keepZoomState)}renderDivisionLines(){const layer=this.layers.link,total=Math.round(this.width/this._state.fullViewScale/TOPOLOGY.DIVISION.WIDTH),data=[...Array(total).keys()],lines=layer.selectAll("line.division").data(data);lines.exit().remove(),lines.enter().append("line").attr("x1",d=>d*TOPOLOGY.DIVISION.WIDTH).attr("y1",0).attr("x2",d=>d*TOPOLOGY.DIVISION.WIDTH).attr("y2",this.height/this._state.fullViewScale).style("stroke-width",2).style("stroke","red").style("fill","none")}renderIconGroupNodes(iconGroupNodes){this._renderIconGroupRectContainers(iconGroupNodes)}_renderIconGroupRectContainers(iconGroupNodes){const nodes=this.layers.ftnt.selectAll(`g.${IconGroupNode.d3SelectorClass}`).data(iconGroupNodes,BaseTopologyNode.d3KeyFn);nodes.exit().remove();const nodeGAttrsFn=IconGroupNode.createNodeGAttrsFn(this.searchState),nodeEnter=nodes.enter().append("g").call(nodeGAttrsFn);nodeEnter.call(IconGroupNode.nodeContent);const mergedNodes=nodes.merge(nodeEnter);chartUtil.quickTransition(mergedNodes.select("rect"),IconGroupNode.rectAttrs),chartUtil.quickTransition(mergedNodes.select("text"),IconGroupNode.textAttrs),chartUtil.quickTransition(mergedNodes,nodeGAttrsFn)}renderIconNodes(iconNodes,nodeMapping){const nodes=this.layers.ftnt.selectAll(`g.${IconNode.d3SelectorClass}`).data(iconNodes,BaseTopologyNode.d3KeyFn);nodes.exit().remove();const headerGAttrsFn=IconNode.createHeaderGAttrsFn(this.searchState),nodeContentFn=IconNode.createNodeContentFn(headerGAttrsFn),nodeEnter=nodes.enter().append("g").call(IconNode.nodeGAttrs);nodeEnter.call(nodeContentFn);const mergedNodes=nodes.merge(nodeEnter),toggleIconAttrsFn=Toggle.createIconAttrsFn(d=>this.isIconNodeBranchExpanded(d)),toggleNodeContentFn=Toggle.createNodeContentFn(toggleIconAttrsFn,d=>this.iconNodeBranchToggle(d)),branchToggleUpdateFn=IconNode.createBranchToggleUpdateFn(toggleIconAttrsFn,toggleNodeContentFn);mergedNodes.call(branchToggleUpdateFn);const iconBadgesUpdateFn=IconNode.createIconBadgesUpdateFn(nodeMapping);mergedNodes.call(iconBadgesUpdateFn);const numberBubbleBadgesUpdateFn=IconNode.createNumberBubbleBadgesUpdateFn(nodeMapping);mergedNodes.call(numberBubbleBadgesUpdateFn);const subIconNodeUpdateFn=IconNode.createSubIconsUpdateFn(nodeMapping);mergedNodes.call(subIconNodeUpdateFn);const rowGAttrsFn=IconNodeWithTable.createRowGAttrsFn(this.searchState);IconNodeWithTable.addTable(mergedNodes,rowGAttrsFn),chartUtil.quickTransition(mergedNodes.select("g.th"),headerGAttrsFn),chartUtil.quickTransition(mergedNodes.select("g.th tspan.label"),IconNode.headerLabelAttrs),chartUtil.quickTransition(mergedNodes,IconNode.nodeGAttrs),chartUtil.quickTransition(mergedNodes.select("g.th text.header-icon"),IconNode.headerIconAttrs)}donutToggle(node){this._state.expanded[node.id]?delete this._state.expanded[node.id]:this._state.expanded[node.id]=1,this.refresh()}isDonutExpanded(node){return this._state.expanded[node.id]}iconNodeBranchToggle(toggleNode){let toggleId;"right"===toggleNode.side?toggleId=toggleNode.iconNode.id:"left"===toggleNode.side&&(toggleId=toggleNode.iconNode.$parentId),this._state.branchCollapsed[toggleId]?delete this._state.branchCollapsed[toggleId]:this._state.branchCollapsed[toggleId]=1,this.refresh()}isIconNodeBranchExpanded(toggleNode){let toggleId;return"right"===toggleNode.side?toggleId=toggleNode.iconNode.id:"left"===toggleNode.side&&(toggleId=toggleNode.iconNode.$parentId),!this._state.branchCollapsed[toggleId]}renderDonutNodes(donutNodes,nodeMapping){const nodes=this.layers.ftnt.selectAll(`g.${DonutContainerNode.d3SelectorClass}`).data(donutNodes,BaseTopologyNode.d3KeyFn);nodes.exit().remove();const nodeGAttrsFn=DonutContainerNode.createNodeGAttrsFn(this.searchState),nodeEnter=nodes.enter().append("g").call(nodeGAttrsFn),toggleIconAttrsFn=Toggle.createIconAttrsFn(d=>this.isDonutExpanded(d)),toggleNodeContentFn=Toggle.createNodeContentFn(toggleIconAttrsFn,d=>this.donutToggle(d)),donutNodeContentFn=DonutContainerNode.createNodeContentFn(toggleNodeContentFn);nodeEnter.call(donutNodeContentFn);const mergedNodes=nodes.merge(nodeEnter),clickHandlerFn=this._createSelectionClickSetupFn(this._getDonutClickFn(nodeMapping)),piePathAttrsFn=DonutContainerNode.createPiePathAttrsFn(this._state.zoomState),piePathContentFn=DonutContainerNode.createPiePathContentFn(clickHandlerFn,piePathAttrsFn);mergedNodes.call(piePathContentFn),chartUtil.quickTransition(mergedNodes.select(`g.${Toggle.d3SelectorClass}`),Toggle.inDonutGAttrs),chartUtil.quickTransition(mergedNodes.select(`g.${Toggle.d3SelectorClass} text`),toggleIconAttrsFn),chartUtil.quickTransition(mergedNodes,nodeGAttrsFn),chartUtil.quickTransition(mergedNodes.select("text.donut-center-number"),DonutContainerNode.donutCenterNumberAttrs),chartUtil.quickTransition(mergedNodes.select("text.donut-center-text"),DonutContainerNode.donutCenterLabelAttrs)}renderSquarePackNodes(packNodes){this._renderSquarePackContainers(packNodes);const squareNodes=[];packNodes.forEach(node=>{squareNodes.push.apply(squareNodes,node.pack.children||[])}),this._renderSquareNodes(squareNodes)}_renderShapePackContainers(packNodes,ClassModel,svgShape){const packs=this.layers.pack.selectAll(`g.${ClassModel.d3SelectorClass}`).data(packNodes,BaseTopologyNode.d3KeyFn);packs.exit().remove();const packEnter=packs.enter().append("g").call(ClassModel.packGAttrs),packShapeAttrsFn=ClassModel.createPackShapeAttrsFn(this._state.zoomState),clickHandlerFn=this._createSelectionClickSetupFn(this._getPackClickFn());packEnter.append(svgShape).call(packShapeAttrsFn).call(clickHandlerFn);const iconAttrsFn=Toggle.createIconAttrsFn(d=>this.isDonutExpanded(d)),toggleNodeContentFn=Toggle.createNodeContentFn(iconAttrsFn,d=>this.donutToggle(d));packEnter.append("g").call(ClassModel.toggleGAttrs).call(toggleNodeContentFn);const mergedPacks=packs.merge(packEnter);chartUtil.quickTransition(mergedPacks.select(svgShape),packShapeAttrsFn),chartUtil.quickTransition(mergedPacks.select(`g.${Toggle.d3SelectorClass}`),ClassModel.toggleGAttrs),chartUtil.quickTransition(mergedPacks.select(`g.${Toggle.d3SelectorClass} text`),iconAttrsFn),chartUtil.quickTransition(mergedPacks,ClassModel.packGAttrs)}_renderSquarePackContainers(packNodes){return this._renderShapePackContainers(packNodes,SquarePackContainerNode,SquarePackContainerNode.svgShape)}_renderSquareNodes(nodes){return this._renderPackChildrenNodes(nodes,SquarePackContainerNode)}renderCirclePackNodes(packNodes){this._renderCirclePackContainers(packNodes);const circleNodes=[];packNodes.forEach(node=>{circleNodes.push.apply(circleNodes,node.pack.children||[])}),this._renderCircleNodes(circleNodes)}_renderCirclePackContainers(packNodes){return this._renderShapePackContainers(packNodes,CirclePackContainerNode,CirclePackContainerNode.svgShape)}_renderCircleNodes(nodes){return this._renderPackChildrenNodes(nodes,CirclePackContainerNode)}_renderPackChildrenNodes(shapeIconNodes,ClassModel){const nodes=this.layers.node.selectAll(`g.${ClassModel.d3ContentSelectorClass}`).data(shapeIconNodes,PackContainerNode.d3MemberKeyFn);nodes.exit().remove();const nodeEnter=nodes.enter().append("g"),nodeGAttrsFn=ClassModel.createNodeGAttrsFn(this.searchState),clickHandlerFn=this._createSelectionClickSetupFn(this._getPackChildrenClickFn()),mainShapeAttrsFn=ClassModel.createPackChildrenMainShapeAttrsFn(this._state.zoomState),masterIconSizeFn=ClassModel.createMasterIconSize(this._state.zoomState),masterIconDyFn=ClassModel.createMasterIconDy(this._state.zoomState),iconAttrsFn=ClassModel.createIconAttrsFn(this._state.zoomState,masterIconSizeFn,masterIconDyFn),nameAttrsFn=ClassModel.createDescriptionAttrsFn(this._state.zoomState,"name"),valueAttrsFn=ClassModel.createDescriptionAttrsFn(this._state.zoomState,"value"),badgeMainAttrsFn=ClassModel.createBadgeAttrsFn(this._state.zoomState,"main",masterIconSizeFn,masterIconDyFn),badgeEffectAttrsFn=ClassModel.createBadgeAttrsFn(this._state.zoomState,"effect",masterIconSizeFn,masterIconDyFn),nodeContent=ClassModel.createNodeContentFn(nodeGAttrsFn,mainShapeAttrsFn,clickHandlerFn,iconAttrsFn,nameAttrsFn,valueAttrsFn,badgeMainAttrsFn,badgeEffectAttrsFn);nodeEnter.call(nodeContent);const merged=nodes.merge(nodeEnter),_innerContentTransition=()=>{chartUtil.quickTransition(merged.select(`${ClassModel.svgShape}.${ClassModel.d3ContentSelectorClass}`),mainShapeAttrsFn),chartUtil.quickTransition(merged.select(`text.${ClassModel.d3PackChildIconSelectorClass}`),iconAttrsFn),chartUtil.quickTransition(merged.select("text.name"),nameAttrsFn),chartUtil.quickTransition(merged.select("text.value"),valueAttrsFn),chartUtil.quickTransition(merged.select(`text.${PackContainerNode.d3PackChildBadgeMainIconSelectorClass}`),badgeMainAttrsFn),chartUtil.quickTransition(merged.select(`text.${PackContainerNode.d3PackChildBadgeEffectIconSelectorClass}`),badgeEffectAttrsFn)};this.zoomSubscribe({id:`bubbleContentUpdate-by-${ClassModel.name}`,run:_innerContentTransition}),_innerContentTransition(),chartUtil.quickTransition(merged,nodeGAttrsFn)}renderMultiGroupNodes(multiGroupNodes){const nodes=this.layers.node.selectAll(`g.${MultiGroupNode.d3SelectorClass}`).data(multiGroupNodes,BaseTopologyNode.d3KeyFn);nodes.exit().remove();const multiGroupGAttrsFn=MultiGroupNode.createNodeGAttrsFn(this._state.zoomState,this.searchState),nodeEnter=nodes.enter().append("g").call(multiGroupGAttrsFn),mergedNodes=nodes.merge(nodeEnter),clickHandlerFn=this._createSelectionClickSetupFn(this._getMultiGroupClickFn());mergedNodes.call(clickHandlerFn),mergedNodes.call(MultiGroupNode.onD3SelectionEnterOrUpdate),chartUtil.quickTransition(mergedNodes,multiGroupGAttrsFn)}renderLinks(linkNodes){const linkPaths=this.layers.link.selectAll(`path.${LinkPath.d3SelectorClass}`).data(linkNodes,LinkPath.d3KeyFn);linkPaths.exit().remove();const linkPathFn=LinkPath.createLinkPathFn(),pathAttrsFn=LinkPath.createPathAttrsFn(this.searchState,linkPathFn),linkPathEnter=linkPaths.enter().append("path").call(pathAttrsFn);linkPathEnter.call(LinkPath.onD3SelectionEnter);const mergedLinkPaths=linkPaths.merge(linkPathEnter);chartUtil.quickTransition(mergedLinkPaths,pathAttrsFn);const linkBadges=linkNodes.filter(d=>d.linkBadge);this.renderLinkBadges(linkBadges,linkPathFn)}renderLinkBadges(linkNodes,linkPathFn){const linkBadges=this.layers.link.selectAll(`g.${LinkBadge.d3SelectorClass}`).data(linkNodes,LinkBadge.d3KeyFn);linkBadges.exit().remove();const badgeGFn=LinkBadge.createGAttrsFn(this.searchState,linkPathFn),linkBadgeEnter=linkBadges.enter().append("g").call(badgeGFn);linkBadgeEnter.call(LinkBadge.onD3SelectionEnter);const mergedLinkBadges=linkBadges.merge(linkBadgeEnter);chartUtil.quickTransition(mergedLinkBadges,badgeGFn),chartUtil.quickTransition(mergedLinkBadges.select(`text.${LinkBadge.d3MainTextClass}`),LinkBadge.mainIconAttr),chartUtil.quickTransition(mergedLinkBadges.select(`text.${LinkBadge.d3EffectTextClass}`),LinkBadge.effectIconAttr)}_afterRenderCompletion(keepZoomState){keepZoomState||this._zoomReset(),this.interactSetup&&this.interactSetup.forEach(type=>{if(type.handler){this.container.selectAll(`[interact-type="${type.name}"]`).each(type.handler)}})}_beforeRender(){this.interactCleanUp(this.container)}updateZoomState(bBox){const CONST=TOPOLOGY;if(bBox){const dx=bBox.x2-bBox.x1,dy=bBox.y2-bBox.y1,x=(bBox.x1+bBox.x2)/2,height=this.height-CONST.DIVISION.MARGIN.TOP,width=this.width-CONST.DIVISION.MARGIN.LEFT,fullViewScale=1/Math.max(dx/width,dy/height);fullViewScale<1?(this.zoom.scaleExtent([fullViewScale,CONST.ZOOM_EXTENT_UPPER_BOUND]),this._updateSize(this.width/fullViewScale,this.height/fullViewScale),this._state.zoomState.originalTransform=d3.zoomIdentity.translate(width/2-fullViewScale*x,CONST.DIVISION.MARGIN.TOP).scale(fullViewScale)):(this._updateSize(this.width,this.height),this._state.zoomState.originalTransform=d3.zoomIdentity),this._state.fullViewScale=fullViewScale}}_updateSize(width,height){[this.container,this.overlayRect].forEach(obj=>{obj&&obj.attr("width",width).attr("height",height)}),this.yellowOutline&&this.yellowOutline.attr("width",width*TOPOLOGY.SCALE.OUTLINE_FILTER).attr("height",height*TOPOLOGY.SCALE.OUTLINE_FILTER)}shouldBeVisible(treeNode){const node=treeNode.node;if(node.alwaysVisible)return!0;const parent=treeNode.parent;return parent?!this._state.branchCollapsed[parent.id]:!this._state.branchCollapsed[node.id]}shouldSkipChildren(treeNode){if(!treeNode.parent)return!1;const node=treeNode.node;return this._state.branchCollapsed[node.id]}toD3Data(){const result={$chartState:{divisionHeight:{},divisionMaxX:{},divisionMinX:{}},PackNodeSummary:{maxValue:void 0,minValue:void 0,isRadiusConstant:!1},CirclePackContainerNode:[],SquarePackContainerNode:[],MultiGroupNode:[],DonutNode:[],IconNode:[],IconGroupNode:[],Link:[],NodeMapping:{}},summary=result.PackNodeSummary;topologyParser.traverse(this.graph,this.packContainerFilterFn,!1,this.packContainerPreProcess.bind(this),summary),void 0!==summary.maxValue&&void 0!==summary.minValue&&(summary.packLayout=this._createPackLayout(summary.minValue,summary.maxValue,summary.isRadiusConstant)),topologyParser.traverse(this.graph,this.shouldBeVisible.bind(this),this.shouldSkipChildren.bind(this),this.processNode.bind(this),result);const $chartState=result.$chartState,allDivisionH=Object.keys($chartState.divisionHeight).map(k=>$chartState.divisionHeight[k]),allDivisionMaxX=Object.keys($chartState.divisionMaxX).map(k=>$chartState.divisionMaxX[k]);return result.boundingBox={x1:0,y1:0,x2:Math.max.apply(Math,allDivisionMaxX),y2:Math.max.apply(Math,allDivisionH)},this._reviseLinks(result),result}getHandler(treeNode){const node=treeNode.node;if("icon"===node.type)return Array.isArray(node.tableContent)?this._handleIconNodeWithTable:this._handleIconNode;if("icon-group"===node.type)return this._handleIconGroupNode;if("container"===node.type){if(["circle-pack","square-pack"].includes(node.subType))return this.isDonutExpanded(node)?"square-pack"===node.subType?this._handleSquarePackContainer:this._handleCirclePackContainer:this._handleDonutContainer;if("multi-group"===node.subType)return this._handleMultiGroup}return this._handleUnsupportedNode}_createPackLayout(min,max,isRadiusConstant){const rectSize=TOPOLOGY.DIVISION.WIDTH-2*TOPOLOGY.DIVISION.PADDING.H,maxR=rectSize/2;let minR=maxR/TOPOLOGY.MAX_MIN_BUBBLE_RATIO;const minDataR=Math.sqrt(min);if(minR=Math.max(minR,TOPOLOGY.MIN_BUBBLE_RADIUS,minDataR),isRadiusConstant){const specialMinR=maxR/Math.sqrt(max/min);minR=Math.max(minR,specialMinR)}const radiusFn=d3.scaleSqrt().domain([1,max]).range([minR,maxR]);return d3.pack().padding(TOPOLOGY.PADDING.BUBBLE).size([rectSize,rectSize]).radius(d=>radiusFn(d.value))}packNodeValueGetter(node){return node.value||1}packContainerFilterFn(treeNode){const node=treeNode.node;return"container"===node.type&&["circle-pack","square-pack"].includes(node.subType)}packContainerPreProcess(treeNode,summary){const contents=treeNode.node&&treeNode.node.contents||[];let sum=0;const allValues=new Set;contents.forEach(node=>{const value=this.packNodeValueGetter(node);allValues.size<2&&allValues.add(value),sum+=value,(void 0===summary.minValue||value<summary.minValue)&&(summary.minValue=value)}),(void 0===summary.maxValue||sum>summary.maxValue)&&(summary.maxValue=sum),summary.isRadiusConstant=1===allValues.size}processNode(treeNode,acc){const handler=this.getHandler(treeNode);if(!handler)throw new Error("No handler for treeNode",treeNode);handler.bind(this)(treeNode,acc)}_getStartY(result,obj,parent,division){const $chartState=result.$chartState;let startY=$chartState.divisionHeight[division]?$chartState.divisionHeight[division]:TOPOLOGY.DIVISION.MARGIN.TOP;if(parent&&parent.offset){const branchPlacement="branch"===obj.placement,allH=Object.keys($chartState.divisionHeight).filter(k=>branchPlacement&&k>division).map(k=>$chartState.divisionHeight[k]),maxH=Math.max.apply(Math,allH)||0;startY=Math.max(parent.offset.y,startY,maxH)}return startY}_createTreeNodeHandlers(){this._handleIconNode=this._createIconNodeHandler(IconNode),this._handleIconNodeWithTable=this._createIconNodeHandler(IconNodeWithTable),this._handleCirclePackContainer=this._createPackContainerHandler(CirclePackContainerNode),this._handleSquarePackContainer=this._createPackContainerHandler(SquarePackContainerNode)}_createIconNodeHandler(ClassModel){return(treeNode,result)=>{const node=treeNode.node,parent=treeNode.parent&&result.NodeMapping[treeNode.parent.id],division=treeNode.depth;result.IconNode=result.IconNode||[];const obj=new ClassModel(node,treeNode.parent&&treeNode.parent.id);result.IconNode.push(obj),result.NodeMapping[node.id]=obj;const divisionCenterX=TOPOLOGY.DIVISION.WIDTH*division+TOPOLOGY.DIVISION.WIDTH/2;let startY=this._getStartY(result,obj,parent,division);startY+=obj.topMargin,obj.offset={x:divisionCenterX-obj.width/2,y:startY};const $chartState=result.$chartState;$chartState.divisionHeight[division]=obj.offset.y+obj.height+TOPOLOGY.CHART_OBJECT.MARGIN.V,TopologyRenderer._updateDivisionBoundary($chartState,division,obj.offset.x,obj.offset.x+obj.width),parent&&this._addLink(result,treeNode)}}_handleIconGroupNode(treeNode,result){const node=treeNode.node,parent=treeNode.parent&&result.NodeMapping[treeNode.parent.id],division=treeNode.depth,obj=new IconGroupNode(node,treeNode.parent&&treeNode.parent.id);result.IconGroupNode.push(obj),result.NodeMapping[node.id]=obj;const divisionCenterX=TOPOLOGY.DIVISION.WIDTH*division+TOPOLOGY.DIVISION.WIDTH/2,startY=this._getStartY(result,obj,parent,division);obj.offset={x:divisionCenterX-obj.width/2,y:startY};const $chartState=result.$chartState;$chartState.divisionHeight[division]=obj.offset.y+obj.paddingTop+TOPOLOGY.CHART_OBJECT.MARGIN.V,(obj.members||[]).forEach(iconNode=>{result.IconNode=result.IconNode||[],result.IconNode.push(iconNode),result.NodeMapping[iconNode.id]=iconNode;let memberStartY=this._getStartY(result,iconNode,parent,division);memberStartY+=iconNode.topMargin,iconNode.offset={x:divisionCenterX-iconNode.width/2,y:memberStartY},$chartState.divisionHeight[division]=iconNode.offset.y+iconNode.height+TOPOLOGY.CHART_OBJECT.MARGIN.V,TopologyRenderer._updateDivisionBoundary($chartState,division,iconNode.offset.x,iconNode.offset.x+iconNode.width)}),parent&&this._addLink(result,treeNode)}_handleDonutContainer(treeNode,result){const node=treeNode.node,parent=treeNode.parent&&result.NodeMapping[treeNode.parent.id];let division;division=node.verticalPlacement?treeNode.depth-1:treeNode.depth;const groupingFn=DonutContainerNode.createDonutGroupingMethod(node.donutGroupByKey,node.donutGroupSumKey),obj=new DonutContainerNode(node,groupingFn);result.DonutNode.push(obj),result.NodeMapping[obj.id]=obj;const divisionCenterX=TOPOLOGY.DIVISION.WIDTH*division+TOPOLOGY.DIVISION.WIDTH/2;let startY=this._getStartY(result,obj,parent,division);node.verticalPlacement&&(startY+=TOPOLOGY.CHART_OBJECT.MARGIN.VERTICAL_PLACEMENT),obj.offset={x:divisionCenterX-obj.height/2,y:startY};const $chartState=result.$chartState;$chartState.divisionHeight[division]=obj.offset.y+obj.height+TOPOLOGY.CHART_OBJECT.MARGIN.V,TopologyRenderer._updateDivisionBoundary($chartState,division,obj.offset.x,divisionCenterX+obj.height/2),parent&&this._addLink(result,treeNode)}_createPackContainerHandler(ClassModel){return(treeNode,result)=>{const node=treeNode.node,contents=node.contents;if(!contents||!contents.length)return;if(!result.PackNodeSummary||!result.PackNodeSummary.packLayout)throw new Error("pack layout must be created first.");const packLayout=result.PackNodeSummary.packLayout,rootNode=d3.hierarchy({children:contents}).sum(d=>d.value).sort((a,b)=>b.value-a.value);packLayout(rootNode);const obj=new ClassModel({id:node.id,interactType:node.interactType,pack:rootNode});result[ClassModel.name].push(obj),result.NodeMapping[node.id]=obj;const parent=treeNode.parent&&result.NodeMapping[treeNode.parent.id];let division;division=node.verticalPlacement?treeNode.depth-1:treeNode.depth;const divisionCenterX=TOPOLOGY.DIVISION.WIDTH*division+TOPOLOGY.DIVISION.WIDTH/2;let startY;node.verticalPlacement?(startY=this._getStartY(result,null,null,division),startY+=TOPOLOGY.CHART_OBJECT.MARGIN.VERTICAL_PLACEMENT):(startY=this._getStartY(result,obj,parent,division),startY+=TOPOLOGY.TOGGLE_WIDTH),obj.setOffset({x:divisionCenterX-obj.height/2,y:startY},divisionCenterX);const $chartState=result.$chartState;$chartState.divisionHeight[division]=obj.offset.y+obj.height+TOPOLOGY.CHART_OBJECT.MARGIN.V,TopologyRenderer._updateDivisionBoundary($chartState,division,obj.offset.x,obj.offset.x+obj.width),parent&&this._addLink(result,treeNode)}}_handleMultiGroup(treeNode,result){const node=treeNode.node,parent=treeNode.parent&&result.NodeMapping[treeNode.parent.id],division=treeNode.depth,obj=new MultiGroupNode(node);result.MultiGroupNode.push(obj),result.NodeMapping[node.id]=obj;const divStartX=TOPOLOGY.DIVISION.WIDTH*division,startY=this._getStartY(result,obj,parent,division);obj.offset={x:divStartX+(TOPOLOGY.DIVISION.WIDTH-obj.width)/2,y:startY};const $chartState=result.$chartState;$chartState.divisionHeight[division]=obj.offset.y+obj.height+TOPOLOGY.CHART_OBJECT.MARGIN.V,TopologyRenderer._updateDivisionBoundary($chartState,division,obj.offset.x,obj.offset.x+obj.width),this._addLink(result,treeNode)}_addLink(result,treeNode){const node=treeNode.node,parent=treeNode.parent&&result.NodeMapping[treeNode.parent.id];let division;division=node.verticalPlacement?treeNode.depth-1:treeNode.depth;const parentTableRowId=node.parentNodePort;let dstPos;dstPos=node.verticalPlacement?parent.bottomMidpoint:Array.isArray(node.outgoingNodePort)&&node.outgoingNodePort.length>1?parent.center:parent.getRightMidpoint(parentTableRowId);const target=Object.assign({divisionHMargin:{},division:node.verticalPlacement?division:division-1},dstPos),outgoingPorts=Array.isArray(node.outgoingNodePort)?node.outgoingNodePort:[node.outgoingNodePort];outgoingPorts.length>1&&(target.skipMarginUpdate=!0);const srcNode=result.NodeMapping[node.id];outgoingPorts.forEach(port=>{let srcPos;srcPos=node.verticalPlacement?srcNode.topMidpoint:srcNode.getLeftMidpoint(port.id);const source=Object.assign({linkId:port.id,verticalPlacement:!!node.verticalPlacement,divisionHMargin:{},division:division},srcPos),link=new LinkPath(source,target,port);result.Link.push(link)})}_reviseLinks(result){const chartState=result.$chartState,divisionMinX=chartState.divisionMinX,divisionMaxX=chartState.divisionMaxX;result.Link.forEach(function(link){const srcMinX=divisionMinX[link.source.division],srcMaxX=divisionMaxX[link.source.division],dstMinX=divisionMinX[link.target.division],dstMaxX=divisionMaxX[link.target.division];Object.assign(link.source.divisionHMargin,{minX:srcMinX,maxX:srcMaxX}),link.target.skipMarginUpdate||Object.assign(link.target.divisionHMargin,{minX:dstMinX,maxX:dstMaxX})})}_handleUnsupportedNode(treeNode){ftnt_shared.log("Unsupported node, should add new handler, "+`${JSON.stringify(treeNode.node)}`)}_handleSkippedNode(treeNode){ftnt_shared.log("Skipped node, already handled by parent handler, "+`${JSON.stringify(treeNode.node)}`)}_overlayRect(selection){selection.attr("width",this.width).attr("height",this.height).attr("pointer-events","all").attr("class","overlay pannable").style("fill","none").on("click",this._overlayClicked())}_overlayClicked(){let that=this;return()=>{d3.event.defaultPrevented||that._isInZoomState()&&that._zoomReset()}}_zoomInit(){this._state.zoomState={originalTransform:null,currentTransform:null,lastTransform:null,currentZoomInPackId:null,currentZoomInPackChildId:null,currentZoomInDonutId:null,currentZoomInMultiGroupId:null,subscribers:[]},this.zoom=d3.zoom().scaleExtent([1,TOPOLOGY.ZOOM_EXTENT_UPPER_BOUND]).on("zoom",this._zoomCallback.bind(this)).on("end",this._zoomEndCallback.bind(this)),this.svg.call(this.zoom),this.container.on("mousedown dblclick",this._zoomIntercept.bind(this))}_zoomIntercept(){d3.select(d3.event.target).classed(TOPOLOGY.CLASS.CUSTOM_ZOOM)&&(d3.event.stopImmediatePropagation(),d3.event.preventDefault())}_zoomCallback(){const event=d3.event,eventTransform=event&&event.transform,currentTransform=this._state.zoomState.currentTransform||{};!eventTransform||currentTransform.x===eventTransform.x&&currentTransform.y===eventTransform.y&&currentTransform.k===eventTransform.k||(this._state.zoomState.currentTransform=eventTransform,this.container.attr("transform",eventTransform)),event&&event.sourceEvent&&this._resetZoomKeys(null)}_updateCursor(){const zoomState=this._state.zoomState;if(this.layers.pack){const selector="circle.circle-pack, rect.square-pack";this.layers.pack.selectAll(selector).each(function(d){const cursor=zoomState.currentZoomInPackId&&zoomState.currentZoomInPackId===d.id||zoomState.currentZoomInPackChildId?"zoom-out":"zoom-in";d3.select(this).style("cursor",cursor)})}this.layers.node&&(this.layers.node.selectAll("circle.circle-node, rect.square-node").each(function(d){const cursor=zoomState.currentZoomInPackChildId===d.data.id?"zoom-out":"zoom-in";d3.select(this).style("cursor",cursor)}),this.layers.node.selectAll("g.multi-group-node").each(function(d){const cursor=zoomState.currentZoomInMultiGroupId===d.id?"zoom-out":"zoom-in";d3.select(this).style("cursor",cursor)})),this.layers.ftnt&&this.layers.ftnt.selectAll("g.donut-container path").each(function(d){const cursor=zoomState.currentZoomInDonutId===d.parentId?"zoom-out":"zoom-in";d3.select(this).style("cursor",cursor)})}_zoomEndCallback(){this._updateCursor(),this._state.zoomState.subscribers.forEach(subscriber=>subscriber.run(this._state))}zoomSubscribe(subscriber){if(this._state.zoomState.subscribers.find(entry=>entry.id===subscriber.id))throw new Error(`Subcriber with ID ${subscriber.id} exists.`);this._state.zoomState.subscribers.push(subscriber)}zoomUnsubscribeAll(){this._state.zoomState.subscribers=[]}_unsetLastTransform(){this._state.zoomState.lastTransform=null}_setLastTransform(){this._state.zoomState.lastTransform=d3.zoomTransform(this.svg.node()),this.container.call(this.zoom.transform,this._state.zoomState.lastTransform)}_executeZoom(transform){transform||(transform=this._state.zoomState.lastTransform||this._state.zoomState.originalTransform,this._unsetLastTransform()),this.container.transition().duration(TOPOLOGY.TRANSITION_DURATION.ZOOM).call(this.zoom.transform,transform),this.svg.call(this.zoom.transform,transform)}_zoomReset(){this._resetZoomKeys(null),this._executeZoom(null)}_createSelectionClickSetupFn(clickFn){return selection=>{let timer;selection.on("click dblclick",function(){timer&&clearTimeout(timer);const context=this,args=arguments;timer=setTimeout(function(){clickFn.apply(context,args)},CLICK_DEBOUNCE_DELAY)})}}_getPackClickFn(){const that=this,zoomState=this._state.zoomState;return function(d){zoomState.currentZoomInPackId===d.id?that._zoomReset():(that._isInZoomState()||that._setLastTransform(),zoomState.currentZoomInPackId=d.id,that._zoomToPack(d))}}_getPackChildrenClickFn(){const that=this,zoomState=this._state.zoomState;return function(d){zoomState.currentZoomInPackChildId===d.data.id?that._zoomReset():(that._isInZoomState()||that._setLastTransform(),zoomState.currentZoomInPackChildId=d.data.id,that._zoomToPackChild(d))}}_getDonutClickFn(nodeMapping){const that=this,zoomState=this._state.zoomState;return function(d){const donutId=d.parentId;zoomState.currentZoomInDonutId===donutId?that._zoomReset():(that._isInZoomState()||that._setLastTransform(),zoomState.currentZoomInDonutId=donutId,that._zoomToDonut(nodeMapping[donutId]))}}_getMultiGroupClickFn(){const that=this,zoomState=this._state.zoomState;return function(d){const id=d.id;zoomState.currentZoomInMultiGroupId===id?that._zoomReset():(that._isInZoomState()||that._setLastTransform(),zoomState.currentZoomInMultiGroupId=id,that._zoomToMultiGroup(d))}}_isInZoomState(){return["currentZoomInPackId","currentZoomInPackChildId","currentZoomInDonutId","currentZoomInMultiGroupId"].some(key=>this._state.zoomState[key])}_resetZoomKeys(zoomKeyToKeep){["currentZoomInPackId","currentZoomInPackChildId","currentZoomInDonutId","currentZoomInMultiGroupId"].forEach(key=>{key!==zoomKeyToKeep&&(this._state.zoomState[key]=null)})}_zoomToPack(d){this._resetZoomKeys("currentZoomInPackId");const bBox=d.$boundingBox;if(bBox){const dx=bBox.x2-bBox.x1,dy=bBox.y2-bBox.y1,x=(bBox.x1+bBox.x2)/2,y=(bBox.y1+bBox.y2)/2,maxRatio=Math.max(dx/this.width,dy/this.height),scale=TOPOLOGY.SCALE.ZOOM.CLUSTER/maxRatio;this._executeZoom(d3.zoomIdentity.translate(this.width/2-scale*x,this.height/2-scale*y).scale(scale))}}_zoomToPackChild(d){this._resetZoomKeys("currentZoomInPackChildId");const diameter=2*d.r,maxRatio=Math.max(diameter/this.width,diameter/this.height),scale=TOPOLOGY.SCALE.ZOOM.BUBBLE/maxRatio;this._executeZoom(d3.zoomIdentity.translate(this.width/2-scale*d.x,this.height/2-scale*d.y).scale(scale))}_zoomToDonut(d){this._resetZoomKeys("currentZoomInDonutId");const offset=d.offset,height=d.height,half=height/2,dx=height,dy=height,x=offset.x+half,y=offset.y+half,maxRatio=Math.max(dx/this.width,dy/this.height),scale=TOPOLOGY.SCALE.ZOOM.DONUT/maxRatio;this._executeZoom(d3.zoomIdentity.translate(this.width/2-scale*x,this.height/2-scale*y).scale(scale))}_zoomToMultiGroup(d){this._resetZoomKeys("currentZoomInMultiGroupId");const maxRatio=Math.max(d.width/this.width,d.height/this.height),scale=TOPOLOGY.SCALE.ZOOM.BUBBLE/maxRatio,x=d.offset.x+d.width/2,y=d.offset.y+d.height/2;this._executeZoom(d3.zoomIdentity.translate(this.width/2-scale*x,this.height/2-scale*y).scale(scale))}static _updateDivisionBoundary(chartState,division,minX,maxX){chartState&&chartState.divisionMinX&&(!chartState.divisionMinX[division]||chartState.divisionMinX[division]>minX)&&(chartState.divisionMinX[division]=minX),chartState&&chartState.divisionMaxX&&(!chartState.divisionMaxX[division]||chartState.divisionMaxX[division]<maxX)&&(chartState.divisionMaxX[division]=maxX)}static svgBaseUrlPrefix($INJECTABLE$,$location){return id=>{const $base=angular.element("base");if(!$base.length)return`#${id}`;const href=$base.attr("href");return`${(href&&href.slice(0,-1)||"")+$location.url()}#${id}`}}}const fTopologyRenderer={bindings:{graph:"<",showDivisionLines:"<",interactSetup:"<",interactCleanUp:"&",searchState:"<",shrinkExecuteEvent:"<"},templateUrl:TEMPLATE_URL,controller:TopologyRenderer};ngModule.component("fTopologyRenderer",fTopologyRenderer)},function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-fabric-topology/f-topology-renderer.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<svg class="no-scroll flex-grow">\n    <defs></defs>\n    <g class="container"></g>\n</svg>')}]),module.exports=path},function(module,exports,__webpack_require__){"use strict";const topologyLib=__webpack_require__(8).topology,{SearchInformation:SearchInformation}=topologyLib,ngModule=__webpack_require__(35),Collectable=__webpack_require__(132),TEMPLATE_URL=__webpack_require__(733);ngModule.component("fTopologySearchHelp",{bindings:{searchInformation:"<"},templateUrl:TEMPLATE_URL,controller:class extends Collectable{constructor(){super()}$onInit($INJECTABLE$,$scope){return()=>{$scope.$watch("$ctrl.searchInformation",data=>{if(data&&!(data instanceof SearchInformation))throw new Error("SearchInformation instance expected.")})}}}})},function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-fabric-topology/f-topology-search-help.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<div class="search-help">\n    <h3>{{ :: $ctrl.searchInformation.title }}</h3>\n    <table class="table key-value">\n        <tbody>\n            <tr ng-repeat="searchSource in $ctrl.searchInformation.searchSources">\n                <td>\n                    <span>{{:: searchSource.label }}</span>\n                </td>\n                <td class="search-key">\n                    <span ng-repeat="searchKey in searchSource.searchKeys">\n                        \x3c!-- Put both spans on one line to avoid white space being added before the comma --\x3e\n                        <span class="text">{{:: searchKey }}</span><span ng-if="!$last">,</span>\n                    </span>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n</div>\n')}]),module.exports=path},function(module,exports,__webpack_require__){"use strict";const ngModule=__webpack_require__(35);const fRadioCard={controller:class{constructor($scope){$scope.$watch("$ctrl.group && $ctrl.group.model",newVal=>{this.value===newVal?this.selected=!0:this.selected=!1})}select(){this.group&&this.group.select(this.value)}},templateUrl:__webpack_require__(735),bindings:{value:"<"},require:{group:"^fRadioCardGroup"},transclude:{header:"radioCardHeader",content:"radioCardContent"}};ngModule.component("fRadioCard",fRadioCard);const fRadioCardGroup={controller:class{select(value){this.model=value}},templateUrl:__webpack_require__(736),bindings:{description:"<",model:"=?"},transclude:!0};ngModule.component("fRadioCardGroup",fRadioCardGroup)},function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-radio-card.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'<div class="radio-card" ng-class="{selected: $ctrl.selected}" ng-click="$ctrl.select()">\n    <div class="radio-card-toggle">\n        <f-icon ng-if="$ctrl.selected" class="fa-circle"></f-icon>\n        <f-icon ng-if="!$ctrl.selected" class="fa-circle-o"></f-icon>\n    </div>\n    <div class="radio-card-container">\n        <div class="radio-card-header" ng-transclude="header">\n        </div>\n        <div class="radio-card-content" ng-transclude="content">\n        </div>\n    </div>\n</div>')}]),module.exports=path},function(module,exports){var path="/.build/gui_shared_export/ng/directives/f-radio-card-group.html";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,'\n<div ng-if="$ctrl.description" class="radio-cards-description">\n    {{$ctrl.description}}\n</div>\n<div class="radio-cards" ng-transclude>\n</div>')}]),module.exports=path},function(module,exports,__webpack_require__){"use strict";__webpack_require__(738),__webpack_require__(739),__webpack_require__(740),__webpack_require__(132),__webpack_require__(227),__webpack_require__(741),__webpack_require__(742),module.exports={injector:__webpack_require__(131)}},function(module,exports,__webpack_require__){"use strict";var ngModule=__webpack_require__(35),ftnt_shared=__webpack_require__(8);function DashboardWidgetModel(params){this._id=params.id||ftnt_shared.util.uniqueID(),this._componentTag=params.componentTag,this.updateWidth(params.width||1),this.updateHeight(params.height||1),this.updateXPosition(params.xPosition),this.updateYPosition(params.yPosition),this._modelData={},params.modelData&&this.extendModelData(params.modelData)}DashboardWidgetModel.prototype.extendModelData=function(modelData){angular.extend(this._modelData,modelData)},DashboardWidgetModel.prototype.getModelData=function(){return this._modelData},DashboardWidgetModel.prototype.updateWidth=function(width){this._width=width},DashboardWidgetModel.prototype.getWidth=function(){return this._width},DashboardWidgetModel.prototype.updateRelativeWidth=function(relativeWidth){this._relativeWidth=relativeWidth},DashboardWidgetModel.prototype.getRelativeWidth=function(){return this._relativeWidth},DashboardWidgetModel.prototype.updateHeight=function(height){this._height=height},DashboardWidgetModel.prototype.getHeight=function(){return this._height},DashboardWidgetModel.prototype.updateRelativeHeight=function(relativeHeight){this._relativeHeight=relativeHeight},DashboardWidgetModel.prototype.getRelativeHeight=function(){return this._relativeHeight},DashboardWidgetModel.prototype.updateXPosition=function(xPosition){this._xPosition=xPosition},DashboardWidgetModel.prototype.getXPosition=function(){return this._xPosition},DashboardWidgetModel.prototype.updateYPosition=function(yPosition){this._yPosition=yPosition},DashboardWidgetModel.prototype.getYPosition=function(){return this._yPosition},DashboardWidgetModel.prototype.getID=function(){return this._id},DashboardWidgetModel.prototype.getComponentTag=function(){return this._componentTag},ngModule.factory("DashboardWidgetModel",function(){return DashboardWidgetModel})},function(module,exports,__webpack_require__){"use strict";var ngModule=__webpack_require__(35),ftnt_shared=__webpack_require__(8);ngModule.factory("lang",function($rootScope,$q,$sce){var translated={},reportedNotPrefixed={},sceGetTrustedHtml=$sce.getTrustedHtml,sceValueOf=$sce.valueOf,decoder=document.createElement("textarea");function Translated(value,trusted){if(!(this instanceof Translated))throw new Error("Please use the new keyword to create a new lang.Translated object");this.trusted=trusted,this.value=value}function lang(id,interpolate,silent){var result,trusted=!0;return id instanceof Translated?result=id:(lang._prefix&&id&&0!==id.indexOf(lang._prefix)&&!reportedNotPrefixed[id]&&(ftnt_shared.log.warn('Translated key is not prefixed with "'+lang._prefix+'": "'+id+'"'),reportedNotPrefixed[id]=!0),null==(result=ftnt_shared.lang.translate(id,null,{strict:!0,silent:silent}))&&(trusted=!1,result=id)),interpolate&&(result=lang.format(result,interpolate),trusted=trusted&&interpolate.every(function(value){return value instanceof Translated&&value.trusted||"number"==typeof value})),result=result instanceof Translated?result:translated[result]||new Translated(result,trusted),translated[result.value]=result,result}return $sce.valueOf=function(maybeTrusted){return maybeTrusted instanceof Translated&&(maybeTrusted=String(maybeTrusted),decoder.innerHTML=maybeTrusted,maybeTrusted=decoder.value),sceValueOf.call(this,maybeTrusted)},$sce.getTrustedHtml=function(value){if(value instanceof Translated){var trusted=value.trusted;value=String(value),trusted&&(value=$sce.trustAsHtml(value))}return sceGetTrustedHtml.call(this,value)},Translated.prototype.toString=function(){return String(this.value)},Translated.prototype.valueOf=function(){return this.value},Object.getOwnPropertyNames(String.prototype).forEach(function(functionName){var fn=String.prototype[functionName];"function"!=typeof fn||functionName in Translated.prototype||(Translated.prototype[functionName]=function(){return fn.apply(this.value||"",arguments)})}),$rootScope.$on("$routeChangeSuccess",function(){translated={}}),lang.format=ftnt_shared.lang.stringInterpolate,lang.getPrefixedKey=function(prefix,key){var translateOptions={strict:!0,silent:!0};Array.isArray(prefix)||(prefix=[prefix]);for(var i=0;i<prefix.length;i++)if(lang(prefix[i]+key,null,translateOptions).trusted)return prefix[i]+key;return key},lang.checkPrefixed=function(prefix){lang._prefix=prefix},lang.Translated=Translated,lang}),ngModule.directive("fLang",function(lang,$sce,$interpolate){return function(scope,element,attr){const originalStringValue=element[0].getAttribute("f-lang"),expressions=$interpolate(originalStringValue).expressions,shouldWatch=Array.isArray(expressions)&&expressions.length>0,unbind=scope.$watch(function(){return lang(attr.fLang)||""},function(value){value&&(element.html($sce.getTrustedHtml(value)),shouldWatch||unbind())})}}),ngModule.filter("lang",function(lang){return function(input,interpolate,silent){return lang(input=input||"",interpolate,silent)}}),ngModule.filter("langPrefixed",function(lang){return function(input,prefix,interpolate){return input=input||"",lang(lang.getPrefixedKey(prefix,input),interpolate)}})},function(module,exports,__webpack_require__){"use strict";const ngModule=__webpack_require__(35),ftnt_shared=__webpack_require__(8),dom=ftnt_shared.dom,slideUtil=ftnt_shared.slideUtil,log=ftnt_shared.log;function Slide($q,$rootScope,$compile,$templateCache,$http,lang){this._$q=$q,this._$rootScope=$rootScope,this._$compile=$compile,this._$templateCache=$templateCache,this._$http=$http,this._lang=lang,this._slides={}}function Dialog(slide){this._slide=slide}Slide.prototype.open=function(id,params){var deferred=this._$q.defer();void 0===params&&(params=id,id=Math.random().toString(36)),params.options=params.options||{};var open=function(html){var current={},element=document.createElement("f-slide-container");element.setAttribute("slide","$$slide"),current.scope=(params.parentScope||this._$rootScope).$new(),current.scope.insideSlide=!0,current.data=params.data,params.parentScope&&params.parentScope.$parent&&params.parentScope.$parent.$id>1&&log.warn("Slide opened with a scope that wasn't created via $rootScope.$new. This is known to cause various abnormalities."),angular.isFunction(params._scopePreconfigure)&&params._scopePreconfigure(current.scope),this._slides[id]=current;var title=params.options.title;title instanceof this._lang.Translated&&(params.options.title=title.trusted?title.valueOf():dom.escapeHTML(title.valueOf())),current.slide=new Sliderin(params.options),current.scope.$$slide=current.slide,element.innerHTML=html,current.slide.ready($contentContainer=>{const compiled=this._$compile(element);$contentContainer.append(element),compiled(current.scope),current.scope.$apply()}),current.slide.open(),this._$q.when(current.slide.promise).then(function(slideValue){deferred.resolve(current.data||slideValue)},function(slideReason){deferred.reject(current.data||slideReason)}).finally(function(){current.scope.$destroy(),delete this._slides[id]}.bind(this))}.bind(this);if(this._slides[id])throw new Error("Slide already defined: "+id);return params.templateUrl?this._get_template(params.templateUrl).then(open):open(params.template),deferred.promise},Slide.prototype.get=function(id){var slide=this._slides[id];if(!slide)throw new Error('Slide "'+id+"\" doesn't exist");return slide},Slide.prototype.alert=function(){return this._$q.when(slideUtil.alert.apply(null,arguments))},Slide.prototype.confirm=function(){return this._$q.when(slideUtil.confirm.apply(null,arguments))},Slide.prototype._get_template=function(template){var deferred=this._$q.defer(),html=this._$templateCache.get(template);return html?deferred.resolve(html):this._$http.get(template).success(function(data){this._$templateCache.put(template,data),deferred.resolve(data)}.bind(this)),deferred.promise},Dialog.prototype.open=function(id,params){ftnt_shared.log.warn('Using deprecated service "dialog"'),params.model=params.model||{};var settings={templateUrl:params.template,data:params.model,_scopePreconfigure:function(scope){this._scopePreconfigure(id,params,scope)}.bind(this),options:{title:params.title,fullHeight:params.full_height,buttons:!0}},labels=params.button_labels||[],classes=params.button_classes||[];return params.disable_ok_button?settings.options.okButton=!1:(settings.options.okButtonLabel=labels[0]||void 0,settings.options.okButtonClass=null==classes[0]?"primary":classes[0],settings.options.okButtonClick=function(){var handler=params.submit_handler,current=this._slide.get(id);"function"==typeof handler?(current.slide.setLoading(!0),handler(params.model,current.scope).then(function(){current.slide.done()}).finally(function(){current.slide.setLoading(!1)})):current.slide.done()}.bind(this)),params.disable_cancel_button?settings.options.cancelButton=!1:(settings.options.cancelButtonLabel=labels[1]||void 0,settings.options.cancelButtonClass=null==classes[1]?void 0:classes[1]),this._slide.open(id,settings)},Dialog.prototype._scopePreconfigure=function(id,params,scope){angular.extend(scope,params.scope),scope.model=params.model,scope.disable_dialog_button=function(index,disable){var current=this._slide.get(id),options={};options[0===index?"okButtonDisabled":"cancelButtonDisabled"]=disable,current.slide.update(options)}.bind(this),scope.hide_dialog_button=function(index,hide){var current=this._slide.get(id),options={};options[0===index?"okButton":"cancelButton"]=!hide,current.slide.update(options)}.bind(this),scope.change_dialog_title=function(title){this._slide.get(id).slide.update({title:title})}.bind(this),scope.change_dialog_button_labels=function(labels){this._slide.get(id).slide.update({okButtonLabel:labels[0],cancelButtonLabel:labels[1]})}.bind(this),scope.close_dialog=function(){this._slide.get(id).slide.close()}.bind(this)},ngModule.service({slide:Slide,dialog:Dialog})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(35).service({persistentStorage:class{constructor($window){this.haveLocalStorage="localStorage"in $window&&null!==$window.localStorage}get(key){var value;return(value=this.haveLocalStorage?localStorage.getItem(key):this._di.$cookies.get(key))?angular.fromJson(value):value}put($INJECTABLE$,$cookies){return(key,value)=>{if(value=angular.toJson(value),this.haveLocalStorage)try{return void localStorage.setItem(key,value)}catch(ex){this.haveLocalStorage=!1}$cookies.put(key,value)}}remove($INJECTABLE$,$cookies){return key=>{this.haveLocalStorage?localStorage.removeItem(key):$cookies.remove(key)}}}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(743),__webpack_require__(744)},function(module,exports,__webpack_require__){"use strict";const ngModule=__webpack_require__(35),TopologyDescriptionEntry=__webpack_require__(8).topology.TopologyDescriptionEntry;ngModule.service("topologyDescription",class{constructor(){this.dataLoadingMethod=null}get dataLoadingMethod(){return this._dataLoadingMethod}set dataLoadingMethod(fn){this._dataLoadingMethod=fn}async getData(params,skipCache){if(!this._dataLoadingMethod)throw new Error("Should configure dataLoadingMethod for topologyDescription service.");let topologyDescriptionEntry=await this.dataLoadingMethod(params,skipCache);if(!(topologyDescriptionEntry instanceof TopologyDescriptionEntry))throw new Error("Expected a TopologyDescriptionEntry instance returned from dataLoadingMethod.");return topologyDescriptionEntry}})},function(module,exports,__webpack_require__){"use strict";const ngModule=__webpack_require__(35),TOPOLOGY_KEY="fabricTopology";ngModule.factory("TopologyState",function(persistentStorage){return class{constructor(persistentId){this.persistentId=persistentId||"",this.searchQuery=null,this.params=null}getTopologyKey(){return this.persistentId+TOPOLOGY_KEY}getTopologyControl(type){const obj=persistentStorage.get(this.getTopologyKey());return obj&&obj[type]}setTopologyControl(type,value){const topologyKey=this.getTopologyKey();let obj=persistentStorage.get(topologyKey)||{};obj[type]=value,persistentStorage.put(topologyKey,obj)}setProperty(persistentStorageKey,key,value){this[key]=value,this.setTopologyControl(persistentStorageKey,value)}}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module){module.exports={queryParameters:{type:"object",properties:{displayMode:{type:"string",values:[{id:"physicalTopology",value:"physicalTopology",name:"Physical Topology"},{id:"logicalTopology",value:"logicalTopology",name:"Logical Topology",default:!0}]},filter:{type:"object",properties:{fortigate:{type:"boolean",values:[{name:"Show Feature",value:!0,default:!0},{name:"Hide Feature",value:!1}]},fortiswitch:{type:"boolean",values:[{name:"Show Feature",value:!0,default:!0,conditions:[{attribute:["displayMode"],any:["physicalTopology"]}]},{name:"Hide Feature",value:!1,conditions:[{attribute:["displayMode"],any:["physicalTopology"]}]}]},fortiap:{type:"boolean",values:[{name:"Show Feature",value:!0,default:!0,conditions:[{attribute:["displayMode"],any:["physicalTopology"]}]},{name:"Hide Feature",value:!1,conditions:[{attribute:["displayMode"],any:["physicalTopology"]}]}]},fortinac:{type:"boolean",values:[{name:"Show Feature",value:!0,default:!0},{name:"Hide Feature",value:!1}]},"generic-fabric-device":{type:"boolean",values:[{name:"Show Feature",value:!0,default:!0},{name:"Hide Feature",value:!1}]},fortiadc:{type:"boolean",values:[{name:"Show Feature",value:!0,default:!0},{name:"Hide Feature",value:!1}]},fortiauthenticator:{type:"boolean",values:[{name:"Show Feature",value:!0,default:!0},{name:"Hide Feature",value:!1}]},fortiddos:{type:"boolean",values:[{name:"Show Feature",value:!0,default:!0},{name:"Hide Feature",value:!1}]},forticasb:{type:"boolean",values:[{name:"Show Feature",value:!0,default:!0},{name:"Hide Feature",value:!1}]},fortimail:{type:"boolean",values:[{name:"Show Feature",value:!0,default:!0},{name:"Hide Feature",value:!1}]},fortiweb:{type:"boolean",values:[{name:"Show Feature",value:!0,default:!0},{name:"Hide Feature",value:!1}]},fortiwlc:{type:"boolean",values:[{name:"Show Feature",value:!0,default:!0},{name:"Hide Feature",value:!1}]},"sd-wan":{type:"boolean",values:[{name:"Show Feature",value:!0,default:!0},{name:"Hide Feature",value:!1}]}}},endpointDisplayMode:{type:"string",values:[{id:"traffic",name:"Device Traffic",value:"traffic",default:!0},{id:"count",name:"Device Count",value:"count"},{id:"os",name:"Device Operating System",value:"os"},{id:"hardware_vendor",name:"Device Hardware Vendor",value:"hardware_vendor"},{id:"risk",name:"Risk",value:"risk"},{id:"none",name:"No Devices",value:"none"}]},endpointGroupBy:{type:"string",values:[{id:"os_name",value:"os_name",conditions:[{attribute:["endpointDisplayMode"],any:["os"]}]},{id:"hardware_vendor",value:"hardware_vendor",conditions:[{attribute:["endpointDisplayMode"],any:["hardware_vendor"]}]}]},metric:{type:"string",values:[{id:"bytes",name:"Bytes",value:"bytes",default:!0,conditions:[{attribute:["endpointDisplayMode"],any:["traffic"]}]},{id:"packets",name:"Packets",value:"packets",conditions:[{attribute:["endpointDisplayMode"],any:["traffic"]}]},{id:"bandwidth",name:"Bandwidth",value:"bandwidth",conditions:[{attribute:["endpointDisplayMode"],any:["traffic"]}]},{id:"sessions",name:"Sessions",value:"sessions",conditions:[{attribute:["endpointDisplayMode"],any:["traffic","count","os","hardware_vendor"]}]},{id:"allRisks",name:"All Risks",value:"allRisks",conditions:[{attribute:["endpointDisplayMode"],any:["risk"]}]},{id:"compromisedHosts",name:"Compromised Hosts",value:"compromisedHosts",conditions:[{attribute:["endpointDisplayMode"],any:["risk"]}]},{id:"vulnerability",name:"Vulnerability",value:"vulnerability",conditions:[{attribute:["endpointDisplayMode"],any:["risk"]}]},{id:"threatScore",name:"Threat Score",value:"threatScore",conditions:[{attribute:["endpointDisplayMode"],any:["risk"]}]}]},upstreamDisplayMode:{type:"string",values:[{id:"none",name:"Internet",value:"none",default:!0},{id:"owner",name:"Owner",value:"owner",conditions:[{attribute:["endpointDisplayMode"],any:["traffic"]}]},{id:"destination",name:"IP Address",value:"destination",conditions:[{attribute:["endpointDisplayMode"],any:["traffic"]}]},{id:"country",name:"Country/Region",value:"country",conditions:[{attribute:["endpointDisplayMode"],any:["traffic"]}]}]}}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module){module.exports={items:[{name:"dashboard",icon:"fa-dashboard",items:[{name:"dashboard",dynamicItems:!0,reorderableItems:!0,deps:{runtime:{fmg_admin:!1}},sectionAction:{icon:"fa-plus",name:"addDashboard"},dynamicItemActions:[{icon:"fa-pencil",name:"editDashboard"},{icon:"fa-trash-o",name:"deleteDashboard"}],itemActions:[{icon:"fa-rotate-left",name:"resetDashboard"}]},{name:"dashboard_standalone",dynamicItems:!0,reorderableItems:!0,deps:{runtime:{fmg_admin:!1}},sectionAction:{icon:"fa-plus",name:"addStandaloneDashboard"},dynamicItemActions:[{icon:"fa-pencil",name:"editStandaloneDashboard"},{icon:"fa-trash-o",name:"deleteStandaloneDashboard"}],itemActions:[{icon:"fa-rotate-left",name:"resetDashboard"}]}]},{name:"Security Fabric",icon:"ftnt-security-fabric",items:[{name:"Physical Topology",path:"/ng/security-fabric/topology/physical",uri:"/ng/security-fabric/topology/physical"},{name:"Logical Topology",path:"/ng/security-fabric/topology/logical",uri:"/ng/security-fabric/topology/logical"},{name:"Security Rating",path:"/ng/security-rating",deps:{runtime:{in_multi_vdom_mode:!1}},uri:"/ng/security-rating"},{name:"Automation",path:"/ng/stitch",related:["/ng/stitch/edit"],uri:"/ng/stitch"},{name:"Fabric Connectors",path:"/ng/fabric-connector",uri:"/ng/fabric-connector"},{name:"External Connectors",path:"/ng/external-connector",deps:{runtime:{in_split_task_management_vdom:!1}},uri:"/ng/external-connector"}]},{name:"network",icon:"fa-arrows",items:[{name:"interface",path:"/ng/interface",related:["/ng/system/vdom-link/edit","/ng/system/zone/edit","/ng/network/interface/virtual-wire-pair"],uri:"/ng/interface"},{name:"dns",path:"/ng/network/dns/settings",uri:"/ng/network/dns/settings"},{name:"dnsdatabase",path:"/ng/network/dns",related:["/ng/network/dns/service/edit","/ng/network/dns/zones/edit"],deps:{runtime:{operation_mode:"NAT"}},uri:"/ng/network/dns"},{name:"wanopt_web_proxy",path:"/ng/network/explicit-proxy",deps:{runtime:{features:{"gui-explicit-proxy":!0},ngfw_policy_mode:!1}},uri:"/ng/network/explicit-proxy"},{name:"sniffer",path:"/ng/firewall/sniffer",deps:{runtime:{in_split_task_management_vdom:!1}},uri:"/ng/firewall/sniffer"},{name:"wan_load_balance",deps:{runtime:{operation_mode:"NAT",features:{"gui-wan-load-balancing":!0},in_split_task_management_vdom:!1}},items:[{name:"SD-WAN Zones",path:"/ng/network/virtualwan/members",related:["/ng/network/virtualwan/zone"],uri:"/ng/network/virtualwan/members"},{name:"vwl_service",path:"/ng/network/virtualwan/service",related:["/ng/network/virtualwan/service/edit"],uri:"/ng/network/virtualwan/service"},{name:"vwl_check",path:"/ng/network/virtualwan/health-check",related:["/ng/network/virtualwan/health-check/edit"],uri:"/ng/network/virtualwan/health-check"}]},{name:"route_table",path:"/ng/routing/static",deps:{runtime:{operation_mode:"Transparent"}},uri:"/ng/routing/static"},{name:"routing_static",items:[{name:"route_static",path:"/ng/routing/static",deps:{runtime:{operation_mode:"NAT"}},uri:"/ng/routing/static"},{name:"routerpolicy",path:"/ng/routing/policy",deps:{runtime:{operation_mode:"NAT",in_split_task_management_vdom:!1}},uri:"/ng/routing/policy"}]},{name:"routing_dynamic",items:[{name:"route_rip",path:"/ng/routing/rip",deps:{runtime:{operation_mode:"NAT"}},uri:"/ng/routing/rip"},{name:"route_ospf",path:"/ng/routing/ospf",deps:{runtime:{operation_mode:"NAT"}},uri:"/ng/routing/ospf"},{name:"route_bgp",path:"/ng/routing/bgp",deps:{runtime:{operation_mode:"NAT"}},uri:"/ng/routing/bgp"},{name:"route_multicast",path:"/ng/routing/multicast",deps:{runtime:{operation_mode:"NAT"}},uri:"/ng/routing/multicast"}],deps:{runtime:{in_split_task_management_vdom:!1}}},{name:"extender",path:"/ng/network/extender",deps:{runtime:{in_split_task_management_vdom:!1,features:{"gui-fortiextender-controller":!0,fortiextender:!0}}},uri:"/ng/network/extender"}]},{name:"system",icon:"fa-cog",items:[{name:"vdom",lang:"VDOM",items:[{name:"vdom",lang:"VDOM",path:"/ng/system/vdom",uri:"/ng/system/vdom"},{name:"global_res",path:"/ng/system/global-resources",uri:"/ng/system/global-resources"}]},{name:"admin",items:[{name:"admins",path:"/ng/admin",related:["/ng/admin/edit","/ng/admin/api-key"],uri:"/ng/admin"},{name:"admin_profile",path:"/ng/system/admin-profiles",uri:"/ng/system/admin-profiles"},{name:"firmware",path:"/ng/system/firmware",uri:"/ng/system/firmware"},{name:"settings",favoriteLang:"System Settings",path:"/ng/system/settings",uri:"/ng/system/settings"}]},{name:"sys_config",items:[{name:"ha",path:"/ng/system/ha/monitor",related:["/ng/system/ha/cluster","/ng/system/ha/peer"],uri:"/ng/system/ha/monitor"},{name:"snmp",path:"/ng/system/snmp",uri:"/ng/system/snmp"},{name:"virus_msg",path:"/ng/system/replacemsg",related:["/ng/system/replacemsg-image"],uri:"/ng/system/replacemsg"},{name:"rmsg_group",path:"/ng/system/replacemsg-group",related:["/ng/system/replacemsg"],deps:{runtime:{features:{"gui-replacement-message-groups":!0},vdom_only:!0}},uri:"/ng/system/replacemsg-group"},{name:"fortiguard_menu",path:"/ng/system/fortiguard",uri:"/ng/system/fortiguard"},{name:"Reputation",path:"/ng/system/reputation",deps:{runtime:{features:{"gui-domain-ip-reputation":!0},in_split_task_management_vdom:!1}},uri:"/ng/system/reputation"},{name:"custom_languages",path:"/ng/system/language",uri:"/ng/system/language"},{name:"Feature Visibility",path:"/ng/system/features",deps:{runtime:{in_split_task_management_vdom:!1}},uri:"/ng/system/features"}]},{name:"sys_certificate",items:[{name:"certification",path:"/ng/system/certificate",uri:"/ng/system/certificate"}]}]},{name:"policy_objects",icon:"ftnt-policy-objects",items:[{name:"policy",items:[{name:"Firewall Policy",path:"/ng/firewall/policy/policy/standard",deps:{runtime:{ngfw_policy_mode:!1}},uri:"/ng/firewall/policy/policy/standard"},{name:"Firewall Virtual Wire Pair Policy",path:"/ng/firewall/policy/policy/virtual-wire",deps:{runtime:{ngfw_policy_mode:!1,has_virtual_wire_pair:!0}},uri:"/ng/firewall/policy/policy/virtual-wire"},{name:"Security Policy",path:"/ng/firewall/policy/security-policy/standard",deps:{runtime:{ngfw_policy_mode:!0}},uri:"/ng/firewall/policy/security-policy/standard"},{name:"Security Virtual Wire Pair Policy",path:"/ng/firewall/policy/security-policy/virtual-wire",deps:{runtime:{has_virtual_wire_pair:!0,ngfw_policy_mode:!0}},uri:"/ng/firewall/policy/security-policy/virtual-wire"},{name:"explicit_nat",path:"/ng/firewall/policy/central-snat-map/standard",deps:{runtime:{ngfw_policy_mode_or_central_nat_enabled:!0,operation_mode:"NAT"}},uri:"/ng/firewall/policy/central-snat-map/standard"},{name:"SSL Inspection & Authentication",path:"/ng/firewall/policy/policy/standard",deps:{runtime:{ngfw_policy_mode:!0}},uri:"/ng/firewall/policy/policy/standard"},{name:"Virtual Wire Pair SSL Inspection & Authentication",path:"/ng/firewall/policy/policy/virtual-wire",deps:{runtime:{has_virtual_wire_pair:!0,ngfw_policy_mode:!0}},uri:"/ng/firewall/policy/policy/virtual-wire"},{name:"nat64_policy",path:"/ng/firewall/policy/policy64/standard",deps:{runtime:{operation_mode:"NAT"}},uri:"/ng/firewall/policy/policy64/standard"},{name:"nat46_policy",path:"/ng/firewall/policy/policy46/standard",deps:{runtime:{operation_mode:"NAT"}},uri:"/ng/firewall/policy/policy46/standard"},{name:"proxy_policy",path:"/ng/firewall/policy/proxy-policy/standard",deps:{runtime:{features:{"gui-explicit-proxy":!0},ngfw_policy_mode:!1}},uri:"/ng/firewall/policy/proxy-policy/standard"},{name:"Authentication Rules",path:"/ng/firewall/authentication",deps:{runtime:{ngfw_policy_mode:!1}},uri:"/ng/firewall/authentication"},{name:"multicast_policy",path:"/ng/firewall/policy/multicast-policy/standard",uri:"/ng/firewall/policy/multicast-policy/standard"},{name:"Local In Policy",path:"/ng/firewall/policy/local-in",deps:{runtime:{features:{"gui-local-in-policy":!0}}},uri:"/ng/firewall/policy/local-in"}]},{name:"acl_dos",items:[{name:"dospolicy",path:"/ng/firewall/policy/DoS-policy/standard",deps:{runtime:{features:{"gui-dos-policy":!0}}},uri:"/ng/firewall/policy/DoS-policy/standard"},{name:"dospolicy6",path:"/ng/firewall/policy/DoS-policy6/standard",deps:{runtime:{features:{"gui-ipv6":!0,"gui-dos-policy":!0}}},uri:"/ng/firewall/policy/DoS-policy6/standard"}]},{name:"objects",items:[{name:"addresses",path:"/ng/firewall/address",uri:"/ng/firewall/address"},{name:"cloudapp",path:"/ng/firewall/internet_service",related:["/ng/firewall/internet-service-name/edit"],uri:"/ng/firewall/internet_service"},{name:"applications",path:"/ng/utm/application/signature",related:["/ng/utm/application/group/edit","/ng/utm/application/custom/edit"],deps:{runtime:{ngfw_policy_mode:!0,global_vdom:!1}},uri:"/ng/utm/application/signature"},{name:"svc_service",path:"/ng/firewall/service",uri:"/ng/firewall/service"},{name:"schedules",path:"/ng/firewall/schedule",uri:"/ng/firewall/schedule"},{name:"vip",path:"/ng/firewall/virtual-ip",deps:{runtime:{central_nat_enabled:!1,operation_mode:"NAT"}},uri:"/ng/firewall/virtual-ip"},{name:"vip_dnat",path:"/ng/firewall/virtual-ip",deps:{runtime:{central_nat_enabled:!0}},uri:"/ng/firewall/virtual-ip"},{name:"ipool",path:"/ng/firewall/ip-pool",deps:{runtime:{operation_mode:"NAT"}},uri:"/ng/firewall/ip-pool"},{name:"protocol_options",path:"/ng/firewall/protocol-options/edit/default",related:["/ng/firewall/protocol-options"],deps:{runtime:{features:{"gui-multiple-utm-profiles":!1},global_vdom:!1}},uri:"/ng/firewall/protocol-options/edit/default"},{name:"protocol_options",path:"/ng/firewall/protocol-options",deps:{runtimeOneOf:[{global_vdom:!0},{features:{"gui-multiple-utm-profiles":!0}}]},uri:"/ng/firewall/protocol-options"}]},{name:"traffic_shaping",items:[{name:"traffic_shapers",path:"/ng/firewall/shaper",uri:"/ng/firewall/shaper"},{name:"shaper_policy",path:"/ng/firewall/policy/shaping-policy/standard",related:["/ng/firewall/shaper/policy/edit"],uri:"/ng/firewall/policy/shaping-policy/standard"},{name:"Traffic Shaping Profile",path:"/ng/firewall/shaper/profile",deps:{runtime:{global_vdom:!1}},uri:"/ng/firewall/shaper/profile"}],deps:{runtime:{features:{"gui-traffic-shaping":!0}}}},{name:"ldb",items:[{name:"ldb_vip",path:"/ng/firewall/load-balance/virtual-server",deps:{runtime:{operation_mode:"NAT"}},uri:"/ng/firewall/load-balance/virtual-server"},{name:"ldb_monitor",path:"/ng/firewall/load-balance/health-check",deps:{runtime:{operation_mode:"NAT"}},uri:"/ng/firewall/load-balance/health-check"}]}],deps:{runtime:{in_split_task_management_vdom:!1}}},{name:"utm",icon:"fa-lock",items:[{name:"avprofile",path:"/ng/utm/antivirus/profile/edit/{{mkey}}",pathInterpolation:{mkey:"profileDefaultName"},related:["/ng/utm/antivirus/profile"],deps:{runtime:{features:{"gui-antivirus":!0,"gui-multiple-utm-profiles":!1},global_vdom:!1}},uri:"/ng/utm/antivirus/profile/edit/{{mkey}}"},{name:"avprofile",path:"/ng/utm/antivirus/profile",pathInterpolation:{mkey:"profileDefaultName"},deps:{runtimeOneOf:[{global_vdom:!0},{features:{"gui-antivirus":!0,"gui-multiple-utm-profiles":!0}}]},uri:"/ng/utm/antivirus/profile"},{name:"web_profile",path:"/ng/utm/webfilter/profile",deps:{runtimeOneOf:[{global_vdom:!0},{features:{"gui-webfilter":!0,"gui-multiple-utm-profiles":!0},ngfw_policy_mode:!1}]},uri:"/ng/utm/webfilter/profile"},{name:"web_profile",path:"/ng/utm/webfilter/profile/edit/{{mkey}}",pathInterpolation:{mkey:"profileDefaultName"},deps:{runtime:{features:{"gui-webfilter":!0,"gui-multiple-utm-profiles":!1},ngfw_policy_mode:!1,global_vdom:!1}},uri:"/ng/utm/webfilter/profile/edit/{{mkey}}"},{name:"dns_profile",path:"/ng/utm/dnsfilter/edit/default",related:["/ng/utm/dnsfilter"],deps:{runtime:{features:{"gui-dnsfilter":!0,"gui-multiple-utm-profiles":!1},global_vdom:!1}},uri:"/ng/utm/dnsfilter/edit/default"},{name:"dns_profile",path:"/ng/utm/dnsfilter",deps:{runtimeOneOf:[{global_vdom:!0},{features:{"gui-dnsfilter":!0,"gui-multiple-utm-profiles":!0}}]},uri:"/ng/utm/dnsfilter"},{name:"app_list",path:"/ng/utm/appctrl/sensor/edit/{{mkey}}",pathInterpolation:{mkey:"profileDefaultName"},deps:{runtime:{features:{"gui-application-control":!0,"gui-multiple-utm-profiles":!1},ngfw_policy_mode:!1,global_vdom:!1}},uri:"/ng/utm/appctrl/sensor/edit/{{mkey}}"},{name:"app_list",path:"/ng/utm/appctrl/sensor",deps:{runtimeOneOf:[{global_vdom:!0},{features:{"gui-application-control":!0,"gui-multiple-utm-profiles":!0},ngfw_policy_mode:!1}]},uri:"/ng/utm/appctrl/sensor"},{name:"ips_sensor",path:"/ng/utm/ips/sensor/edit/{{mkey}}",pathInterpolation:{mkey:"profileDefaultName"},deps:{runtime:{features:{"gui-ips":!0,"gui-multiple-utm-profiles":!1},global_vdom:!1}},uri:"/ng/utm/ips/sensor/edit/{{mkey}}"},{name:"ips_sensor",path:"/ng/utm/ips/sensor",deps:{runtimeOneOf:[{global_vdom:!0},{features:{"gui-ips":!0,"gui-multiple-utm-profiles":!0}}]},uri:"/ng/utm/ips/sensor"},{name:"File Filter",path:"/ng/utm/filefilter/profile",deps:{runtimeOneOf:[{global_vdom:!0},{features:{"gui-file-filter":!0}}]},uri:"/ng/utm/filefilter/profile"},{name:"spamfilterprofile",path:"/ng/utm/email/profile",related:["/ng/utm/email/profile/edit"],deps:{runtime:{features:{"gui-spamfilter":!0,"gui-multiple-utm-profiles":!0}}},uri:"/ng/utm/email/profile"},{name:"spamfilterprofile",path:"/ng/utm/email/profile/edit/default",related:["/ng/utm/email/profile"],deps:{runtime:{features:{"gui-spamfilter":!0,"gui-multiple-utm-profiles":!1}}},uri:"/ng/utm/email/profile/edit/default"},{name:"voip_profile",path:"/ng/utm/voip/profile",related:["/ng/utm/voip/profile/edit/default"],deps:{runtime:{features:{"gui-voip-profile":!0,"gui-multiple-utm-profiles":!0}}},uri:"/ng/utm/voip/profile"},{name:"voip_profile",path:"/ng/utm/voip/profile/edit/default",deps:{runtime:{features:{"gui-voip-profile":!0,"gui-multiple-utm-profiles":!1}}},related:["/ng/utm/voip/profile"],uri:"/ng/utm/voip/profile/edit/default"},{name:"icap_profile",path:"/ng/utm/icap/profile",deps:{runtime:{features:{"gui-icap":!0}}},uri:"/ng/utm/icap/profile"},{name:"waf_profile",path:"/ng/utm/waf/profile/edit/default",deps:{runtime:{features:{"gui-waf-profile":!0,"gui-multiple-utm-profiles":!1},global_vdom:!1}},uri:"/ng/utm/waf/profile/edit/default"},{name:"waf_profile",path:"/ng/utm/waf/profile",deps:{runtimeOneOf:[{global_vdom:!0},{features:{"gui-waf-profile":!0,"gui-multiple-utm-profiles":!0}}]},uri:"/ng/utm/waf/profile"},{name:"ssl_ssh_inspection",path:"/ng/utm/ssl-ssh-profile/edit/certificate-inspection",deps:{runtime:{features:{"gui-multiple-utm-profiles":!1},ngfw_policy_mode:!1,global_vdom:!1}},related:["/ng/utm/ssl-ssh-profile"],uri:"/ng/utm/ssl-ssh-profile/edit/certificate-inspection"},{name:"ssl_ssh_inspection",path:"/ng/utm/ssl-ssh-profile",deps:{runtimeOneOf:[{global_vdom:!0,ngfw_policy_mode:!0},{features:{"gui-multiple-utm-profiles":!0}}]},uri:"/ng/utm/ssl-ssh-profile"},{name:"advanced",items:[{name:"application_signatures",path:"/ng/utm/application/signature",related:["/ng/utm/application/group/edit","/ng/utm/application/custom/edit"],deps:{runtime:{features:{"gui-application-control":!0},ngfw_policy_mode:!1,global_vdom:!1}},uri:"/ng/utm/application/signature"},{name:"ips_signatures",path:"/ng/utm/ips/signature",related:["/ng/utm/ips/custom/edit"],deps:{runtime:{features:{"gui-ips":!0},global_vdom:!1}},uri:"/ng/utm/ips/signature"},{name:"Web Rating Overrides",path:"/ng/utm/webfilter/localrating",related:["/utm/webfilter/custom-categories"],deps:{runtimeOneOf:[{ngfw_policy_mode:!0},{features:{"gui-webfilter":!0}}]},uri:"/ng/utm/webfilter/localrating"},{name:"Web Profile Overrides",path:"/ng/utm/webfilter/override",deps:{runtime:{features:{"gui-webfilter":!0}}},uri:"/ng/utm/webfilter/override"},{name:"icap_server",path:"/ng/utm/icap/server",deps:{runtime:{features:{"gui-icap":!0}}},uri:"/ng/utm/icap/server"},{name:"profile_grp_list",path:"/ng/utm/profile/group",related:["/utm/profile/group/edit"],deps:{runtime:{features:{"gui-dynamic-profile-display":!0}}},uri:"/ng/utm/profile/group"}]},{name:"gtp",items:[{name:"gtp_profile",path:"/ng/firewall/gtp",deps:{runtime:{carrier_mode:!0}},uri:"/ng/firewall/gtp"},{name:"gtp.apn",path:"/ng/gtp/apn",deps:{runtime:{carrier_mode:!0}},uri:"/ng/gtp/apn"},{name:"gtp.message-filter",path:"/ng/gtp/message-filter",deps:{runtime:{carrier_mode:!0}},uri:"/ng/gtp/message-filter"}]}],deps:{runtime:{in_split_task_management_vdom:!1}}},{name:"vpn",icon:"fa-laptop",items:[{name:"ipsec",items:[{name:"Overlay Controller VPN",path:"/ng/vpn/ocvpn/settings",deps:{runtime:{operation_mode:"NAT",features:{"gui-vpn":!0},vdom_disabled_or_root_vdom:!0,ngfw_policy_mode:!1}},uri:"/ng/vpn/ocvpn/settings"},{name:"vpn_tunnels",path:"/ng/vpn/ipsec",deps:{runtime:{features:{"gui-vpn":!0},has_vpn_reporting:!0}},uri:"/ng/vpn/ipsec"},{name:"IPsec Concentrator",path:"/ng/vpn/ipsec/concentrator",deps:{runtime:{operation_mode:"NAT",features:{"gui-policy-based-ipsec":!0,"gui-vpn":!0}}},uri:"/ng/vpn/ipsec/concentrator"},{name:"vpn_wizard",path:"/ng/vpn/ipsec/wizard",deps:{runtime:{operation_mode:"NAT",features:{"gui-vpn":!0},ngfw_policy_mode:!1}},uri:"/ng/vpn/ipsec/wizard"},{name:"IPsec Tunnel Template",path:"/ng/vpn/ipsec/template",deps:{runtime:{operation_mode:"NAT",features:{"gui-vpn":!0}}},uri:"/ng/vpn/ipsec/template"}]},{name:"ssl",items:[{name:"ssl_vpn_portal",path:"/ng/vpn/ssl/portal",related:["/ng/vpn/ssl/portal/edit"],deps:{runtime:{operation_mode:"NAT",features:{"gui-vpn":!0}}},uri:"/ng/vpn/ssl/portal"},{name:"ssl_config",path:"/ng/vpn/ssl/settings",deps:{runtime:{operation_mode:"NAT",features:{"gui-vpn":!0}}},uri:"/ng/vpn/ssl/settings"},{name:"ssl_bookmarks",path:"/ng/vpn/ssl/bookmarks",deps:{runtime:{operation_mode:"NAT",features:{"gui-vpn":!0}}},uri:"/ng/vpn/ssl/bookmarks"},{name:"ssl_realms",path:"/ng/vpn/ssl/realms",deps:{runtime:{operation_mode:"NAT",features:{"gui-vpn":!0}}},uri:"/ng/vpn/ssl/realms"}]},{name:"VPN Location Map",path:"/ng/vpn/map",deps:{runtime:{operation_mode:"NAT",features:{"gui-vpn":!0}}},uri:"/ng/vpn/map"}],deps:{runtime:{in_split_task_management_vdom:!1}}},{name:"User & Authentication",icon:"fa-user",items:[{name:"user",items:[{name:"user_local",path:"/ng/user/local",related:["/ng/user/wizard"],uri:"/ng/user/local"},{name:"usergrp",path:"/ng/user/group",uri:"/ng/user/group"},{name:"Guest Management",path:"/ng/user/guest",uri:"/ng/user/guest"}]},{name:"authentication",items:[{name:"ldap",path:"/ng/user/ldap",uri:"/ng/user/ldap"},{name:"radius",path:"/ng/user/radius",uri:"/ng/user/radius"},{name:"tacplus",path:"/ng/user/tacacs-plus",uri:"/ng/user/tacacs-plus"},{name:"userauth",path:"/ng/user/auth-settings",uri:"/ng/user/auth-settings"}]},{name:"ftoken",path:"/ng/user/ftoken",uri:"/ng/user/ftoken"},{name:"pki",path:"/ng/user/pki",deps:{runtime:{has_pki_users:!0}},uri:"/ng/user/pki"}],deps:{runtime:{in_split_task_management_vdom:!1}}},{name:"wanopt",icon:"fa-bolt",items:[{name:"wan_profile",items:[{name:"wanopt_profile",path:"/ng/wanopt/profile/edit/default",related:["/ng/wanopt/profile"],deps:{runtime:{features:{"gui-multiple-utm-profiles":!1}}},uri:"/ng/wanopt/profile/edit/default"},{name:"wanopt_profile",path:"/ng/wanopt/profile",deps:{runtime:{features:{"gui-multiple-utm-profiles":!0}}},uri:"/ng/wanopt/profile"}]},{name:"wan_peer",items:[{name:"wanopt_peer",path:"/ng/wanopt/peer",uri:"/ng/wanopt/peer"},{name:"wanopt_auth_grp",path:"/ng/wanopt/auth-group",uri:"/ng/wanopt/auth-group"}]},{name:"wanopt_cache",items:[{name:"wanopt_settings",path:"/ng/wanopt/cache",uri:"/ng/wanopt/cache"}]}],deps:{runtime:{ngfw_policy_mode:!1,in_split_task_management_vdom:!1,features:{"gui-wanopt-cache":!0}}}},{name:"ac_wireless_and_switch_controller",icon:"fa-wifi",items:[{name:"ac_wireless_network",items:[{name:"ac_managed_fortiap",path:"/ng/wifi/managed-ap",deps:{runtime:{features:{"gui-wireless-controller":!0,"wireless-controller":!0},wireless_mode_wtp:!1,full_capwap_wtp_support:!0}},uri:"/ng/wifi/managed-ap"},{name:"WiFi Clients",path:"/ng/wifi/client-monitor",deps:{runtime:{features:{"gui-wireless-controller":!0,"wireless-controller":!0},wireless_mode_wtp:!1}},uri:"/ng/wifi/client-monitor"},{name:"ac_wifi_regions",path:"/ng/wifi/region",deps:{runtime:{features:{"gui-wireless-controller":!0,"wireless-controller":!0},wireless_mode_wtp:!1,full_capwap_wtp_support:!0}},uri:"/ng/wifi/region"},{name:"ac_ssid_list",path:"/ng/interface/ssid",deps:{runtime:{features:{"gui-wireless-controller":!0,"wireless-controller":!0},wireless_mode_wtp:!1}},uri:"/ng/interface/ssid"},{name:"ac_profile",path:"/ng/wifi/ap-profile",deps:{runtime:{features:{"gui-ap-profile":!0,"gui-wireless-controller":!0,"wireless-controller":!0},wireless_mode_wtp:!1}},uri:"/ng/wifi/ap-profile"},{name:"ac_wids_profile",path:"/ng/wifi/wids",deps:{runtime:{features:{"gui-ap-profile":!0,"gui-wireless-controller":!0,"wireless-controller":!0},wireless_mode_wtp:!1,full_capwap_wtp_support:!0}},uri:"/ng/wifi/wids"}]},{name:"ac_switch_network",items:[{name:"FortiLink Interface",path:"/ng/switchctrl/fortilink",deps:{runtime:{operation_mode:"NAT",features:{"gui-switch-controller":!0,"switch-controller":!0}}},uri:"/ng/switchctrl/fortilink"},{name:"fortiswitch_sw",path:"/ng/switchctrl/managed-switch",related:["/ng/switchctrl/managed-switch","/ng/switchctrl/switch-group/edit"],deps:{runtime:{operation_mode:"NAT",features:{"gui-switch-controller":!0,"switch-controller":!0}}},uri:"/ng/switchctrl/managed-switch"}]},{name:"ac_switch_nac",items:[{name:"fortiswitch_vlan",path:"/ng/switchctrl/vlan",related:["/ng/interface/fsw/edit"],deps:{runtime:{operation_mode:"NAT",features:{"gui-switch-controller":!0,"switch-controller":!0}}},uri:"/ng/switchctrl/vlan"},{name:"fortiswitch_port",path:"/ng/switchctrl/ports",related:["/ng/switchctrl/ports/edit"],deps:{runtime:{operation_mode:"NAT",features:{"gui-switch-controller":!0,"switch-controller":!0}}},uri:"/ng/switchctrl/ports"}]},{name:"ac_switch_policies",items:[{name:"fortiswitch_nac_policy",path:"/ng/switchctrl/nac-policy",related:["/ng/switchctrl/nac-settings"],deps:{runtime:{operation_mode:"NAT",features:{"gui-switch-controller":!0,"switch-controller":!0}}},uri:"/ng/switchctrl/nac-policy"},{name:"fortiswitch_security_policy",path:"/ng/switchctrl/security-policy",related:["/ng/switchctrl/security-policy/edit"],deps:{runtime:{operation_mode:"NAT",features:{"gui-switch-controller":!0,"switch-controller":!0}}},uri:"/ng/switchctrl/security-policy"}]}],deps:{runtime:{in_split_task_management_vdom:!1}}},{name:"Log & Report",icon:"fa-bar-chart",items:[{name:"log_access_traffic",items:[{name:"log_access_traffic_forward",path:"/ng/log/view/traffic/forward",uri:"/ng/log/view/traffic/forward"},{name:"log_access_traffic_local",path:"/ng/log/view/traffic/local",uri:"/ng/log/view/traffic/local"},{name:"log_access_traffic_multicast",path:"/ng/log/view/traffic/multicast",deps:{runtime:{features:{"gui-multicast-policy":!0}}},uri:"/ng/log/view/traffic/multicast"},{name:"log_access_traffic_sniffer",path:"/ng/log/view/traffic/sniffer",uri:"/ng/log/view/traffic/sniffer"}],deps:{runtime:{in_split_task_management_vdom:!1}}},{name:"log_access_event",items:[{name:"Events",path:"/ng/log/view/event",related:["/ng/log/view/event/system","/ng/log/view/event/router","/ng/log/view/event/vpn","/ng/log/view/event/user","/ng/log/view/event/endpoint","/ng/log/view/event/ha","/ng/log/view/event/security-rating","/ng/log/view/event/wad","/ng/log/view/event/wireless","/ng/log/view/event/fortiextender","/ng/log/view/event/connector"],uri:"/ng/log/view/event"}]},{name:"log_access_utm",items:[{name:"log_access_av",path:"/ng/log/view/virus",deps:{runtime:{features:{"gui-antivirus":!0}}},uri:"/ng/log/view/virus"},{name:"log_access_web",path:"/ng/log/view/webfilter",deps:{runtimeOneOf:[{ngfw_policy_mode:!0},{features:{"gui-webfilter":!0}}]},uri:"/ng/log/view/webfilter"},{name:"log_access_ssl",path:"/ng/log/view/ssl",uri:"/ng/log/view/ssl"},{name:"log_access_dns_query",path:"/ng/log/view/dns",uri:"/ng/log/view/dns"},{name:"log_access_file-filter",path:"/ng/log/view/file-filter",deps:{runtime:{features:{"gui-file-filter":!0}}},uri:"/ng/log/view/file-filter"},{name:"log_access_waf",path:"/ng/log/view/waf",deps:{runtime:{features:{"gui-waf-profile":!0}}},uri:"/ng/log/view/waf"},{name:"log_access_app",path:"/ng/log/view/app-ctrl",deps:{runtimeOneOf:[{ngfw_policy_mode:!0},{features:{"gui-application-control":!0}}]},uri:"/ng/log/view/app-ctrl"},{name:"log_access_attack",path:"/ng/log/view/ips",deps:{runtime:{features:{"gui-ips":!0}}},uri:"/ng/log/view/ips"},{name:"log_access_anomaly",path:"/ng/log/view/anomaly",uri:"/ng/log/view/anomaly"},{name:"log_access_email",path:"/ng/log/view/emailfilter",deps:{runtime:{features:{"gui-spamfilter":!0}}},uri:"/ng/log/view/emailfilter"},{name:"log_access_voip",path:"/ng/log/view/voip",deps:{runtime:{features:{"gui-voip-profile":!0}}},uri:"/ng/log/view/voip"},{name:"log_access_gtp",path:"/ng/log/view/gtp",deps:{runtime:{carrier_mode:!0}},uri:"/ng/log/view/gtp"}],deps:{runtime:{in_split_task_management_vdom:!1}}},{name:"report_access",items:[{name:"report_local",path:"/ng/log/report",uri:"/ng/log/report"},{name:"report_forticloud",path:"/ng/log/report/forticloud",uri:"/ng/log/report/forticloud"}],deps:{runtime:{in_split_task_management_vdom:!1}}},{name:"logconfig",items:[{name:"logsetting",path:"/ng/log/settings",uri:"/ng/log/settings"},{name:"log_threat_weight",path:"/ng/log/threat-weight",deps:{runtime:{in_split_task_management_vdom:!1}},uri:"/ng/log/threat-weight"}]}]},{name:"monitor",icon:"fa-pie-chart",items:[{name:"network_monitor",items:[{name:"modem_monitor",path:"/ng/network/modem/monitor",deps:{runtime:{operation_mode:"NAT"}},uri:"/ng/network/modem/monitor"}]},{name:"wanopt_monitor",items:[{name:"wanopt_mon",path:"/ng/wanopt/stats/monitor",deps:{runtime:{features:{"gui-wanopt-cache":!0}}},uri:"/ng/wanopt/stats/monitor"},{name:"cache_monitor",path:"/ng/wanopt/cache/monitor",deps:{runtime:{features:{"gui-wanopt-cache":!0}}},uri:"/ng/wanopt/cache/monitor"},{name:"peer_monitor",path:"/ng/wanopt/peer/monitor",deps:{runtime:{features:{"gui-wanopt-cache":!0}}},uri:"/ng/wanopt/peer/monitor"}]}],deps:{runtime:{in_split_task_management_vdom:!1}}}]}}]]);